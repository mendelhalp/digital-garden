(this["webpackJsonpdigital-garden"]=this["webpackJsonpdigital-garden"]||[]).push([[0],{453:function(e,t,a){},455:function(e,t,a){},456:function(e,t,a){},689:function(e,t){},691:function(e,t){},701:function(e,t){},703:function(e,t){},728:function(e,t){},730:function(e,t){},731:function(e,t){},736:function(e,t){},738:function(e,t){},757:function(e,t){},769:function(e,t){},772:function(e,t){},814:function(e,t,a){},823:function(e,t,a){},824:function(e,t,a){},825:function(e,t,a){},826:function(e,t,a){},827:function(e,t,a){},829:function(e,t,a){},832:function(e,t,a){},833:function(e,t,a){},834:function(e,t,a){},835:function(e,t,a){},836:function(e,t,a){},837:function(e,t,a){},838:function(e,t,a){},932:function(e,t,a){},933:function(e,t,a){},934:function(e,t,a){},935:function(e,t,a){},936:function(e,t,a){},937:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),r=a.n(c),s=a(85),i=a.n(s),l=(a(453),a(4)),o=a.n(l),j=a(19),d=a(11),u=a(6),b=(a(454),a(455),a(41)),O=a(32),h=(a(456),a.p+"static/media/logo192.f73b2edd.png"),x=a(939),f=a(946),p=a(947),m=a(950),v=a(940),g=a(941),y=a(10),w=a.n(y),k=a(99),C=function e(t){Object(k.a)(this,e),this.id=t.id,this.email=t.get("username"),this.fname=t.get("fname"),this.lname=t.get("lname"),this.gardenId=t.get("gan").id,this.role=t.get("role"),this.parseUser=t},N=function(e){return"Enter"===e.key};var S=function(e){return/.+@.+\..+/.test(e)};a(814);var U=function(e){var t=e.showModal,a=e.showSignupModal,r=e.handleCloseLogin,s=e.onLogin,i=Object(c.useState)(""),l=Object(u.a)(i,2),j=l[0],b=l[1],O=Object(c.useState)(""),h=Object(u.a)(O,2),y=h[0],k=h[1],U=Object(c.useState)(!1),T=Object(u.a)(U,2),L=T[0],I=T[1],E=Object(c.useState)(!1),G=Object(u.a)(E,2),D=G[0],R=G[1],K=Object(c.useState)(""),M=Object(u.a)(K,2),F=M[0],H=M[1],P=Object(c.useState)(!1),B=Object(u.a)(P,2),z=B[0],Q=B[1],q=Object(c.useState)(!1),_=Object(u.a)(q,2),J=_[0],A=_[1],X=Object(c.useState)(!1),Y=Object(u.a)(X,2),V=Y[0],Z=Y[1],W=Object(c.useState)(!1),$=Object(u.a)(W,2),ee=$[0],te=$[1];function ae(){b(""),k(""),I(!1),H(""),Q(!1),A(!1),Z(!1),te(!1)}function ne(){return ce.apply(this,arguments)}function ce(){return(ce=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,w.a.User.logIn(j,y);case 4:t=e.sent,s(new C(t)),r(),ae(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),k(""),I(!0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function re(){r(),ae()}function se(e){N(e)&&j&&(te(!0),ne())}return Object(c.useEffect)((function(){""!==y&&I(!1)}),[y]),Object(c.useEffect)((function(){I(!1),S(j)||""===j?S(j)&&(R(!1),H(j)):R(!0)}),[j]),Object(c.useEffect)((function(){S(F)||""===F?S(F)&&A(!1):A(!0)}),[F]),Object(n.jsxs)(f.a,{size:"md",show:t,onHide:re,centered:!0,className:"c-login-modal",children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsx)(f.a.Title,{children:"\u05db\u05e0\u05d9\u05e1\u05d4"})}),Object(n.jsxs)(f.a.Body,{children:[Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Group,{controlId:"loginUserName",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}),Object(n.jsx)(p.a.Control,{type:"email",placeholder:"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9",value:j,className:D?"is-invalid":null,onChange:function(e){b(e.target.value)},onKeyPress:se}),Object(n.jsx)(p.a.Control.Feedback,{type:"invalid",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"})]}),Object(n.jsxs)(p.a.Group,{controlId:"loginPwd",className:"mb-0",children:[Object(n.jsx)(p.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d4"}),Object(n.jsx)(p.a.Control,{type:"password",value:y,onChange:function(e){k(e.target.value)},onKeyPress:se}),Object(n.jsx)(x.a,{variant:"link",onClick:function(){Q(!0)},children:"\u05e9\u05db\u05d7\u05ea\u05d9 \u05e1\u05d9\u05e1\u05de\u05d4"})]}),z&&Object(n.jsx)(m.a.Body,{children:Object(n.jsxs)(p.a.Group,{controlId:"forgotPwdEmail",children:[Object(n.jsx)(p.a.Label,{children:"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9 \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4"}),Object(n.jsx)(p.a.Control,{type:"email",value:F,className:J?"is-invalid":null,onChange:function(e){H(e.target.value)}}),Object(n.jsx)(p.a.Control.Feedback,{type:"invalid",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"}),Object(n.jsx)(x.a,{variant:"dark",className:"mt-2",onClick:function(){w.a.User.requestPasswordReset("email@example.com").then((function(){"undefined"!==typeof document&&(Z(!0),Q(!1),console.log("Reset password email sent successfully"))})).catch((function(e){"undefined"!==typeof document&&console.error("Error while creating request to reset user password",e)}))},children:"\u05d0\u05e4\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4"})]})}),V&&Object(n.jsx)(p.a.Label,{children:"\u05e0\u05e9\u05dc\u05d7 \u05de\u05d9\u05d9\u05dc \u05dc\u05d0\u05d9\u05e4\u05d5\u05e1 \u05e1\u05d9\u05e1\u05de\u05d4"})]}),L?Object(n.jsx)(v.a,{variant:"danger",children:"\u05de\u05d9\u05d9\u05dc \u05d0\u05d5 \u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd"}):null]}),Object(n.jsxs)(f.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"link",className:"ml-auto",onClick:function(){re(),a()},children:"\u05e2\u05d3\u05d9\u05d9\u05df \u05dc\u05d0 \u05e8\u05e9\u05d5\u05de\u05d9\u05dd?"}),Object(n.jsx)(x.a,{variant:"secondary",onClick:re,children:"\u05e1\u05d2\u05d9\u05e8\u05d4"}),Object(n.jsxs)(x.a,{variant:"warning",onClick:ne,children:[Object(n.jsx)("span",{className:ee&&!L?"sr-only":"",children:"\u05db\u05e0\u05d9\u05e1\u05d4"}),ee&&!L&&Object(n.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})]})]})]})},T=Object(c.createContext)(null),L=a(942),I=a(445);function E(){return(E=Object(d.a)(o.a.mark((function e(t,a,n){var c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=w.a.Object.extend("Gan"),(r=new c).set("name",t),r.set("year",a),r.set("logo",new w.a.File(n.name,n)),e.next=7,r.save();case 7:return s=e.sent,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(e,t,a){return E.apply(this,arguments)};function D(){return(D=Object(d.a)(o.a.mark((function e(t,a,n,c,r,s){var i,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new w.a.Query(new w.a.Object.extend("Gan")).get(s);case 2:return i=e.sent,(l=new w.a.User).set("username",t),l.set("email",t),l.set("role",n),l.set("gan",i),l.set("fname",c),l.set("lname",r),l.set("password",a),e.next=13,l.signUp();case 13:return j=e.sent,e.abrupt("return",j);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=function(e,t,a,n,c,r){return D.apply(this,arguments)};var K=function(e){return/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/.test(e)},M=function(e){var t=e.showModal,a=e.onLogin,r=e.handleCloseSignup,s=Object(c.useContext)(T),i=Object(c.useState)(""),l=Object(u.a)(i,2),j=l[0],b=l[1],h=Object(c.useState)(""),y=Object(u.a)(h,2),k=y[0],N=y[1],U=Object(c.useState)(""),E=Object(u.a)(U,2),D=E[0],M=E[1],F=Object(c.useState)(""),H=Object(u.a)(F,2),P=H[0],B=H[1],z=Object(c.useState)(""),Q=Object(u.a)(z,2),q=Q[0],_=Q[1],J=Object(c.useState)(""),A=Object(u.a)(J,2),X=A[0],Y=A[1],V=Object(c.useState)(""),Z=Object(u.a)(V,2),W=Z[0],$=Z[1],ee=Object(c.useState)(""),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useState)(""),re=Object(u.a)(ce,2),se=re[0],ie=re[1],le=Object(c.useState)(""),oe=Object(u.a)(le,2),je=oe[0],de=oe[1],ue=Object(c.useState)(!1),be=Object(u.a)(ue,2),Oe=be[0],he=be[1],xe=Object(c.useState)(!1),fe=Object(u.a)(xe,2),pe=fe[0],me=fe[1],ve=Object(c.useState)(!1),ge=Object(u.a)(ve,2),ye=ge[0],we=ge[1],ke=Object(c.useState)(!1),Ce=Object(u.a)(ke,2),Ne=Ce[0],Se=Ce[1],Ue=Object(c.useState)(!1),Te=Object(u.a)(Ue,2),Le=Te[0],Ie=Te[1];function Ee(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.User.logIn(D,P);case 3:t=e.sent,a(new C(t)),De(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error while login");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function De(){URL.revokeObjectURL(je),r(),b(""),N(""),M(""),B(""),_(""),Y(""),$(""),ne(""),ie(""),de(""),Se(!1),Ie(!1)}function Re(){return(Re=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(q,X,se);case 2:return t=e.sent,e.next=5,R(W,"Dd123456","parent",ae,"",t.id);case 5:return e.next=7,R(D,P,"manager",j,k,t.id);case 7:Ee();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(c.useEffect)((function(){(function(){if(j&&k&&D&&P&&q&&X&&W&&ae)return!0})()&&S(D)&&K(P)?(we(!0),he(!1),me(!1)):(S(D)||""===D?S(D)&&(he(!1),ye&&we(!1)):(he(!0),ye&&we(!1)),K(P)||""===P?K(P)&&(me(!1),ye&&we(!1)):(me(!0),ye&&we(!1)))}),[j,k,D,P,q,X,W,ae]),s)return Object(n.jsx)(O.a,{to:"/"});var Ke=je?Object(n.jsx)(m.a,{children:Object(n.jsx)(m.a.Img,{src:je})}):null;return Object(n.jsxs)(f.a,{size:"md",show:t,onHide:De,centered:!0,className:"c-signup-modal",children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsx)(f.a.Title,{children:"\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05d0\u05ea\u05e8 \u05d4\u05d2\u05df \u05d4\u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9"})}),Object(n.jsxs)(f.a.Body,{children:[Object(n.jsxs)(v.a,{show:Le,variant:"info",children:[Object(n.jsx)(v.a.Heading,{as:"h5",children:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05dc\u05d4\u05d5\u05e8\u05d9\u05dd"}),Object(n.jsx)("hr",{}),Object(n.jsxs)(p.a,{as:L.a,children:[Object(n.jsxs)(p.a.Group,{as:I.a,className:"mb-0",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9"}),Object(n.jsx)(p.a.Control,{placeholder:W,disabled:!0})]}),Object(n.jsxs)(p.a.Group,{as:I.a,className:"mb-0",children:[Object(n.jsx)(p.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d4"}),Object(n.jsx)(p.a.Control,{placeholder:"Dd123456",disabled:!0})]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"d-flex justify-content-end",children:Object(n.jsx)(x.a,{onClick:function(){Ie(!1),function(){Re.apply(this,arguments)}()},variant:"outline-info",children:"\u05e8\u05e9\u05de\u05ea\u05d9 \u05d0\u05ea \u05d4\u05e4\u05e8\u05d8\u05d9\u05dd"})})]}),Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formUserFname",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd"}),Object(n.jsx)(p.a.Control,{type:"text",value:j,onChange:function(e){b(e.target.value)}})]}),Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formUserLname",children:[Object(n.jsx)(p.a.Label,{children:"\u05de\u05e9\u05e4\u05d7\u05d4"}),Object(n.jsx)(p.a.Control,{type:"text",value:k,onChange:function(e){N(e.target.value)}})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formUserEmail",children:[Object(n.jsx)(p.a.Label,{children:"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9"}),"              ",Object(n.jsx)(p.a.Control,{type:"email",value:D,className:Oe?"is-invalid":null,onChange:function(e){M(e.target.value),$("horim@".concat(e.target.value.split("@")[0],".com"))}}),Object(n.jsx)(p.a.Control.Feedback,{type:"invalid",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"})]}),Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formUserPwd",children:[Object(n.jsx)(p.a.Label,{children:"\u05e1\u05d9\u05e1\u05de\u05d4"}),Object(n.jsx)(p.a.Control,{type:"password",value:P,className:pe?"is-invalid":null,onChange:function(e){B(e.target.value)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:"\u05e1\u05d9\u05e1\u05de\u05d4 \u05e6\u05e8\u05d9\u05db\u05d4 \u05dc\u05d4\u05d9\u05d5\u05ea \u05de\u05e2\u05dc 8 \u05ea\u05d5\u05d5\u05d9\u05dd \u05d5\u05dc\u05d4\u05db\u05d9\u05dc: \u05d0\u05d5\u05ea \u05d2\u05d3\u05d5\u05dc\u05d4, \u05d0\u05d5\u05ea \u05e7\u05d8\u05e0\u05d4 \u05d5\u05de\u05e1\u05e4\u05e8."})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formGardenName",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd \u05d4\u05de\u05d5\u05e1\u05d3"}),"                     ",Object(n.jsx)(p.a.Control,{type:"text",value:q,onChange:function(e){_(e.target.value),ne("\u05d4\u05d5\u05e8\u05d9 ".concat(e.target.value))}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:"\u05dc\u05d3\u05d5\u05d2\u05de\u05d4: \u05d2\u05df \u05d4\u05e9\u05d5\u05e9\u05e0\u05d9\u05dd"})]}),Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formGardenYear",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05e0\u05ea \u05dc\u05d9\u05de\u05d5\u05d3\u05d9\u05dd"}),Object(n.jsx)(p.a.Control,{type:"text",value:X,onChange:function(e){Y(e.target.value)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:'\u05dc\u05d3\u05d5\u05d2\u05de\u05d4: \u05ea\u05e9\u05e4"\u05d0'})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formParentsEmail",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9 \u05dc\u05d4\u05d5\u05e8\u05d9\u05dd"}),Object(n.jsx)(p.a.Control,{type:"text",value:W,onChange:function(e){$(e.target.value)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:"\u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d9\u05e0\u05d5\u05d9"})]}),Object(n.jsxs)(p.a.Group,{as:I.a,controlId:"formParentsFname",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd \u05d7\u05e9\u05d1\u05d5\u05df \u05d4\u05d5\u05e8\u05d9\u05dd"}),Object(n.jsx)(p.a.Control,{type:"text",value:ae,onChange:function(e){ne(e.target.value)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:"\u05e0\u05d9\u05ea\u05df \u05dc\u05e9\u05d9\u05e0\u05d5\u05d9"})]})]}),Object(n.jsxs)(p.a.Row,{children:[Object(n.jsxs)(p.a.Group,{as:I.a,children:[Object(n.jsx)(p.a.File,{id:"formGardenLogo",label:"","data-browse":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05dc\u05d5\u05d2\u05d5",accept:"image/*",custom:!0,onChange:function(e){var t=e.target.files[0],a=URL.createObjectURL(t);ie(t),de(a)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:se?"\u05e0\u05d1\u05d7\u05e8\u05d4 \u05ea\u05de\u05d5\u05e0\u05d4":"\u05de\u05d5\u05de\u05dc\u05e5 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05dc\u05d5\u05d2\u05d5 \u05e9\u05d9\u05d5\u05e4\u05d9\u05e2 \u05d1\u05d3\u05e4\u05d9 \u05d4\u05e7\u05e9\u05e8"})]}),se&&Object(n.jsxs)(p.a.Group,{as:I.a,children:[Ke,se&&null===Ke&&Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})})]})]})]})]}),Object(n.jsxs)(f.a.Footer,{className:"flex-nowrap",children:[Object(n.jsx)(x.a,{variant:"secondary",className:"w-50",onClick:De,disabled:Ne,children:"\u05e1\u05d2\u05d9\u05e8\u05d4"}),Object(n.jsxs)(x.a,{variant:"warning",className:"w-50",type:"button",disabled:!ye,onClick:function(){Se(!0),Ie(!0)},children:[Object(n.jsx)("span",{className:Ne&&"sr-only",children:"\u05d4\u05e8\u05e9\u05de\u05d4"}),Ne&&Object(n.jsx)(g.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})]})]})]})},F=function(e){var t=Object(c.useState)(!1),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],j=l[1],d=Object(c.useContext)(T),b=Object(c.useState)(!!d),f=Object(u.a)(b,2),p=f[0],m=f[1],v=e.onLogin;function g(e){v(e),m(!0)}return p?Object(n.jsx)(O.a,{to:"my-garden"}):Object(n.jsxs)("div",{className:"p-home",children:[Object(n.jsxs)("div",{className:"main-content",children:[Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{className:"logo-img",src:h,alt:"logo"})}),Object(n.jsx)("div",{className:"main-text",children:Object(n.jsxs)("div",{className:"text",children:[Object(n.jsx)("h2",{children:"\u05d4\u05d2\u05df \u05d4\u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9"}),Object(n.jsx)("h5",{children:"\u05d4\u05e7\u05e9\u05e8 \u05e9\u05dc\u05da \u05e2\u05dd \u05d4\u05d4\u05d5\u05e8\u05d9\u05dd"}),Object(n.jsx)("h5",{children:"\u05e0\u05e8\u05d0\u05d4 \u05d0\u05d7\u05e8\u05ea!"})]})})]}),Object(n.jsxs)("div",{className:"buttons",children:[Object(n.jsx)(x.a,{variant:"outline-warning",size:"lg",onClick:function(){s(!0)},children:"\u05db\u05e0\u05d9\u05e1\u05d4"})," ",Object(n.jsx)(x.a,{variant:"warning",size:"lg",onClick:function(){j(!0)},children:"\u05d4\u05e8\u05e9\u05de\u05d4"})]}),Object(n.jsx)(U,{showModal:r,showSignupModal:function(){j(!0)},handleCloseLogin:function(){s(!1)},onLogin:g}),Object(n.jsx)(M,{showModal:o,handleCloseSignup:function(){j(!1)},onLogin:g})]})},H=a(943),P=(a(823),a(23)),B=a(24),z=function(e){var t=e.gallery,a=e.handleEdit,c=e.handleDeleteClick,r=e.handlePublish,s=e.activeUser,i=t.id,l=t.title,o=t.isReady,j=t.images&&Object.values(t.images).map((function(e){return e.url}))[0];return Object(n.jsx)("div",{className:"c-gallery-card",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(b.b,{to:"/galleries/"+i,children:[j?Object(n.jsx)(m.a.Img,{variant:"top",src:j}):null,Object(n.jsx)(m.a.Title,{className:"text-center",children:l})]}),s&&"manager"===s.role&&Object(n.jsxs)(m.a.Footer,{children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(p.a.Check,{type:"switch",variant:"warning",id:"galleryStatus".concat(i),label:o?"\u05d2\u05dc\u05d5\u05d9":"\u05d8\u05d9\u05d5\u05d8\u05d4",checked:o,onChange:function(){return r(t)}})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(I.a,{onClick:function(){a(t)},children:Object(n.jsx)(P.a,{icon:B.e})}),Object(n.jsx)(I.a,{onClick:function(){c(t)},children:Object(n.jsx)(P.a,{icon:B.h})})]})]})]})})},Q=(a(824),a(825),function(e){var t=e.dafKesher,a=e.handleEdit,c=e.handleDeleteClick,r=e.handleDuplicate,s=e.handlePublish,i=e.activeUser,l=t.id,o=t.title,j=t.isReady,d=t.hebDate;return Object(n.jsx)("div",{className:"c-daf-kesher-card",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(b.b,{to:"/dapey-kesher/"+l,children:[Object(n.jsx)(m.a.Title,{className:"text-center",children:o}),Object(n.jsx)(m.a.Text,{className:"text-center",children:d})]}),i&&"manager"===i.role&&Object(n.jsxs)(m.a.Footer,{children:[Object(n.jsx)(I.a,{children:Object(n.jsx)(p.a.Check,{type:"switch",variant:"warning",id:"dafKesherStatus".concat(l),label:j?"\u05d2\u05dc\u05d5\u05d9":"\u05d8\u05d9\u05d5\u05d8\u05d4",checked:j,onChange:function(){return s(t)}})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(I.a,{onClick:function(){r(t)},children:Object(n.jsx)(P.a,{icon:B.d})}),Object(n.jsx)(I.a,{onClick:function(){a(t)},children:Object(n.jsx)(P.a,{icon:B.e})}),Object(n.jsx)(I.a,{onClick:function(){c(t)},children:Object(n.jsx)(P.a,{icon:B.h})})]})]})]})})}),q=Object(c.createContext)(null),_=function(e){var t=e.data,a=Object(c.useContext)(T),r=Object(c.useContext)(q);if(!t)return Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})});if(!a)return Object(n.jsx)(O.a,{to:"/"});var s=Object.values(t.dapeyKesher).sort((function(e,t){return t.date-e.date})).filter((function(e,t){return t<6})).map((function(e){return Object(n.jsx)(I.a,{className:"py-2",md:12,lg:6,children:Object(n.jsx)(Q,{dafKesher:e,activeUser:a})},e.id)})),i=Object.values(t.galleries).filter((function(e,t){return t<4})).map((function(e){var t=e.id;return Object(n.jsx)(I.a,{className:"py-2",md:12,lg:6,children:Object(n.jsx)(z,{gallery:e,activeUser:a})},t)}));return Object(n.jsx)("div",{className:"p-my-gan",children:Object(n.jsxs)(H.a,{children:[Object(n.jsxs)(L.a,{className:"mx-0 header",children:[Object(n.jsx)(I.a,{sm:9,children:Object(n.jsx)("h2",{className:"name",children:r.name})}),Object(n.jsx)(I.a,{sm:3,className:"p-0",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{src:r.logo,alt:"logo"})})})]}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(I.a,{md:6,className:"mb-3",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(m.a.Header,{as:"h5",children:[Object(n.jsx)("span",{children:"\u05d3\u05e4\u05d9 \u05e7\u05e9\u05e8"}),Object(n.jsx)(P.a,{icon:B.g})]}),Object(n.jsx)(m.a.Body,{children:Object(n.jsx)(L.a,{children:s})}),Object(n.jsx)("a",{href:"#/dapey-kesher",children:Object(n.jsx)(m.a.Footer,{className:"text-center",children:Object(n.jsx)(P.a,{icon:B.a})})})]})}),Object(n.jsx)(I.a,{md:6,className:"mb-3",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(m.a.Header,{as:"h5",children:[Object(n.jsx)("span",{children:"\u05d2\u05dc\u05e8\u05d9\u05d5\u05ea"}),Object(n.jsx)(P.a,{icon:B.f})]}),Object(n.jsx)(m.a.Body,{children:Object(n.jsx)(L.a,{children:i})}),Object(n.jsx)("a",{href:"#/galleries",children:Object(n.jsx)(m.a.Footer,{className:"text-center",children:Object(n.jsx)(P.a,{icon:B.a})})})]})})]})]})})},J=(a(826),a(827),function(e){var t=e.onClick;return Object(n.jsx)("div",{className:"c-add-main-card",children:Object(n.jsx)(m.a,{onClick:t,children:Object(n.jsx)(m.a.Title,{className:"text-center",children:"+"})})})});function A(){return(A=Object(d.a)(o.a.mark((function e(t,a,n){var c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=w.a.Object.extend("DafKesher"),(r=new c).set("title",a),r.set("gan",t),r.set("date",new Date(n)),r.set("data",{studyTopics:[],messages:[]}),e.next=8,r.save();case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=function(e,t,a){return A.apply(this,arguments)};function Y(){return(Y=Object(d.a)(o.a.mark((function e(t,a,n,c){var r,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w.a.Object.extend("DafKesher"),s=new w.a.Query(r),e.next=4,s.get(t);case 4:return(i=e.sent).set("title",a),i.set("date",new Date(n)),i.set("isReady",c),e.next=10,i.save();case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e,t,a,n){return Y.apply(this,arguments)};function Z(){return(Z=Object(d.a)(o.a.mark((function e(t,a){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.a.Object.extend("Gallery"),(c=new n).set("title",a),c.set("gan",t),e.next=6,c.save();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var W=function(e,t){return Z.apply(this,arguments)};function $(){return($=Object(d.a)(o.a.mark((function e(t,a,n){var c,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=w.a.Object.extend("Gallery"),r=new w.a.Query(c),e.next=4,r.get(t);case 4:return(s=e.sent).set("title",a),s.set("isReady",n),e.next=9,s.save();case 9:return i=e.sent,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=function(e,t,a){return $.apply(this,arguments)},te=["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05d6","\u05d7","\u05d8"],ae=["\u05d9","\u05db","\u05dc","\u05de","\u05e0","\u05e1","\u05e2","\u05e4","\u05e6"];var ne=function(e){var t,n=a(828)(e),c=n.year,r=n.month,s=n.date,i=function(e){for(var t=e%1e3,a=[],n=parseInt(t/400),c=0;c<n;c++)a.push("\u05ea");return t%=400,0!==parseInt(t/300)&&a.push("\u05e9"),t%=300,0!==parseInt(t/200)&&a.push("\u05e8"),t%=200,0!==parseInt(t/100)&&a.push("\u05e7"),t%=100,0!==parseInt(t/10)&&a.push(ae[parseInt(t/10)-1]),t%10!==0&&a.push(te[t%10-1]),a.length>1?a.splice(-1,0,'"'):a.push("'"),a.join("")}(c),l=(t=r,[0,3,6,8,11,14,17].includes(c%19)||6!==t?["\u05ea\u05e9\u05e8\u05d9","\u05d7\u05e9\u05d5\u05df","\u05db\u05e1\u05dc\u05d5","\u05d8\u05d1\u05ea","\u05e9\u05d1\u05d8","\u05d0\u05d3\u05e8 \u05d0'","\u05d0\u05d3\u05e8 \u05d1'","\u05e0\u05d9\u05e1\u05df","\u05d0\u05d9\u05d9\u05e8","\u05e1\u05d9\u05d5\u05df","\u05ea\u05de\u05d5\u05d6","\u05d0\u05d1","\u05d0\u05dc\u05d5\u05dc"][t-1]:"\u05d0\u05d3\u05e8");return function(e){var t=[];0!==parseInt(e/10)&&t.push(ae[parseInt(e/10)-1]),e%10!==0&&t.push(te[e%10-1]),t.length>1?t.splice(-1,0,'"'):t.push("'");var a=t.join("");return'\u05d9"\u05d4'===a?a='\u05d8"\u05d5':'\u05d9"\u05d5'===a&&(a='\u05d8"\u05d6'),a}(s)+" "+l+" "+i},ce=function e(t){Object(k.a)(this,e),this.id=t.id,this.title=t.get("title"),this.date=t.get("date"),this.data=t.get("data"),this.isReady=t.get("isReady"),this.hebDate=ne(t.get("date"))},re=function e(t){Object(k.a)(this,e),this.id=t.id,this.title=t.get("title"),this.isReady=t.get("isReady"),this.parseGallery=t},se=function(e){var t,a=e.data,r=e.cardType,s=e.showModal,i=e.handleUpdate,l=e.closeModal,j=e.cleanDataToEdit,b=Object(c.useContext)(q),O=Object(c.useState)(""),h=Object(u.a)(O,2),m=h[0],g=h[1],y=Object(c.useState)(""),w=Object(u.a)(y,2),k=w[0],C=w[1],S=Object(c.useState)(!1),U=Object(u.a)(S,2),T=U[0],L=U[1];function I(){g(""),C(""),l(),L(!1),j()}function E(){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(o.a.mark((function e(){var t,n,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dafKesher"!==r){e.next=19;break}if(m&&k){e.next=5;break}L(!0),e.next=17;break;case 5:if(n=a?"update":"add",a){e.next=12;break}return e.next=9,X(b.parseGarden,m,k);case 9:t=e.sent,e.next=15;break;case 12:return e.next=14,V(a.id,m,k,a.isReady);case 14:t=e.sent;case 15:i(n,new ce(t)),I();case 17:e.next=38;break;case 19:if("gallery"!==r){e.next=38;break}if(m){e.next=24;break}L(!0),e.next=38;break;case 24:if(s=a?"update":"add",a){e.next=31;break}return e.next=28,W(b.parseGarden,m);case 28:c=e.sent,e.next=34;break;case 31:return e.next=33,ee(a.id,m);case 33:c=e.sent;case 34:l=new re(c),a&&(l.images=a.images),i(s,l),I();case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){"dafKesher"===r?N(e)&&m&&k&&E():"gallery"===r&&N(e)&&m&&E()}return Object(c.useEffect)((function(){if("object"===typeof a){if(g(a.title),"dafKesher"===r){var e=a.date.toLocaleString().split("."),t="".concat(e[2].split(",")[0],"-").concat(1===e[1].length?"0"+e[1]:e[1],"-").concat(1===e[0].length?"0"+e[0]:e[0]);C(t)}}else g(""),C("")}),[a,r]),"dafKesher"===r?t=a?"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d3\u05e3 \u05e7\u05e9\u05e8":"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d3\u05e3 \u05e7\u05e9\u05e8 \u05d7\u05d3\u05e9":"gallery"===r&&(t=a?"\u05e2\u05e8\u05d9\u05db\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d2\u05dc\u05e8\u05d9\u05d4":"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d2\u05dc\u05e8\u05d9\u05d4 \u05d7\u05d3\u05e9\u05d4"),Object(n.jsxs)(f.a,{size:"sm",show:s,onHide:I,centered:!0,className:"c-main-card-editor-modal",children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsx)(f.a.Title,{children:t})}),Object(n.jsxs)(f.a.Body,{children:[Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Group,{controlId:"title",children:[Object(n.jsx)(p.a.Label,{children:"\u05db\u05d5\u05ea\u05e8\u05ea"}),Object(n.jsx)(p.a.Control,{type:"text",value:m,onChange:function(e){g(e.target.value)},onKeyPress:D})]}),"dafKesher"===r?Object(n.jsxs)(p.a.Group,{controlId:"date",children:[Object(n.jsx)(p.a.Label,{children:"\u05ea\u05d0\u05e8\u05d9\u05da"}),Object(n.jsx)(p.a.Control,{type:"date",value:k,onChange:function(e){C(e.target.value)},onKeyPress:D})]}):null]}),T?Object(n.jsx)(v.a,{variant:"danger",children:"\u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea"}):null]}),Object(n.jsxs)(f.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:I,children:"\u05e1\u05d2\u05d9\u05e8\u05d4"}),Object(n.jsx)(x.a,{variant:"warning",onClick:E,children:"\u05e9\u05de\u05d9\u05e8\u05d4"})]})]})},ie=a(447);function le(){return(le=Object(d.a)(o.a.mark((function e(t){var a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.a.Object.extend("DafKesher"),n=new w.a.Query(a),e.next=4,n.get(t);case 4:return c=e.sent,e.next=7,c.destroy();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){return le.apply(this,arguments)};function je(){return(je=Object(d.a)(o.a.mark((function e(t){var a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.a.Object.extend("Gallery"),n=new w.a.Query(a),e.next=4,n.get(t);case 4:return c=e.sent,e.next=7,c.destroy();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){return je.apply(this,arguments)};function ue(){return(ue=Object(d.a)(o.a.mark((function e(t){var a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.a.Object.extend("Image"),n=new w.a.Query(a),e.next=4,n.get(t);case 4:return c=e.sent,e.next=7,c.destroy();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=function(e){return ue.apply(this,arguments)};function Oe(){return(Oe=Object(d.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.a.Object.extend("DafKesher"),new w.a.Query(n).get(t).then((function(e){e.set("data",a),e.save().then((function(e){}),(function(e){}))})),e.abrupt("return","");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=function(e,t){return Oe.apply(this,arguments)};var xe=function(e){var t=e.fullData,a=e.data,c=e.dafKesherId,r=e.objectType,s=e.showModal,i=e.closeModal,l=e.cleanDataToEdit,u=e.handleUpdate;function b(){i(),l()}function O(){return(O=Object(d.a)(o.a.mark((function e(){var n,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("\u05d3\u05e3 \u05e7\u05e9\u05e8"!==r){e.next=8;break}return e.next=3,oe(a.id);case 3:n=e.sent,u("delete",n),b(),e.next=25;break;case 8:if("\u05d2\u05dc\u05e8\u05d9\u05d4"!==r){e.next=16;break}return e.next=11,de(a.id);case 11:s=e.sent,u("delete",s),b(),e.next=25;break;case 16:if("\u05ea\u05de\u05d5\u05e0\u05d4"!==r){e.next=24;break}return e.next=19,be(a.id);case 19:i=e.sent,u("delete",i),b(),e.next=25;break;case 24:"\u05d7\u05d5\u05de\u05e8 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9"!==r&&"\u05d4\u05d5\u05d3\u05e2\u05d4"!==r||((l=Object(j.a)({},t))[a.type]=Object(ie.a)(t[a.type]),l[a.type].splice(a.index,1),he(c,l).then((function(){u(a.type,l[a.type]),b()})));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(f.a,{size:"md",show:s,onHide:b,backdrop:"static",keyboard:!1,centered:!0,className:"c-delete-warning-modal",children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsxs)(f.a.Title,{children:["\u05de\u05d7\u05d9\u05e7\u05ea ",r]})}),Object(n.jsxs)(f.a.Body,{className:"text-center",children:[Object(n.jsxs)("h5",{children:["\u05d4\u05e0\u05da \u05de\u05e0\u05e1\u05d4 \u05dc\u05de\u05d7\u05d5\u05e7 ",r,a.title&&Object(n.jsxs)("span",{className:"font-weight-bold",children:[" ",a.title]}),","]}),Object(n.jsx)("div",{children:"\u05e4\u05e2\u05d5\u05dc\u05d4 \u05d6\u05d5 \u05d0\u05d9\u05e0\u05e0\u05d4 \u05e0\u05d9\u05ea\u05e0\u05ea \u05dc\u05d1\u05d9\u05d8\u05d5\u05dc"})]}),Object(n.jsxs)(f.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:b,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),Object(n.jsx)(x.a,{variant:"warning",onClick:function(){return O.apply(this,arguments)},children:"\u05de\u05d7\u05d9\u05e7\u05d4"})]})]})},fe=function(e){var t=e.data,a=e.onUpdate,r=Object(c.useContext)(T),s=Object(c.useContext)(q),i=Object(c.useState)(!1),l=Object(u.a)(i,2),b=l[0],h=l[1],x=Object(c.useState)(!1),f=Object(u.a)(x,2),p=f[0],m=f[1],v=Object(c.useState)(""),y=Object(u.a)(v,2),w=y[0],k=y[1];if(!r)return Object(n.jsx)(O.a,{to:"/"});if(!s)return Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})});function C(e){k(e),h(!0)}function N(e){k(e),m(!0)}function S(e){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(s.parseGarden,t.title,t.date);case 2:return a=e.sent,e.next=5,he(a.id,t.data);case 5:a.data=t.data,D("add",new ce(a));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return G.apply(this,arguments)}function G(){return(G=Object(d.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.title,c=t.date,r=t.isReady,e.next=3,V(a,n,c,!r);case 3:s=e.sent,D("update",new ce(s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,n){var c=Object(j.a)({},t.dapeyKesher);"delete"!==e?c[n.id]=n:delete c[n.id],a("dapeyKesher",c)}var R=r&&"manager"===r.role?Object(n.jsx)(I.a,{className:"py-2",md:6,lg:3,children:Object(n.jsx)(J,{onClick:function(){h(!0)}})}):null,K=t?Object.values(t.dapeyKesher).sort((function(e,t){return t.date-e.date})).map((function(e){return Object(n.jsx)(I.a,{className:"py-2",md:6,lg:3,children:Object(n.jsx)(Q,{dafKesher:e,handleEdit:C,handleDeleteClick:N,activeUser:r,handleDuplicate:S,handlePublish:E})},e.id)})):null;return Object(n.jsxs)("div",{className:"p-dapey-kesher",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsxs)(L.a,{className:"mx-0 header",children:[Object(n.jsxs)(I.a,{sm:9,children:[Object(n.jsx)("div",{className:"name",children:s.name}),Object(n.jsx)("h2",{children:"\u05d3\u05e4\u05d9 \u05d4\u05e7\u05e9\u05e8 \u05e9\u05dc\u05e0\u05d5"})]}),Object(n.jsx)(I.a,{sm:3,className:"p-0",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{src:s.logo,alt:"logo"})})})]}),Object(n.jsxs)(L.a,{className:"align-items-stretch",children:[R,K]})]}),Object(n.jsx)(se,{data:w,cardType:"dafKesher",showModal:b,handleUpdate:D,closeModal:function(){h(!1)},cleanDataToEdit:function(){k("")}}),Object(n.jsx)(xe,{data:w,objectType:"\u05d3\u05e3 \u05e7\u05e9\u05e8",showModal:p,handleUpdate:D,closeModal:function(){return m(!1)},cleanDataToEdit:function(){k("")}})]})},pe=(a(829),function(e){var t=e.data,a=e.onUpdate,r=Object(c.useContext)(T),s=Object(c.useContext)(q),i=Object(c.useState)(!1),l=Object(u.a)(i,2),b=l[0],h=l[1],x=Object(c.useState)(!1),f=Object(u.a)(x,2),p=f[0],m=f[1],v=Object(c.useState)(""),y=Object(u.a)(v,2),w=y[0],k=y[1];if(!r)return Object(n.jsx)(O.a,{to:"/"});if(!s)return Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})});function C(e){k(e),h(!0)}function N(e){k(e),m(!0)}function S(e){return U.apply(this,arguments)}function U(){return(U=Object(d.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.title,c=t.isReady,e.next=3,ee(a,n,!c);case 3:r=e.sent,(s=new re(r)).images=t.images,E("update",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e,n){var c=Object(j.a)({},t.galleries);"delete"!==e?c[n.id]=n:delete c[n.id],a("galleries",c)}var G=r&&"manager"===r.role?Object(n.jsx)(I.a,{className:"py-2",md:6,lg:3,children:Object(n.jsx)(J,{onClick:function(){h(!0)}})}):null,D=t&&t.galleries?Object.values(t.galleries).map((function(e){var t=e.id;return Object(n.jsx)(I.a,{className:"py-2",md:6,lg:3,children:Object(n.jsx)(z,{gallery:e,handleEdit:C,handleDeleteClick:N,handlePublish:S,activeUser:r})},t)})):null;return Object(n.jsxs)("div",{className:"p-galleries",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsxs)(L.a,{className:"mx-0 header",children:[Object(n.jsxs)(I.a,{sm:9,children:[Object(n.jsx)("div",{className:"name",children:s.name}),Object(n.jsx)("h2",{children:"\u05d4\u05d2\u05dc\u05e8\u05d9\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5"})]}),Object(n.jsx)(I.a,{sm:3,className:"p-0",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{src:s.logo,alt:"logo"})})})]}),Object(n.jsxs)(L.a,{children:[G,D]})]}),Object(n.jsx)(se,{data:w,cardType:"gallery",showModal:b,handleUpdate:E,closeModal:function(){h(!1)},cleanDataToEdit:function(){k("")}}),Object(n.jsx)(xe,{data:w,objectType:"\u05d2\u05dc\u05e8\u05d9\u05d4",showModal:p,handleUpdate:E,closeModal:function(){return m(!1)},cleanDataToEdit:function(){k("")}})]})}),me=a(944);function ve(){return(ve=Object(d.a)(o.a.mark((function e(t,a){var n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new w.a.Query(new w.a.Object.extend("Gallery")).get(a);case 2:return n=e.sent,c=w.a.Object.extend("Image"),(r=new c).set("file",new w.a.File(t.name,t)),r.set("gallery",n),e.next=9,r.save();case 9:return s=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ge=function(e,t){return ve.apply(this,arguments)},ye=a(218),we=a.n(ye),ke=(a(832),function(){var e=Object(c.useContext)(T),t=Object(c.useState)(e?"".concat(e.fname," ").concat(e.lname):""),a=Object(u.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(e?e.email:""),l=Object(u.a)(i,2),j=l[0],b=l[1],O=Object(c.useState)(""),h=Object(u.a)(O,2),f=h[0],v=h[1],y=Object(c.useState)(""),w=Object(u.a)(y,2),k=w[0],C=w[1],N=Object(c.useState)(!!e),U=Object(u.a)(N,2),L=U[0],I=U[1],E=Object(c.useState)(""),G=Object(u.a)(E,2),D=G[0],R=G[1],K=Object(c.useState)(""),M=Object(u.a)(K,2),F=M[0],H=M[1],P=Object(c.useState)(!1),B=Object(u.a)(P,2),z=B[0],Q=B[1],q=Object(c.useState)(!1),_=Object(u.a)(q,2),J=_[0],A=_[1],X=Object(c.useState)(!1),Y=Object(u.a)(X,2),V=Y[0],Z=Y[1];function W(){return(W=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,Promise.all(D.map(function(){var e=Object(d.a)(o.a.mark((function e(a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(a,"fe0qzAHNtH");case 2:n=e.sent,t+="  ".concat(n.get("file")._url);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:we.a.send("service_5cx738e","template_k3nemuh",{from_name:r,from_email:j,topic:f,message:k,file_links:t.toString()}),t.forEach((function(e){URL.revokeObjectURL(e)})),v(""),C(""),R(""),H(""),Z(!0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){r&&S(j)&&f&&k?(A(!0),Q(!1)):S(j)||""===j?S(j)&&(Q(!1),J&&A(!1)):(Q(!0),J&&A(!1))}),[r,j,f,k,J]);var $=D?D.length:0,ee=F?F.map((function(e,t){return Object(n.jsx)(m.a,{children:Object(n.jsx)(m.a.Img,{src:e})},t)})):null;return V?Object(n.jsxs)("div",{className:"p-contact-us success",children:[Object(n.jsx)("h2",{children:"\u05e4\u05e0\u05d9\u05d9\u05ea\u05da \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"}),Object(n.jsx)(x.a,{variant:"info",onClick:function(){Z(!1)},children:"\u05e4\u05e0\u05d9\u05d9\u05d4 \u05e0\u05d5\u05e1\u05e4\u05ea"})]}):Object(n.jsxs)("div",{className:"p-contact-us",children:[Object(n.jsx)("h2",{children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8"}),Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Group,{controlId:"formContactUsName",children:[Object(n.jsx)(p.a.Label,{children:"\u05e9\u05dd"}),e?Object(n.jsx)(p.a.Check,{type:"switch",variant:"warning",id:"formContactUsFileSwitch",label:L?"\u05de\u05e9\u05ea\u05de\u05e9 \u05d1\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05d9":"\u05d4\u05e9\u05ea\u05de\u05e9 \u05d1\u05e4\u05e8\u05d8\u05d9\u05dd \u05e9\u05dc\u05d9",checked:L,onChange:function(){L?(s(""),b(""),I(!L)):(s("".concat(e.fname," ").concat(e.lname)),b(e.email),I(!L))}}):null,Object(n.jsx)(p.a.Control,{type:"text",value:r,onChange:function(e){s(e.target.value)}})]}),Object(n.jsxs)(p.a.Group,{controlId:"formContactUsEmail",children:[Object(n.jsx)(p.a.Label,{children:"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9"}),Object(n.jsx)(p.a.Control,{type:"email",value:j,className:z?"is-invalid":null,onChange:function(e){b(e.target.value)}}),Object(n.jsx)(p.a.Control.Feedback,{type:"invalid",children:"\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4"})]}),Object(n.jsxs)(p.a.Group,{controlId:"formContactUsSubject",children:[Object(n.jsx)(p.a.Label,{children:"\u05e0\u05d5\u05e9\u05d0"}),Object(n.jsx)(p.a.Control,{type:"text",value:f,onChange:function(e){v(e.target.value)}})]}),Object(n.jsxs)(p.a.Group,{controlId:"formContactUsRequest",children:[Object(n.jsx)(p.a.Label,{children:"\u05ea\u05d5\u05db\u05df \u05d4\u05e4\u05e0\u05d9\u05d4"}),Object(n.jsx)(p.a.Control,{as:"textarea",value:k,onChange:function(e){C(e.target.value)}})]}),Object(n.jsxs)(p.a.Group,{children:[Object(n.jsx)(p.a.File,{id:"formContactUsFile",label:"","data-browse":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d1\u05e6\u05d9\u05dd",accept:"image/*",custom:!0,multiple:!0,onChange:function(e){var t=Object.values(e.target.files),a=t.map((function(e){return URL.createObjectURL(e)}));R(t),H(a)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:$>0?"\u05e0\u05d1\u05d7\u05e8\u05d5 ".concat($," \u05e7\u05d1\u05e6\u05d9\u05dd"):"\u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05d7\u05d5\u05e8 \u05de\u05e1\u05e4\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd"}),Object(n.jsx)(me.a,{children:ee}),D&&null===ee&&Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})})]}),Object(n.jsx)(x.a,{variant:"warning",type:"button",className:"w-100",disabled:!J,onClick:function(){return W.apply(this,arguments)},children:"\u05e9\u05dc\u05d9\u05d7\u05d4"})]})]})}),Ce=(a(833),a(834),function(e){var t=e.image,a=e.onClick,c=e.activeUser,r=e.handleDeleteClick;return Object(n.jsx)("div",{className:"c-image-card",children:Object(n.jsxs)(m.a,{children:[t?Object(n.jsx)(m.a.Img,{variant:"top",src:t.url,onClick:a}):null,c&&"manager"===c.role&&Object(n.jsx)(m.a.Footer,{children:Object(n.jsx)(I.a,{onClick:function(){r(t)},children:Object(n.jsx)(P.a,{icon:B.h})})})]})})}),Ne=a(945),Se=(a(835),function(e){var t=e.images,a=e.showModal,c=e.selectedImage,r=e.close,s=e.onImageChange;return Object(n.jsx)(f.a,{size:"md",show:a,onHide:r,centered:!0,className:"c-image-modal",children:Object(n.jsxs)(f.a.Body,{className:"p-0 row",children:[Object(n.jsx)(I.a,{xs:1,className:"prev",children:Object(n.jsx)("a",{className:"prev",variant:"dark",onClick:function(){s(0===c?t.length-1:c-1)},children:Object(n.jsx)(P.a,{icon:B.b})})}),Object(n.jsxs)(I.a,{xs:10,className:"p-0",children:[Object(n.jsx)(Ne.a,{src:t[c].url}),Object(n.jsx)(x.a,{onClick:r,className:"modal-x-button",variant:"outline-warning",children:"X"})]}),Object(n.jsx)(I.a,{xs:1,className:"next",children:Object(n.jsx)("a",{className:"next",variant:"dark",onClick:function(){c===t.length-1?s(0):s(c+1)},children:Object(n.jsx)(P.a,{icon:B.a})})})]})})}),Ue=(a(836),function(e){var t=e.onClick;return Object(n.jsx)(m.a,{className:"c-add-image-card",onClick:t,children:Object(n.jsx)(m.a.Title,{children:"+"})})}),Te=function e(t){Object(k.a)(this,e),this.id=t.id,this.url=t.get("file")._url};var Le=function(e){var t=e.galleryTitle,a=e.galleryId,r=e.showModal,s=e.closeModal,i=e.handleUpdate,l=Object(c.useState)(""),j=Object(u.a)(l,2),b=j[0],O=j[1],h=Object(c.useState)([]),v=Object(u.a)(h,2),y=v[0],w=v[1];function k(){s(),O(""),w([])}function C(){return(C=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(b.map(function(){var e=Object(d.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t,a);case 2:return n=e.sent,e.abrupt("return",new Te(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:t=e.sent,i("add",t),k();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=b?b.length:0,S=y?y.map((function(e,t){return Object(n.jsx)(m.a,{children:Object(n.jsx)(m.a.Img,{src:e})},t)})):null;return Object(n.jsxs)(f.a,{className:"c-add-image-modal",size:"md",show:r,onHide:k,centered:!0,backdrop:"static",keyboard:!1,children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsxs)(f.a.Title,{children:["\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05de\u05d5\u05e0\u05d5\u05ea \u05dc\u05d2\u05dc\u05e8\u05d9\u05d4 ",Object(n.jsx)("span",{className:"font-weight-bold",children:t})]})}),Object(n.jsx)(f.a.Body,{children:Object(n.jsxs)(p.a.Group,{children:[Object(n.jsx)(p.a.File,{id:"formFiles",label:b?"filesNames":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d1\u05e6\u05d9\u05dd","data-browse":"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e7\u05d1\u05e6\u05d9\u05dd",accept:"image/*",custom:!0,multiple:!0,onChange:function(e){var t=Object.values(e.target.files),a=t.map((function(e){return URL.createObjectURL(e)}));O(t),w(a)}}),Object(n.jsx)(p.a.Text,{className:"text-muted",children:N>0?"\u05e0\u05d1\u05d7\u05e8\u05d5 ".concat(N," \u05e7\u05d1\u05e6\u05d9\u05dd"):"\u05e0\u05d9\u05ea\u05df \u05dc\u05d1\u05d7\u05d5\u05e8 \u05de\u05e1\u05e4\u05e8 \u05e7\u05d1\u05e6\u05d9\u05dd \u05d9\u05d7\u05d3"}),Object(n.jsx)(me.a,{children:S}),b&&0===S.length&&Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})})]})}),Object(n.jsxs)(f.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:function(){y.forEach((function(e){URL.revokeObjectURL(e)})),k()},disabled:b&&0===S.length,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),Object(n.jsx)(x.a,{variant:"warning",onClick:function(){return C.apply(this,arguments)},disabled:0===S.length,children:"\u05d4\u05d5\u05e1\u05e4\u05d4"})]})]})},Ie=function(e){var t=e.data,a=e.onUpdate,r=Object(c.useContext)(T),s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(null),b=Object(u.a)(d,2),h=b[0],x=b[1],f=Object(c.useState)(!1),p=Object(u.a)(f,2),m=p[0],v=p[1],y=Object(c.useState)(!1),w=Object(u.a)(y,2),k=w[0],C=w[1],N=Object(c.useState)(""),S=Object(u.a)(N,2),U=S[0],L=S[1],I=Object(O.h)().id;if(!t)return Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})});if(!r)return Object(n.jsx)(O.a,{to:"/"});var E=t.galleries[I],G=E.images,D=E.title;function R(e){L(e),v(!0)}function K(e,n){var c=Object(j.a)({},G);"delete"===e?delete c[n.id]:"add"===e&&n.forEach((function(e){c[e.id]=e}));var r=Object(j.a)({},t.galleries);r[I].images=c,a("galleries",r)}var M=r&&"manager"===r.role&&Object(n.jsx)(Ue,{onClick:function(){C(!0)}}),F=G&&Object.values(G).map((function(e,t){return Object(n.jsx)(Ce,{image:e,activeUser:r,onClick:function(){return function(e){o(!0),x(e)}(t)},handleDeleteClick:R},e.id)}));return Object(n.jsxs)("div",{className:"p-gallery",children:[Object(n.jsx)("h2",{children:D}),Object(n.jsx)(H.a,{children:Object(n.jsxs)(me.a,{children:[M,F]})}),null!==h&&G.length>0&&Object(n.jsx)(Se,{images:G,showModal:l,selectedImage:h,close:function(){o(!1)},onImageChange:function(e){x(e)}}),Object(n.jsx)(xe,{data:U,objectType:"\u05ea\u05de\u05d5\u05e0\u05d4",showModal:m,handleUpdate:K,closeModal:function(){return v(!1)},cleanDataToEdit:function(){L("")}}),G&&Object(n.jsx)(Le,{galleryTitle:D,galleryId:I,showModal:k,handleUpdate:K,closeModal:function(){C(!1)}})]})},Ee=(a(837),a(838),a(56)),Ge=function(e){var t=e.topic,a=e.activeUser,c=e.onDeleteClick,r=e.onEditClick,s=t.headline,i=t.content;if(!a)return Object(n.jsx)(O.a,{to:"/"});var l=Object(n.jsxs)("div",{children:[Object(n.jsx)(P.a,{className:"edit-icon",icon:B.e,onClick:r}),Object(n.jsx)(P.a,{className:"edit-icon",icon:B.h,onClick:c})]});return Object(n.jsxs)("div",{className:"c-study-topic-box mb-4",children:[a&&"manager"===a.role&&l,Object(n.jsx)(m.a.Title,{children:s}),Object(n.jsx)(Ee.Editor,{editorState:i})]})};a(932);var De=function(){var e=["primary","secondary","success","danger","warning","info","light","dark"];return e[Math.floor(Math.random()*e.length)]},Re=function(e){var t=e.topic,a=e.activeUser,c=e.onDeleteClick,r=e.onEditClick,s=t.headline,i=t.content,l=De();if(!a)return Object(n.jsx)(O.a,{to:"/"});var o=Object(n.jsxs)("div",{children:[Object(n.jsx)(P.a,{className:"edit-icon",icon:B.e,onClick:r}),Object(n.jsx)(P.a,{className:"edit-icon",icon:B.h,onClick:c})]});return Object(n.jsx)(m.a,{className:"c-message-box m-2",bg:l,text:"light"===l?"dark":"white",children:Object(n.jsxs)(m.a.Body,{children:[a&&"manager"===a.role&&o,Object(n.jsx)(m.a.Title,{children:s}),Object(n.jsx)(Ee.Editor,{editorState:i})]})})},Ke=(a(933),function(e){var t=e.onClick;return Object(c.useContext)(T)?Object(n.jsx)(m.a,{className:"c-add-message-box m-2 text-center",bg:"light",text:"dark",onClick:t,children:Object(n.jsx)(m.a.Body,{children:Object(n.jsx)(m.a.Title,{children:"+"})})}):Object(n.jsx)(O.a,{to:"/"})}),Me=(a(934),function(e){var t=e.onClick;return Object(c.useContext)(T)?Object(n.jsx)("div",{className:"c-add-study-topic-box text-center",onClick:t,children:Object(n.jsx)(m.a.Title,{children:"+"})}):Object(n.jsx)(O.a,{to:"/"})}),Fe=(a(935),function(e){var t=e.data,a=e.isReadOnly,r=e.onUpdate,s=Object(c.useState)(Ee.EditorState.createEmpty()),i=Object(u.a)(s,2),l=i[0],o=i[1];return Object(c.useEffect)((function(){if(t){var e=Ee.EditorState.createWithContent(Object(Ee.convertFromRaw)(JSON.parse(t)));o(e)}}),[]),console.log(t),Object(n.jsxs)("div",{className:"c-text-editor",children:[Object(n.jsx)(x.a,{variant:"outline-warning",onClick:function(){return e="BOLD",void o(Ee.RichUtils.toggleInlineStyle(l,e));var e},children:"B"}),Object(n.jsx)(Ee.Editor,{editorState:l,onChange:function(e){var t=e.getCurrentContent(),a=JSON.stringify(Object(Ee.convertToRaw)(t));r(a)},readOnly:a,handleKeyCommand:function(e){var t=Ee.RichUtils.handleKeyCommand(l,e);return!!t&&(o(t),!0)},onTab:function(e){o(Ee.RichUtils.onTab(e,l,3))}})]})}),He=function(e){var t=e.dafKesherId,a=e.fullData,r=e.data,s=e.handleUpdate,i=e.showModal,l=e.closeModal,o=e.cleanDataToEdit,d=e.isNew,b=Object(c.useState)(),O=Object(u.a)(b,2),h=O[0],m=O[1],g=Object(c.useState)(),y=Object(u.a)(g,2),w=y[0],k=y[1],C=Object(c.useState)(!1),N=Object(u.a)(C,2),S=N[0],U=N[1];function T(){l(),U(!1),o()}console.log(w),Object(c.useEffect)((function(){d?(m(""),k("")):(m(a[r.type][r.index].headline),k(a[r.type][r.index].content))}),[r]);var L=d?"\u05d4\u05d5\u05e1\u05e4\u05ea \u05ea\u05d5\u05db\u05df \u05d7\u05d3\u05e9":"\u05e2\u05e8\u05d9\u05db\u05ea \u05ea\u05d5\u05db\u05df \u05d3\u05e3 \u05e7\u05e9\u05e8";return Object(n.jsxs)(f.a,{size:"md",show:i,onHide:T,centered:!0,className:"c-daf-kesher-editor-modal",children:[Object(n.jsx)(f.a.Header,{children:Object(n.jsx)(f.a.Title,{children:L})}),Object(n.jsxs)(f.a.Body,{children:[Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(p.a.Group,{controlId:"headline",children:[Object(n.jsx)(p.a.Label,{children:"\u05db\u05d5\u05ea\u05e8\u05ea"}),Object(n.jsx)(p.a.Control,{type:"text",value:h,onChange:function(e){m(e.target.value)}})]}),Object(n.jsxs)(p.a.Group,{controlId:"content",children:[Object(n.jsx)(p.a.Label,{children:"\u05ea\u05d5\u05db\u05df"}),Object(n.jsx)(Fe,{data:w,isReadOnly:!1,onUpdate:k})]})]}),S?Object(n.jsx)(v.a,{variant:"danger",children:"\u05e0\u05d0 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea"}):null]}),Object(n.jsxs)(f.a.Footer,{children:[Object(n.jsx)(x.a,{variant:"secondary",onClick:T,children:"\u05e1\u05d2\u05d9\u05e8\u05d4"}),Object(n.jsx)(x.a,{variant:"warning",onClick:function(){if(h&&w)if(d){var e=Object(j.a)({},a);e[r].push({headline:h,content:w}),he(t,e),s(r,e[r]),T()}else{var n=Object(j.a)({},a);n[r.type][r.index].headline=h,n[r.type][r.index].content=w,he(t,n),s(r.type,n[r.type]),T()}else U(!0)},children:"\u05e9\u05de\u05d9\u05e8\u05d4"})]})]})};var Pe=function(e){var t=e.data,a=e.onUpdate,r=Object(c.useContext)(T),s=Object(c.useContext)(q),i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(u.a)(b,2),f=h[0],p=h[1],v=Object(c.useState)(""),y=Object(u.a)(v,2),w=y[0],k=y[1],C=Object(O.h)().id;if(!t)return Object(n.jsx)("div",{className:"images-spinner row justify-content-center mt-3",children:Object(n.jsx)(g.a,{animation:"border",variant:"warning"})});if(!r)return Object(n.jsx)(O.a,{to:"/"});var N=s.name,S=s.logo,U=t.dapeyKesher[C].data,E=U.studyTopics,G=U.messages,D=t.dapeyKesher[C],R=D.title,K=D.hebDate;function M(e){k(e),p(!0)}function F(e){k(e),p(!0)}function z(e){k(e),d(!0)}function Q(e,n){var c=Object(j.a)({},U);c[e]=n;var r=Object(j.a)({},t.dapeyKesher);r[C].data=c,a("dapeyKesher",r)}var _=E?Object.values(E).map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(Ge,{topic:{headline:e.headline,content:e.content},activeUser:r,onEditClick:function(){F({type:"studyTopics",index:t})},onDeleteClick:function(){z({type:"studyTopics",index:t})}})},t)})):null,J=r&&"manager"===r.role&&Object(n.jsx)(Me,{onClick:function(){M("studyTopics")}}),A=G?Object.values(G).map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)(Re,{topic:{headline:e.headline,content:e.content},activeUser:r,onEditClick:function(){F({type:"messages",index:t})},onDeleteClick:function(){z({type:"messages",index:t})}})},t)})):null,X=r&&"manager"===r.role&&Object(n.jsx)(Ke,{onClick:function(){M("messages")}});return Object(n.jsxs)("div",{className:"p-daf-kesher",children:[Object(n.jsxs)(H.a,{children:[Object(n.jsx)("div",{className:"bh",children:'\u05d1"\u05d4'}),Object(n.jsxs)(L.a,{className:"mx-0 header",children:[Object(n.jsxs)(I.a,{sm:9,children:[Object(n.jsx)("div",{className:"name",children:N}),Object(n.jsx)("h2",{children:"\u05d3\u05e3 \u05e7\u05e9\u05e8 ".concat(R)}),Object(n.jsx)("div",{className:"date",children:K})]}),Object(n.jsx)(I.a,{sm:3,className:"p-0",children:Object(n.jsx)("div",{className:"logo",children:Object(n.jsx)("img",{src:S,alt:"logo"})})})]}),Object(n.jsx)(x.a,{className:"printbtn",variant:"warning",onClick:function(){return window.print()},children:"\u05d4\u05d3\u05e4\u05e1\u05d4"}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(I.a,{md:8,className:"mb-3",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(m.a.Header,{as:"h5",children:[Object(n.jsx)("span",{children:"\u05de\u05d4 \u05dc\u05de\u05d3\u05e0\u05d5 \u05d4\u05e9\u05d1\u05d5\u05e2?"}),Object(n.jsx)(P.a,{className:"view-icon",icon:B.g})]}),Object(n.jsxs)(m.a.Body,{children:[_,J]})]})}),Object(n.jsx)(I.a,{md:4,children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)(m.a.Header,{as:"h5",children:[Object(n.jsx)("div",{children:"\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea"}),Object(n.jsx)(P.a,{className:"view-icon",icon:B.c})]}),A,X]})})]})]}),Object(n.jsx)(He,{dafKesherId:C,fullData:U,data:w,cardType:"dafKesher",handleUpdate:Q,showModal:f,closeModal:function(){return p(!1)},cleanDataToEdit:function(){k("")},isNew:"string"===typeof w}),Object(n.jsx)(xe,{dafKesherId:C,fullData:U,data:w,objectType:"studyTopics"===w.type?"\u05d7\u05d5\u05de\u05e8 \u05dc\u05d9\u05de\u05d5\u05d3\u05d9":"\u05d4\u05d5\u05d3\u05e2\u05d4",showModal:o,closeModal:function(){return d(!1)},cleanDataToEdit:function(){k("")},handleUpdate:Q})]})},Be=a(949),ze=a(948);a(936);var Qe=function(){var e=(new Date).getHours();return e>=4&&e<=10?"\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1":e>=11&&e<=16?"\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd":e>=17&&e<=20?"\u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1":"\u05dc\u05d9\u05dc\u05d4 \u05d8\u05d5\u05d1"},qe=function(e){var t=e.onLogout,a=Object(c.useContext)(T),r=Object(O.g)().pathname.split("/")[1],s=Qe();return Object(n.jsxs)(Be.a,{collapseOnSelect:!0,expand:"lg",children:[Object(n.jsx)(Be.a.Brand,{href:"#/",className:"ml-2",children:Object(n.jsx)("img",{src:h,alt:"Digital Garden logo",className:"d-inline-block align-top"})}),Object(n.jsx)(Be.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(Be.a.Collapse,{id:"responsive-navbar-nav",children:[Object(n.jsxs)(ze.a,{className:a?"ml-auto":"mr-auto",children:[a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ze.a.Link,{href:"#/my-garden",active:"my-garden"===r,children:"\u05d4\u05d2\u05df \u05e9\u05dc\u05d9"}),Object(n.jsx)(ze.a.Link,{href:"#/dapey-kesher",active:"dapey-kesher"===r,children:"\u05d3\u05e4\u05d9 \u05e7\u05e9\u05e8"}),Object(n.jsx)(ze.a.Link,{href:"#/galleries",active:"galleries"===r,children:"\u05d2\u05dc\u05e8\u05d9\u05d5\u05ea"})]}):null,Object(n.jsx)(ze.a.Link,{href:"#/contact-us",active:"contact-us"===r,children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8"})]}),a?Object(n.jsxs)(ze.a,{children:[Object(n.jsx)(Be.a.Text,{children:"".concat(s,", ").concat(a.fname)}),Object(n.jsx)(x.a,{as:"a",variant:"",onClick:t,children:"\u05d4\u05ea\u05e0\u05ea\u05e7"})]}):null]})]})};function _e(){return(_e=Object(d.a)(o.a.mark((function e(t){var a,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new w.a.Query(new w.a.Object.extend("Gan")).get(t.gardenId);case 2:return a=e.sent,n=a.get("name"),c=a.get("logo")._url,r=a.get("year"),s={parseGarden:a,id:a.id,name:n,logo:c,year:r},e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=function(e){return _e.apply(this,arguments)},Ae=a(102);function Xe(){return(Xe=Object(d.a)(o.a.mark((function e(t,a){var n,c,r,s,i,l,d,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new w.a.Query(w.a.Object.extend("Gallery")),c=new w.a.Query(w.a.Object.extend("DafKesher")),n.equalTo("gan",t),c.equalTo("gan",t),e.next=6,n.find();case 6:return r=e.sent,e.next=9,c.find();case 9:return s=e.sent,i=r.map((function(e){return new re(e)})),l=s.map((function(e){return new ce(e)})),"manager"!==a&&(i=i.filter((function(e){return e.isReady})),l=l.filter((function(e){return e.isReady}))),d=i.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(Ae.a)({},t.id,t))}),{}),u=l.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(Ae.a)({},t.id,t))}),{}),e.abrupt("return",{galleries:d,dapeyKesher:u});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ye=function(e,t){return Xe.apply(this,arguments)};function Ve(){return(Ve=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object.values(t).map(function(){var e=Object(d.a)(o.a.mark((function e(t){var a,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new w.a.Query(w.a.Object.extend("Image"))).equalTo("gallery",t.parseGallery),e.next=4,a.find();case 4:return n=e.sent,c=n.map((function(e){return new Te(e)})),r=c.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(Ae.a)({},t.id,t))}),{}),e.abrupt("return",{id:t.id,images:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,n=a.reduce((function(e,t){return Object(j.a)(Object(j.a)({},e),{},Object(Ae.a)({},t.id,t))}),{}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ze=function(e){return Ve.apply(this,arguments)};var We=function(){var e=Object(c.useState)(w.a.User.current()?new C(w.a.User.current()):null),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(null),i=Object(u.a)(s,2),l=i[0],h=i[1],x=Object(c.useState)(null),f=Object(u.a)(x,2),p=f[0],m=f[1];Object(c.useEffect)((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t,n,c,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(a);case 2:return t=e.sent,e.next=5,Ye(t.parseGarden,a.role);case 5:return n=e.sent,h(t),m(n),e.next=10,Ze(n.galleries);case 10:c=e.sent,r=Object(j.a)({},n.galleries),Object.keys(c).forEach((function(e){r[e].images=c[e].images})),(s=Object(j.a)({},n)).galleries=r,m(s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a&&function(){e.apply(this,arguments)}()}),[a]),Object(ye.init)("user_AV4NvFTR6vJnUEHOtXINx");var v=function(e,t){var a=Object(j.a)({},p);a[e]=t,m(a)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(b.a,{children:Object(n.jsx)(O.d,{children:Object(n.jsx)(T.Provider,{value:a,children:Object(n.jsxs)(q.Provider,{value:l,children:[Object(n.jsx)(qe,{onLogout:function(){r(null),w.a.User.logOut()}}),Object(n.jsx)(O.b,{exact:!0,path:"/",children:Object(n.jsx)(F,{onLogin:function(e){r(e)}})}),Object(n.jsx)(O.b,{exact:!0,path:"/my-garden",children:Object(n.jsx)(_,{data:p})}),Object(n.jsx)(O.b,{exact:!0,path:"/dapey-kesher",children:Object(n.jsx)(fe,{data:p,onUpdate:v})}),Object(n.jsx)(O.b,{exact:!0,path:"/dapey-kesher/:id",children:Object(n.jsx)(Pe,{data:p,onUpdate:v})}),Object(n.jsx)(O.b,{exact:!0,path:"/galleries",children:Object(n.jsx)(pe,{data:p,onUpdate:v})}),Object(n.jsx)(O.b,{exact:!0,path:"/galleries/:id",children:Object(n.jsx)(Ie,{data:p,onUpdate:v})}),Object(n.jsx)(O.b,{exact:!0,path:"/contact-us",children:Object(n.jsx)(ke,{})})]})})})})})},$e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,951)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};w.a.serverURL="https://parseapi.back4app.com",w.a.initialize("YjX6kib1y4ZL0wYCCXagO161JHCAZNLF8vz04iNh","YYhfXbq4guVCOl4BhV5Jcvfh43NNbDbIpAqI2LzG"),i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(We,{})}),document.getElementById("root")),$e()}},[[937,1,2]]]);
//# sourceMappingURL=main.129a2e52.chunk.js.map