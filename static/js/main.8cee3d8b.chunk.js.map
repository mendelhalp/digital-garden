{"version":3,"sources":["images/logo192.png","model/UserModel.jsx","utils/IsEnterPressed.jsx","utils/isEmailValid.jsx","components/LoginModal/LoginModal.jsx","utils/ActiveUserContext.jsx","pages/HomePage/HomePage.jsx","utils/getGalleryMainImg.jsx","components/GalleryCard/GalleryCard.jsx","utils/getHebrewDate.jsx","utils/getGardenDapeyKesher.jsx","utils/getGardenDetails.jsx","utils/getGardenGalleries.jsx","components/DafKesherCard/DafKesherCard.jsx","pages/MyGardenPage/MyGardenPage.jsx","components/AddMainCard/AddMainCard.jsx","utils/createNewDafKesher.jsx","utils/updateDafKesherDetails.jsx","utils/createNewGallery.jsx","utils/updateGalleryDetails.jsx","components/MainCardEditorModal/MainCardEditorModal.jsx","utils/deleteDafKesher.jsx","utils/deleteGallery.jsx","utils/deleteImage.jsx","utils/updateDafKesherContent.jsx","components/DeleteWarningModal/DeleteWarningModal.jsx","pages/DapeyKesherPage/DapeyKesherPage.jsx","pages/GalleriesPage/GalleriesPage.jsx","utils/addImage.jsx","pages/ContactUsPage/ContactUsPage.jsx","components/ImageCard/ImageCard.jsx","components/ImageModal/ImageModal.jsx","utils/getGalleryImages.jsx","utils/getGalleryDetails.jsx","components/ImageCard/AddImageCard.jsx","components/AddImage/AddImageModal.jsx","pages/GalleryPage/GalleryPage.jsx","components/StudyTopicBox/StudyTopicBox.jsx","utils/getDafKesherDetails.jsx","utils/getRandomBgColor.jsx","components/MessageBox/MessageBox.jsx","components/MessageBox/AddMessageBox.jsx","components/StudyTopicBox/AddStudyTopicBox.jsx","components/DafKesherEditorModal/DafKesherEditorModal.jsx","pages/DafKesherPage/DafKesherPage.jsx","utils/getGreeting.jsx","components/TopNavbar/TopNavbar.jsx","App.js","reportWebVitals.js","index.js"],"names":["UserModel","parseUser","this","id","email","get","fname","lname","gardenId","role","isEnterPressed","e","key","isEmailValid","test","LoginModal","props","showModal","handleCloseLogin","onLogin","useState","setEmail","pwd","setPwd","showError","setShowError","showEmailError","setShowEmailError","cleanFormFields","login","a","Parse","User","logIn","close","ifEnterPressed","event","useEffect","Modal","size","show","onHide","centered","className","Header","Title","Body","Form","Group","controlId","Label","Control","type","placeholder","value","onChange","target","onKeyPress","Feedback","Alert","variant","Footer","Button","as","to","onClick","ActiveUserContext","createContext","HomePage","loginModalShow","setLoginModalShow","activeUser","useContext","redirectToMyGarden","setRedirectToMyGarden","src","logo","alt","user","galleryId","galleryQuery","Query","Object","extend","parseGallery","query","equalTo","count","numOfImgs","find","fullResult","result","mainImgUrl","_url","Math","floor","random","parseGan","ganLogo","getGalleryMainImg","GalleryCard","gallery","handleEdit","handleDeleteClick","title","mainImg","setMainImg","getMainImg","Card","Img","icon","faEdit","faTrashAlt","getHebrewDate","dateObj","require","hebrewDate","year","month","date","HebrewYearName","yearNum","yearName","tensNames","taf","parseInt","shin","reish","getHebrewYearName","hebrewMonthName","includes","isLeapYear","ganId","Gan","dapeyKesherQuery","descending","results","dapeyKesher","map","dafKesher","getGardenDapeyKesher","ganName","gardenDetails","getGardenDetails","galleriesQuery","galleries","getGardenGalleries","DafKesherCard","hebDate","Text","MyGardenPage","garden","setGarden","setGalleries","setDapeyKesher","getGardenData","dapeyKesherView","index","Col","md","lg","galleriesView","Container","Row","sm","name","faNewspaper","href","faChevronLeft","faImages","Spinner","animation","AddMainCard","parseGarden","DafKesher","myNewDafKesher","set","Date","save","then","error","createNewDafKesher","dafKesherId","updateDafKesherDetails","Gallery","myGallery","createNewGallery","updateGalleryDetails","MainCardEditorModal","modalTitle","data","cardType","closeModal","cleanDataToEdit","setTitle","setDate","onSave","toLocaleString","split","viewDate","length","destroy","deleteDafKesher","deleteGallery","imageId","Image","image","deleteImage","content","updateDafKesherContent","DeleteWarningModal","fullData","objectType","handleClose","console","log","backdrop","keyboard","splice","DapeyKesherPage","showMainCardEditorModal","setShowMainCardEditorModal","showDeleteAlert","setShowDeleteAlert","dafKesherToEdit","setDafKesherToEdit","getDapeyKesher","addDafKesher","GalleriesPage","galleryToEdit","setGalleryToEdit","getGalleries","addGallery","myNewImage","File","response","addImage","ContactUsPage","setName","subject","setSubject","request","setRequest","useUserInfo","setUseUserInfo","files","setFiles","filesUrl","setFilesUrl","isFormValid","setIsFormValid","isFormSubmitted","setIsFormSubmitted","filesArr","values","newFilesUrl","Promise","all","file","res","push","filesAmount","filesView","fileUrl","Check","label","checked","data-browse","custom","multiple","CardColumns","disabled","emailjs","send","from_name","from_email","topic","message","file_links","ImageCard","url","ImageModal","images","selectedImage","onImageChange","xs","faChevronRight","imgQuery","desc","getGalleryImages","galleryName","galleryMainImg","getGalleryDetails","AddImageCard","AddImageModal","galleryTitle","setImages","imagesId","setImagesId","imagesUrl","setImagesUrl","params","imagesArr","newImagesId","newImagesUrl","imagesAmount","imagesView","imageUrl","GalleryPage","setGalleryTitle","showImageModal","setShowImageModal","setSelectedImage","showAddImage","setShowAddImage","imageToEdit","setImageToEdit","useParams","getImages","onImageSelect","StudyTopicBox","onDeleteClick","onEditClick","headline","editIcon","deleteIcon","getDafKesherDetails","getRandomBgColor","bgColors","MessageBox","bgColor","bg","text","AddMessageBox","AddStudyTopicBox","DafKesherEditorModal","setHeadline","setContent","rows","newData","DafKesherPage","setData","header","setHeader","showEditorModal","setShowEditorModal","contentToEdit","setContentToEdit","getData","handleAddClick","handleEditClick","topicsView","studyTopics","addTopic","messagesView","messages","addMessage","faCommentDots","getGreeting","hour","getHours","TopNavbar","onLogout","path","useLocation","pathname","greeting","Navbar","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","active","App","current","setActiveUser","init","Provider","logOut","exact","loggedinUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","serverURL","initialize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cee3d8b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo192.f73b2edd.png\";","class UserModel {\r\n    constructor(parseUser){\r\n        this.id = parseUser.id;\r\n        this.email = parseUser.get('username');\r\n        this.fname = parseUser.get('fname');\r\n        this.lname = parseUser.get('lname');\r\n        this.gardenId = parseUser.get('gan').id;\r\n        this.role = parseUser.get('role');\r\n    }\r\n}\r\n\r\nexport default UserModel;","const isEnterPressed = (e) => e.key === 'Enter' ? true : false;\r\n\r\nexport default isEnterPressed;","\r\nfunction isEmailValid(email) {\r\n    return /.+@.+\\..+/.test(email)\r\n}\r\n\r\nexport default isEmailValid;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport Parse from 'parse';\r\nimport UserModel from '../../model/UserModel';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport { Link } from 'react-router-dom';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\n\r\nfunction LoginModal(props) {\r\n    const {showModal, handleCloseLogin, onLogin} = props;\r\n    const [email, setEmail] = useState('');\r\n    const [pwd, setPwd] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n\r\n    function cleanFormFields () {\r\n        setEmail('');\r\n        setPwd('');\r\n        setShowError(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (pwd !== ''){\r\n            setShowError(false)\r\n        }\r\n    },[pwd]);\r\n    useEffect(() => {\r\n        setShowError(false);\r\n        if (!isEmailValid(email) && email !== '') {\r\n            setShowEmailError(true);\r\n        } else if (isEmailValid(email)) { \r\n            setShowEmailError(false);\r\n        }\r\n    },[email]);\r\n\r\n    async function login () {\r\n        try {\r\n            const parseUser = await Parse.User.logIn(email, pwd);\r\n            \r\n            // Trigger onLogin event and clean the fields\r\n            onLogin(new UserModel(parseUser));\r\n            handleCloseLogin();\r\n            cleanFormFields();\r\n            \r\n        } catch(error) {\r\n            // show an error alert\r\n            setPwd('');\r\n            setShowError(true);\r\n        }\r\n    }\r\n\r\n    function close () {\r\n        handleCloseLogin();\r\n        cleanFormFields();\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (isEnterPressed(event) && email){\r\n            login();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-login-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>כניסה</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='loginUserName'>\r\n                        <Form.Label>שם משתמש</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"דואר אלקטרוני\" value={email} className={showEmailError ? 'is-invalid' : null}\r\n                            onChange={e => { setEmail(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                        <Form.Control.Feedback type=\"invalid\">כתובת מייל לא תקינה</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId='loginPwd'>\r\n                        <Form.Label>סיסמה</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"סיסמה\" value={pwd}\r\n                            onChange={e => {setPwd(e.target.value)}}  onKeyPress={ifEnterPressed}/>\r\n                    </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">מייל או סיסמה שגויים</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button as='a' variant='link' className='ml-auto'><Link to={'/signup'}>עדיין לא רשומים?</Link></Button>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={login}>כניסה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default LoginModal;\r\n","import { createContext } from 'react';\r\n\r\nconst ActiveUserContext = createContext(null);\r\n\r\nexport default ActiveUserContext;","import './HomePage.css'\r\nimport logo from '../../images/logo192.png'\r\nimport { Button } from 'react-bootstrap';\r\nimport { useContext, useState } from 'react';\r\nimport LoginModal from '../../components/LoginModal/LoginModal';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\n\r\nconst HomePage = (props) => {\r\n    const [loginModalShow, setLoginModalShow] = useState(false);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [redirectToMyGarden, setRedirectToMyGarden] = useState(activeUser ? true : false);\r\n    const { onLogin } = props;\r\n\r\n    const handleLogin = (user) => {\r\n        onLogin(user);\r\n        setRedirectToMyGarden(true);\r\n    }\r\n    \r\n    const handleCloseLogin = () => {\r\n        setLoginModalShow(false);\r\n    }\r\n    \r\n    if (redirectToMyGarden) {\r\n        return <Redirect to=\"my-garden\"/>;\r\n    }\r\n    return (\r\n        <div className=\"p-home\">\r\n            <div className='main-content'>\r\n                <div className='logo'>\r\n                    <img className='logo-img' src={logo} alt=\"logo\"/>\r\n                </div>\r\n                <div className='main-text'>\r\n                    <div className='text'>\r\n                        <h2>הגן הדיגיטלי</h2>\r\n                        <h5>הקשר שלך עם ההורים</h5>\r\n                        <h5>נראה אחרת!</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='buttons'>\r\n                <Button variant=\"outline-warning\" size='lg' onClick={() => { setLoginModalShow(true) }}>כניסה</Button>{' '}\r\n                <Button variant=\"warning\" size='lg'>הרשמה</Button>\r\n            </div>\r\n            <LoginModal showModal={loginModalShow} handleCloseLogin={handleCloseLogin} onLogin={handleLogin}/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import Parse from 'parse';\r\n\r\n\r\nasync function getGalleryMainImg(galleryId) {\r\n    \r\n    const galleryQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    const parseGallery = await galleryQuery.get(galleryId);\r\n    \r\n    const query = new Parse.Query(Parse.Object.extend('Image'));\r\n    query.equalTo('gallery', parseGallery);\r\n    const numOfImgs = await query.count();\r\n    const fullResult = await query.find();\r\n    query.equalTo('isPrimary', true);\r\n    const result = await query.find();\r\n\r\n    let mainImgUrl;\r\n    if (result[0]) {\r\n        mainImgUrl = result[0].get('file')._url;\r\n    } else if (fullResult && numOfImgs > 0) {\r\n        mainImgUrl = fullResult[Math.floor(Math.random() * numOfImgs)].get('file')._url;\r\n    } else {\r\n        const parseGan = parseGallery.get('gan');\r\n        const ganLogo = parseGan.get('logo')._url;\r\n        \r\n        mainImgUrl = ganLogo;\r\n    }\r\n\r\n    return (mainImgUrl);\r\n\r\n}\r\n\r\n\r\nexport default getGalleryMainImg;","import './GalleryCard.css'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport getGalleryMainImg from '../../utils/getGalleryMainImg';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst GalleryCard = ({gallery, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const {id, title } = gallery;\r\n    const [mainImg, setMainImg] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getMainImg() {\r\n            const mainImg = await getGalleryMainImg(id);\r\n            setMainImg(mainImg);\r\n        }\r\n        getMainImg();\r\n    },[]);\r\n\r\n\r\n    return (\r\n        <div className='c-gallery-card'>\r\n            <Card>\r\n                <Link to={'/galleries/'+ id}>\r\n                    {mainImg ? <Card.Img variant='top' src={mainImg}/> : null}\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(gallery)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(gallery)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleryCard;","function isLeapYear(year) {\r\n    const restForLeapYears = [0, 3, 6, 8, 11, 14, 17];\r\n    return (restForLeapYears.includes(year % 19));\r\n}\r\n\r\nfunction getHebrewYearName(yearNum) {\r\n    const unitsNames = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט'];\r\n    const tensNames = ['י', 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ']\r\n\r\n    let yearName;\r\n    let year = yearNum % 1000;\r\n    const taf = parseInt(year / 400);\r\n    year = year % 400;\r\n    const shin = parseInt(year / 300);\r\n    year = year % 300;\r\n    const reish = parseInt(year / 200);\r\n    year = year % 200;\r\n    const kuf = parseInt(year / 100);\r\n    year = year % 100;\r\n\r\n    yearName = taf > 1 ? 'תת' : taf === 1 ? 'ת' : '';\r\n    yearName += shin === 1 ? 'ש' : '';\r\n    yearName += reish === 1 ? 'ר' : '';\r\n    yearName += kuf === 1 ? 'ק' : '';\r\n    if (year !== 0 && year % 10 !== 0) {\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n        yearName += '\"';\r\n        yearName += unitsNames[year % 10 - 1];\r\n    } else if (year !== 0) {\r\n        yearName += '\"';\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n    } else {\r\n        yearName += \"'\";\r\n    }\r\n\r\n    return(yearName)\r\n}\r\n\r\nfunction getHebrewDate(dateObj) {\r\n    const hebrewDate = require('hebrew-date');\r\n    const { year, month, date } = hebrewDate(dateObj);\r\n    \r\n    const monthNamesOfNonLeapYear = ['תשרי', 'חשון', 'כסלו', 'טבת', 'שבט', 'אדר', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];\r\n    const monthNamesOfLeapYear = ['תשרי', 'חשון', 'כסלו', 'טבת', 'שבט', 'אדר א', 'אדר ב', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];\r\n    \r\n    const dateNames = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט', 'י', 'י\"א', 'י\"ב', 'י\"ג', 'י\"ד'\r\n    , 'ט\"ו', 'ט\"ז', 'י\"ז', 'י\"ח', 'י\"ט', 'כ', 'כ\"א', 'כ\"ב', 'כ\"ג', 'כ\"ד', 'כ\"ה', 'כ\"ו', 'כ\"ז', 'כ\"ח', 'כ\"ט', 'ל'];\r\n    \r\n    const HebrewYearName = getHebrewYearName(year);\r\n    const hebrewMonthName = isLeapYear(year) ? monthNamesOfLeapYear[month -1] : monthNamesOfNonLeapYear[month -1];\r\n    const hebrewDateName = dateNames[date -1];\r\n    const hebrewDateStr = hebrewDateName + ' ' + hebrewMonthName + ' ' + HebrewYearName;\r\n\r\n    return (hebrewDateStr);\r\n}\r\n\r\nexport default getHebrewDate;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getGardenDapeyKesher(ganId) {\r\n\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const dapeyKesherQuery = new Parse.Query(Parse.Object.extend('DafKesher'));\r\n    dapeyKesherQuery.equalTo(\"gan\", Gan);\r\n    dapeyKesherQuery.descending(\"date\");\r\n\r\n    const results = await dapeyKesherQuery.find();\r\n\r\n    const dapeyKesher = results.map(dafKesher => {\r\n        return({\r\n            'id':dafKesher.id,\r\n            'title': dafKesher.get('title'),\r\n            'date':dafKesher.get('date'),\r\n            'hebDate':getHebrewDate(dafKesher.get('date'))\r\n        })\r\n    });\r\n\r\n    return (dapeyKesher);\r\n}\r\nexport default getGardenDapeyKesher;","import Parse from 'parse';\r\n\r\nasync function getGardenDetails(activeUser) {\r\n    const parseUser = await new Parse.Query(new Parse.User()).get(activeUser.id);\r\n    const parseGan = await new Parse.Query(new Parse.Object.extend('Gan')).get(parseUser.get('gan').id);\r\n    const ganName = parseGan.get('name');\r\n    const ganLogo = parseGan.get('logo')._url;\r\n\r\n    const gardenDetails = {\r\n        'parseGarden':parseGan,\r\n        'id':parseGan.id,\r\n        'name':ganName,\r\n        'logo':ganLogo\r\n    }\r\n    return (gardenDetails);\r\n}\r\n\r\nexport default getGardenDetails;","import Parse from 'parse';\r\n\r\nasync function getGardenGalleries(ganId) {\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const galleriesQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    galleriesQuery.equalTo(\"gan\", Gan);\r\n\r\n    const results = await galleriesQuery.find();\r\n\r\n    const galleries = results.map(gallery => {\r\n        return({\r\n            'id':gallery.id,\r\n            'title':gallery.get('title')\r\n        })\r\n    });\r\n\r\n    return (galleries);\r\n}\r\nexport default getGardenGalleries;","import './DafKesherCard.css'\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst DafKesherCard = ({dafKesher, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const { id, title, hebDate} = dafKesher;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    return (\r\n        <div className='c-daf-kesher-card'>\r\n            <Card>\r\n                <Link to={'/dapey-kesher/' + id}>\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                    <Card.Text className='text-center'>{hebDate}</Card.Text>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(dafKesher)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(dafKesher)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherCard;","import { useContext, useEffect, useState } from 'react'\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom'\r\nimport ActiveUserContext from '../../utils/ActiveUserContext'\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher'\r\nimport getGardenDetails from '../../utils/getGardenDetails'\r\nimport getGardenGalleries from '../../utils/getGardenGalleries'\r\nimport './MyGardenPage.css'\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faImages, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst MyGardenPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [galleries, setGalleries] = useState([]);\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getGardenData() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n        getGardenData();\r\n    },[garden]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map((dafKesher, index) => {\r\n        \r\n        if (index < 6) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={dafKesher.id}>\r\n                    <DafKesherCard dafKesher={dafKesher} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    const galleriesView = galleries ? galleries.map((gallery, index) => {\r\n        \r\n        if (index < 4) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={gallery.id}>\r\n                    <GalleryCard gallery={gallery} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-my-gan\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <h2 className='name'>{garden.name}</h2> : null}\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>דפי קשר</span>\r\n                                <FontAwesomeIcon icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {dapeyKesherView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/dapey-kesher'>\r\n                                <Card.Footer className='text-center'>\r\n                                    <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>גלריות</span>\r\n                                <FontAwesomeIcon icon={faImages}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {galleriesView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/galleries'>\r\n                                <Card.Footer className='text-center'>\r\n                                <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyGardenPage;","import './AddMainCard.css'\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst AddMainCard = (props) => {\r\n\r\n    const {onClick} = props;\r\n\r\n    return (\r\n        <div className='c-add-main-card'>\r\n            <Card onClick={onClick}>\r\n                <Card.Title className='text-center'>+</Card.Title>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddMainCard;","import Parse from \"parse\";\r\n\r\nasync function createNewDafKesher(parseGarden, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const myNewDafKesher = new DafKesher();\r\n\r\n    myNewDafKesher.set('title',title);\r\n    myNewDafKesher.set('gan', parseGarden);\r\n    myNewDafKesher.set('date', new Date(date));\r\n    myNewDafKesher.set('data', {\"studyTopics\":[], \"messages\":[]});\r\n\r\n    myNewDafKesher.save().then(\r\n    (result) => {\r\n        // console.log('DafKesher created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating DafKesher: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewDafKesher;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherDetails(dafKesherId, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('title', title);\r\n        dafKesher.set('date', new Date(date));\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherDetails;","import Parse from \"parse\";\r\n\r\nasync function createNewGallery(parseGarden, title) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const myGallery = new Gallery();\r\n\r\n    myGallery.set('title',title);\r\n    myGallery.set('gan', parseGarden);\r\n\r\n    myGallery.save().then(\r\n    (result) => {\r\n        // console.log('Gallery created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating Gallery: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewGallery;","import Parse from \"parse\";\r\n\r\nasync function updateGalleryDetails(galleryId, title, date) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.set('title', title);\r\n        gallery.save().then(\r\n            (result) => {\r\n                // console.log('Gallery updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateGalleryDetails;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport createNewDafKesher from '../../utils/createNewDafKesher';\r\nimport updateDafKesherDetails from '../../utils/updateDafKesherDetails';\r\nimport createNewGallery from '../../utils/createNewGallery';\r\nimport updateGalleryDetails from '../../utils/updateGalleryDetails';\r\n\r\nconst MainCardEditorModal = (props) => {\r\n    const {data, cardType, parseGarden, showModal, closeModal, cleanDataToEdit} = props;\r\n    const [title, setTitle] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    \r\n    useEffect(() => { \r\n        if (typeof data === 'object') {\r\n            if (cardType === 'dafKesher') {\r\n                setTitle(data.title);\r\n\r\n                const date = data.date.toLocaleString().split('.');\r\n                const viewDate = `${date[2].split(',')[0]}-${date[1].length === 1 ? '0' + date[1] : date[1]}-${date[0].length === 1 ? '0' + date[0] : date[0]}`;\r\n                setDate(viewDate);\r\n            } else if (cardType === 'gallery') {\r\n                setTitle(data.title);\r\n            }\r\n        } else {\r\n            setTitle('');\r\n            setDate('');\r\n        }\r\n    }, [data]);\r\n    \r\n    function close () {\r\n        setTitle('');\r\n        setDate('');        \r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (cardType === 'dafKesher') {\r\n            if (!(title && date)) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewDafKesher(parseGarden, title, date);\r\n                close()\r\n            } else {\r\n                updateDafKesherDetails(data.id, title, date);\r\n                close();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (!title) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewGallery(parseGarden, title);\r\n                close()\r\n            } else {\r\n                updateGalleryDetails(data.id, title);\r\n                close();\r\n            }\r\n        }\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (cardType === 'dafKesher') {\r\n            if (isEnterPressed(event) && title && date) {\r\n                onSave();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (isEnterPressed(event) && title) {\r\n                onSave();\r\n            }\r\n        }\r\n    }\r\n\r\n    let modalTitle;\r\n    if (cardType === 'dafKesher') {\r\n        modalTitle = data ? 'עריכת פרטי דף קשר' : 'יצירת דף קשר חדש';\r\n    } else if (cardType === 'gallery') {\r\n        modalTitle = data ? 'עריכת פרטי גלריה' : 'יצירת גלריה חדשה';\r\n    }\r\n\r\n    return (\r\n        <Modal size='sm' show={showModal} onHide={close} centered className='c-main-card-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='title'>\r\n                        <Form.Label>כותרת</Form.Label>\r\n                        <Form.Control type=\"text\" value={title} onChange={e => { setTitle(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group>\r\n                    {cardType === 'dafKesher' ? <Form.Group controlId='date'>\r\n                        <Form.Label>תאריך</Form.Label>\r\n                        <Form.Control type=\"date\" value={date}\r\n                            onChange={e => { setDate(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group> : null}\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">נא למלא את כל השדות</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={onSave}>שמירה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default MainCardEditorModal;\r\n","import Parse from \"parse\";\r\n\r\nasync function deleteDafKesher(dafKesherId) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.destroy().then(\r\n            (dafKesher) => {\r\n                // console.log('DafKesher destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteDafKesher;","import Parse from \"parse\";\r\n\r\nasync function deleteGallery(galleryId) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.destroy().then(\r\n            (gallery) => {\r\n                // console.log('Gallery destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteGallery;","import Parse from \"parse\";\r\n\r\nasync function deleteImage(imageId) {\r\n\r\n    const Image = Parse.Object.extend('Image');\r\n    const query = new Parse.Query(Image);\r\n\r\n    query.get(imageId).then((image) => {\r\n        image.destroy().then(\r\n            (image) => {\r\n                // console.log('Image destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Image: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteImage;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherContent(dafKesherId, content) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('data', content);\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherContent;","import React from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport deleteDafKesher from '../../utils/deleteDafKesher';\r\nimport deleteGallery from '../../utils/deleteGallery';\r\nimport deleteImage from '../../utils/deleteImage';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\nfunction DeleteWarningModal(props) {\r\n    const {fullData, data, dafKesherId, objectType, showModal, closeModal, cleanDataToEdit} = props;\r\n    function handleClose() {\r\n        closeModal();\r\n        cleanDataToEdit();\r\n    }\r\n    console.log(data);\r\n    function deleteClick () {\r\n        if (objectType === 'דף קשר') {\r\n            deleteDafKesher(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'גלריה') {\r\n            deleteGallery(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'חומר לימודי' || objectType === 'הודעה') {\r\n            fullData[data.type].splice(data.index, 1);\r\n            updateDafKesherContent(dafKesherId, fullData).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'תמונה') {\r\n            deleteImage(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={handleClose} backdrop=\"static\" keyboard={false} centered className='c-delete-warning-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>מחיקת {objectType}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='text-center'>\r\n                <h5>הנך מנסה למחוק {objectType}{data.title && <span className='font-weight-bold'> {data.title}</span>},</h5>\r\n                <div>פעולה זו איננה ניתנת לביטול</div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>ביטול</Button>\r\n                <Button variant=\"warning\" onClick={deleteClick}>מחיקה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DeleteWarningModal;","import { useContext, useEffect, useState } from 'react';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './DapeyKesherPage.css';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\n\r\nconst DapeyKesherPage = () => {\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [dafKesherToEdit, setDafKesherToEdit] = useState('');\r\n    \r\n    useEffect(() => {\r\n        async function getDapeyKesher() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGarden(garden);\r\n        }\r\n        \r\n        getDapeyKesher();\r\n    }, [showMainCardEditorModal,showDeleteAlert])\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    function handleEdit(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowMainCardEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const addDafKesher = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map(dafKesher =>\r\n        <Col className='py-2' md={6} lg={3} key={dafKesher.id}>\r\n            <DafKesherCard dafKesher={dafKesher} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>\r\n    ) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-dapey-kesher\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{garden.name}</div>\r\n                        <h2>דפי הקשר שלנו</h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row className='align-items-stretch'>\r\n                    {addDafKesher}\r\n                    {dapeyKesherView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={dafKesherToEdit} parseGarden={garden.parseGarden} cardType='dafKesher'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n            <DeleteWarningModal data={dafKesherToEdit} objectType='דף קשר' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DapeyKesherPage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './GalleriesPage.css';\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport getGardenGalleries from '../../utils/getGardenGalleries';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\n\r\nconst GalleriesPage = () => {\r\n    const [galleries, setGalleries] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [galleryToEdit, setGalleryToEdit] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getGalleries () {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n\r\n        getGalleries();\r\n    },[showMainCardEditorModal,showDeleteAlert]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function handleEdit(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowMainCardEditorModal(true);\r\n    }    \r\n\r\n    function handleDeleteClick(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowDeleteAlert(true);\r\n    }    \r\n\r\n    const addGallery = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n    \r\n    const galleriesView = galleries ? galleries.map(gallery => {\r\n        return(<Col className='py-2' md={6} lg={3} key={gallery.id}>\r\n            <GalleryCard gallery={gallery} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>)        \r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-galleries\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <div className='name'>{garden.name}</div> : null}\r\n                        <h2>הגלריות שלנו</h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {addGallery}\r\n                    {galleriesView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={galleryToEdit} parseGarden={garden.parseGarden} cardType='gallery'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n            <DeleteWarningModal data={galleryToEdit} objectType='גלריה' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesPage;","import Parse from 'parse';\r\n\r\nasync function addImage(image, galleryId) {\r\n    const parseGallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    \r\n    const Image = Parse.Object.extend('Image');\r\n    const myNewImage = new Image();\r\n    \r\n    myNewImage.set('file', new Parse.File(image.name, image));\r\n    \r\n    // myNewImage.set('isPrimary', true);\r\n    myNewImage.set('gallery', parseGallery);\r\n    \r\n    const response = await myNewImage.save();\r\n    \r\n    return response;\r\n}\r\n\r\nexport default addImage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, CardColumns, Card, Form, Spinner } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport addImage from '../../utils/addImage';\r\nimport emailjs from 'emailjs-com';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\nimport './ContactUsPage.css'\r\n\r\n\r\nconst ContactUsPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [name, setName] = useState(activeUser ? `${activeUser.fname} ${activeUser.lname}` : '');\r\n    const [email, setEmail] = useState(activeUser ? activeUser.email : '');\r\n    const [subject, setSubject] = useState('');\r\n    const [request, setRequest] = useState('');\r\n    const [useUserInfo, setUseUserInfo] = useState(activeUser ? true : false);\r\n    const [files, setFiles] = useState('');\r\n    const [filesUrl, setFilesUrl] = useState('');\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n    const [isFormSubmitted, setIsFormSubmitted] = useState(false);\r\n    \r\n    function sendForm () {\r\n        emailjs.send(\"service_5cx738e\",\"template_k3nemuh\",{\r\n            from_name: name,\r\n            from_email: email,\r\n            topic: subject,\r\n            message: request,\r\n            file_links: filesUrl,\r\n            });\r\n\r\n        setSubject('');\r\n        setRequest('');\r\n        setFiles('');\r\n        setFilesUrl('');\r\n        setIsFormSubmitted(true);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (name && isEmailValid(email) && subject && request) {\r\n            setIsFormValid(true);\r\n            setShowEmailError(false);\r\n        } else if (!isEmailValid(email) && email!=='') {\r\n            setShowEmailError(true);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        } else if (isEmailValid(email)) {\r\n            setShowEmailError(false);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        }\r\n    });\r\n    \r\n    function onSwitchMode() {\r\n        if (!useUserInfo) {\r\n            setName(`${activeUser.fname} ${activeUser.lname}`);\r\n            setEmail(activeUser.email);\r\n            setUseUserInfo(!useUserInfo);\r\n        } else {\r\n            setName('');\r\n            setEmail('');\r\n            setUseUserInfo(!useUserInfo);\r\n        }\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setFiles(event.target.files);\r\n        const filesArr = Object.values(event.target.files);\r\n        let newFilesUrl = [];\r\n        await Promise.all(filesArr.map(async file => {\r\n            const res = await addImage(file, 'fe0qzAHNtH');\r\n            console.log(res.get('file')._url);\r\n            newFilesUrl.push(res.get('file')._url);\r\n            debugger\r\n        }));\r\n        setFilesUrl(newFilesUrl);\r\n    }\r\n\r\n    const filesAmount = files ? files.length : 0;\r\n\r\n    const filesView = filesUrl ? filesUrl.map((fileUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={fileUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    if (isFormSubmitted) {\r\n        return(\r\n            <div className=\"p-contact-us success\">\r\n                <h2>פנייתך נשלחה בהצלחה</h2>\r\n                <Button variant='info' onClick={() => {setIsFormSubmitted(false)}} >פנייה נוספת</Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-contact-us\">\r\n            <h2>צור קשר</h2>\r\n            <Form>\r\n                <Form.Group controlId=\"formContactUsName\">\r\n                    <Form.Label>שם</Form.Label>\r\n                    {activeUser ? <Form.Check type='switch' variant='warning' id='formContactUsFileSwitch' label={useUserInfo ? 'משתמש בפרטים שלי' : 'השתמש בפרטים שלי'} checked={useUserInfo} onChange={onSwitchMode} /> : null}\r\n                    <Form.Control type=\"text\" value={name} onChange={e => {setName(e.target.value)}}/>\r\n                </Form.Group>\r\n                \r\n                <Form.Group controlId=\"formContactUsEmail\">\r\n                    <Form.Label>דואר אלקטרוני</Form.Label>\r\n                    <Form.Control type=\"email\" value={email} className={showEmailError ? 'is-invalid' : null} onChange={e => { setEmail(e.target.value) }} />\r\n                    <Form.Control.Feedback type=\"invalid\">כתובת מייל לא תקינה</Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsSubject\">\r\n                    <Form.Label>נושא</Form.Label>\r\n                    <Form.Control type=\"text\" value={subject}  onChange={e => {setSubject(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsRequest\">\r\n                    <Form.Label>תוכן הפניה</Form.Label>\r\n                    <Form.Control as=\"textarea\" value={request}  onChange={e => {setRequest(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.File id=\"formContactUsFile\" label='' data-browse=\"בחירת קבצים\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{filesAmount >0 ? `נבחרו ${filesAmount} קבצים` : 'ניתן לבחור מספר קבצים'}</Form.Text>\r\n                    <CardColumns>\r\n                        {filesView}\r\n                    </CardColumns>\r\n                    {files && filesView === null && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n                <Button variant=\"warning\" type=\"button\" className='w-100' disabled={!isFormValid} onClick={sendForm}>\r\n                    שליחה\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactUsPage;","import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './ImageCard.css';\r\n\r\nconst ImageCard = (props) => {\r\n    const { image, onClick, activeUser, handleDeleteClick } = props;\r\n    return (\r\n        <div className='c-image-card'>\r\n            <Card>\r\n                {image ? <Card.Img variant=\"top\" src={image.url}  onClick={onClick} /> : null}\r\n                {activeUser && activeUser.role === 'manager' &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon icon={faTrashAlt} onClick={() => {handleDeleteClick(image)}}/>\r\n                    </Card.Footer>}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageCard;","import { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Button, Col, Image, Modal } from 'react-bootstrap';\r\nimport './ImageModal.css'\r\n\r\nconst ImageModal = (props) => {\r\n    const { images, showModal, selectedImage, close, onImageChange } = props;\r\n\r\n    function nextImage() {\r\n        if (selectedImage === images.length - 1) {\r\n            onImageChange(0);\r\n        } else {\r\n            onImageChange(selectedImage + 1);\r\n        }\r\n    }\r\n\r\n    function prevImage() {\r\n        if (selectedImage === 0) {\r\n            onImageChange(images.length - 1);\r\n        } else {\r\n            onImageChange(selectedImage - 1);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-image-modal'>\r\n            <Modal.Body className='p-0 row'>\r\n                <Col xs={1} className='prev'>\r\n                    <a className='prev' variant='dark' onClick={prevImage}><FontAwesomeIcon icon={faChevronRight}/></a>\r\n                </Col>\r\n                <Col xs={10} className='p-0'>\r\n                    <Image src={images[selectedImage].url} />\r\n                    <Button onClick={close} className='modal-x-button' variant='outline-warning'>X</Button>\r\n                </Col>\r\n                <Col xs={1} className='next'>\r\n                    <a className='next' variant='dark' onClick={nextImage}><FontAwesomeIcon icon={faChevronLeft}/></a>\r\n                </Col>\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ImageModal;","import Parse from 'parse';\r\n\r\nasync function getGalleryImages(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const imgQuery = new Parse.Query(Parse.Object.extend('Image'));\r\n    imgQuery.equalTo(\"gallery\", Gallery);\r\n\r\n    const results = await imgQuery.find();\r\n\r\n    const images = results.map(image => {\r\n        const desc = image.get('desc') ? image.get('desc') : '';\r\n        const url = image.get('file')._url;\r\n        const id = image.id;\r\n\r\n        return({\r\n            'id':id,\r\n            'desc':desc,\r\n            'url':url\r\n        })\r\n    });\r\n\r\n    return (images);\r\n}\r\nexport default getGalleryImages;","import Parse from 'parse';\r\nimport getGalleryMainImg from './getGalleryMainImg';\r\n\r\nasync function getGalleryDetails(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const galleryName = Gallery.get('title');\r\n    const galleryMainImg = await getGalleryMainImg(galleryId);\r\n\r\n    return ({'parseGallery':Gallery, 'title':galleryName, 'mainImg': galleryMainImg});\r\n}\r\nexport default getGalleryDetails;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './AddImageCard.css';\r\n\r\nconst AddImageCard = (props) => {\r\n    const { onClick } = props;\r\n\r\n    return (\r\n        <Card className='c-add-image-card' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default AddImageCard;","\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Button, Card, CardColumns, Form, Modal, Spinner } from 'react-bootstrap';\r\nimport addImage from '../../utils/addImage';\r\nimport deleteImage from '../../utils/deleteImage';\r\n\r\nfunction AddImageModal(props) {\r\n    const {galleryTitle, galleryId, showModal, closeModal} = props;\r\n    const [images, setImages] = useState('');\r\n    const [imagesId, setImagesId] = useState([]);\r\n    const [imagesUrl, setImagesUrl] = useState([]);\r\n\r\n    function handleClose(params) {\r\n        closeModal();\r\n        setImages('');\r\n        setImagesId([]);\r\n        setImagesUrl([]);\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setImages(event.target.files);\r\n        const imagesArr = Object.values(event.target.files);\r\n        let newImagesId = [];\r\n        let newImagesUrl = [];\r\n        await Promise.all(imagesArr.map(async image => {\r\n            const res = await addImage(image, galleryId);\r\n            newImagesId.push(res.id);\r\n            newImagesUrl.push(res.get('file')._url);\r\n            \r\n        }));\r\n        setImagesId(newImagesId);\r\n        setImagesUrl(newImagesUrl);\r\n    }\r\n    \r\n    function closeClicked() {\r\n        imagesId && imagesId.map(image => {\r\n            deleteImage(image);\r\n        });\r\n        handleClose();\r\n    }\r\n    \r\n    function addClicked() {\r\n        handleClose();\r\n    }\r\n    \r\n    const imagesAmount = images ? images.length : 0;\r\n\r\n    const imagesView = imagesUrl ? imagesUrl.map((imageUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={imageUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    return (\r\n        <Modal className='c-add-image-modal' size={'md'} show={showModal} onHide={handleClose} centered backdrop=\"static\" keyboard={false}>\r\n            <Modal.Header>\r\n                <Modal.Title>הוספת תמונות לגלריה <span className='font-weight-bold'>{galleryTitle}</span></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form.Group>\r\n                    <Form.File id=\"formFiles\" label={images ? 'filesNames' : 'בחירת קבצים'} data-browse=\"בחירת קבצים\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{imagesAmount >0 ? `נבחרו ${imagesAmount} קבצים` : 'ניתן לבחור מספר קבצים יחד'}</Form.Text>\r\n                    <CardColumns>\r\n                        {imagesView}\r\n                    </CardColumns>\r\n                    {images && imagesView.length === 0 && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={closeClicked} disabled={images && imagesView.length === 0}>ביטול</Button>\r\n                <Button variant=\"warning\" onClick={addClicked} disabled={imagesView.length === 0}>הוספה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default AddImageModal;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CardColumns, Container, Spinner } from 'react-bootstrap';\r\nimport './GalleryPage.css'\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport ImageCard from '../../components/ImageCard/ImageCard';\r\nimport ImageModal from '../../components/ImageModal/ImageModal';\r\nimport getGalleryImages from '../../utils/getGalleryImages';\r\nimport getGalleryDetails from '../../utils/getGalleryDetails';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddImageCard from '../../components/ImageCard/AddImageCard';\r\nimport AddImageModal from '../../components/AddImage/AddImageModal';\r\n\r\nconst GalleryPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [images, setImages] = useState([]);\r\n    const [galleryTitle, setGalleryTitle] = useState('');\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showAddImage, setShowAddImage] = useState(false);\r\n    const [imageToEdit, setImageToEdit] = useState('');\r\n\r\n    const galleryId = useParams().id;\r\n\r\n    useEffect(() => {\r\n        async function getImages (){\r\n            const images = await getGalleryImages(galleryId);\r\n            const title = (await getGalleryDetails(galleryId)).title;\r\n            setImages(images);\r\n            setGalleryTitle(title);\r\n        }\r\n        \r\n        getImages();\r\n        \r\n    },[showDeleteAlert, showAddImage, imageToEdit])\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function onImageSelect (index) {\r\n        setShowImageModal(true);\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function onImageChange (index){\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function handleDeleteClick(image) {\r\n        setImageToEdit(image);\r\n        setShowDeleteAlert(true);\r\n    } \r\n    \r\n    const addImage = activeUser && activeUser.role === 'manager' && <AddImageCard onClick={() => {setShowAddImage(true)}}/>;\r\n\r\n    const imagesView = images && images.map((image, index) =>\r\n        <ImageCard image={image} key={image.id} activeUser={activeUser} onClick={() => onImageSelect(index)} handleDeleteClick={handleDeleteClick}/>);\r\n\r\n    if (!galleryTitle) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-gallery'>\r\n            <h2>{galleryTitle}</h2>\r\n            <Container>\r\n                <CardColumns>\r\n                    {addImage}\r\n                    {imagesView}\r\n                </CardColumns>\r\n            </Container>\r\n            {selectedImage !== null && images.length>0 &&\r\n                <ImageModal images={images} showModal={showImageModal} selectedImage={selectedImage} close={() => { setShowImageModal(false) }} onImageChange={onImageChange} />}\r\n            <DeleteWarningModal data={imageToEdit} objectType='תמונה' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setImageToEdit('') }} />\r\n            {images && <AddImageModal galleryTitle={galleryTitle} galleryId={galleryId} showModal={showAddImage} closeModal={() => {setShowAddImage(false)}}/>}\r\n        </div>\r\n    )\r\n}\r\nexport default GalleryPage;","import './StudyTopicBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst StudyTopicBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='c-study-topic-box mb-4'>\r\n            {deleteIcon}\r\n            {editIcon}\r\n            <Card.Title>{headline}</Card.Title>\r\n            <Card.Text>{content}</Card.Text>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StudyTopicBox;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getDafKesherDetails(dafKesherId) {\r\n    const DafKesher = await new Parse.Query(new Parse.Object.extend('DafKesher')).get(dafKesherId);\r\n    const data = DafKesher.get('data');\r\n    const title = DafKesher.get('title');\r\n    const hebDate = getHebrewDate(DafKesher.get('date'));\r\n\r\n\r\n    return ({'parseDafKesher':DafKesher, 'data':data, 'title':title, 'hebDate':hebDate})\r\n}\r\n\r\nexport default getDafKesherDetails;","\r\nfunction getRandomBgColor(props) {\r\n    \r\n    const bgColors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\r\n    const randomBgColor = bgColors[Math.floor(Math.random() * bgColors.length)];\r\n\r\n    return randomBgColor;\r\n}\r\n\r\nexport default getRandomBgColor;","import './MessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport getRandomBgColor from '../../utils/getRandomBgColor';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst MessageBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n    \r\n    const bgColor = getRandomBgColor();\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }    \r\n\r\n    return (\r\n        <Card className='c-message-box m-2' bg={bgColor} text={bgColor === 'light' ? 'dark' : 'white'}>\r\n            <Card.Body>\r\n                {deleteIcon}\r\n                {editIcon}\r\n                <Card.Title>{headline}</Card.Title>\r\n                <Card.Text>{content}</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MessageBox;","import './AddMessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\n\r\nconst AddMessageBox = ({onClick}) => {\r\n    \r\n    const activeUser = useContext(ActiveUserContext);\r\n    \r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    return (\r\n        <Card className='c-add-message-box m-2 text-center' bg={'light'} text={'dark'} onClick={onClick}>\r\n            <Card.Body>\r\n                <Card.Title>+</Card.Title>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default AddMessageBox;","import './AddStudyTopicBox.css';\r\nimport React, { useContext } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst AddStudyTopicBox = ({onClick}) => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <div className='c-add-study-topic-box text-center' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddStudyTopicBox;","import React, { useEffect, useState } from 'react';\r\nimport { Alert, Button, Form, Modal } from 'react-bootstrap';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\n\r\nconst DafKesherEditorModal = (props) => {\r\n    const { dafKesherId, fullData, data, showModal, closeModal, cleanDataToEdit } = props;\r\n    const [headline, setHeadline] = useState();\r\n    const [content, setContent] = useState();\r\n    const [showError, setShowError] = useState(false);\r\n\r\n    useEffect(() => { \r\n        const type = typeof data;\r\n        if (type === 'object') {\r\n            setHeadline(fullData[data.type][data.index].headline);\r\n            setContent(fullData[data.type][data.index].content);\r\n        } else {\r\n            setHeadline('');\r\n            setContent('');\r\n        }\r\n    }, [data]);\r\n\r\n    function close () {\r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (!(headline && content)) {\r\n            setShowError(true);\r\n        } else if (typeof data !== 'object') {\r\n            let newData = { ...fullData };\r\n            newData[data].push({ headline: headline, content: content });\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close()\r\n        } else {\r\n            let newData = { ...fullData };\r\n            newData[data.type][data.index].headline = headline;\r\n            newData[data.type][data.index].content = content;\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close();\r\n        }\r\n    }\r\n\r\n\r\n    const modalTitle = (typeof data) === 'object' ? 'עריכת תוכן דף קשר' : 'הוספת תוכן חדש';\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-daf-kesher-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <Form>\r\n                <Form.Group controlId='headline'>\r\n                    <Form.Label>כותרת</Form.Label>\r\n                    <Form.Control type=\"text\" value={headline} onChange={e => { setHeadline(e.target.value) }} />\r\n                </Form.Group>\r\n                <Form.Group controlId='content'>\r\n                    <Form.Label>תוכן</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows={5} value={content} onChange={e => {setContent(e.target.value)}} />\r\n                </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">נא למלא את כל השדות</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={onSave}>שמירה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DafKesherEditorModal;","import './DafKesherPage.css'\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport StudyTopicBox from '../../components/StudyTopicBox/StudyTopicBox';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport getDafKesherDetails from '../../utils/getDafKesherDetails';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MessageBox from '../../components/MessageBox/MessageBox';\r\nimport AddMessageBox from '../../components/MessageBox/AddMessageBox';\r\nimport AddStudyTopicBox from '../../components/StudyTopicBox/AddStudyTopicBox';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport DafKesherEditorModal from '../../components/DafKesherEditorModal/DafKesherEditorModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCommentDots, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction DafKesherPage() {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [data, setData] = useState('');\r\n    const [header, setHeader] = useState('');\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showEditorModal, setShowEditorModal] = useState(false);\r\n    const [contentToEdit, setContentToEdit] = useState('');\r\n    \r\n    const dafKesherId = useParams().id;\r\n    \r\n    useEffect(() => {\r\n        async function getData() {\r\n            const dafKesher = await getDafKesherDetails(dafKesherId);\r\n            const gardenDetails = (await getGardenDetails(activeUser));\r\n            const header = {\r\n                'title': dafKesher.title,\r\n                'hebDate': dafKesher.hebDate,\r\n                'logo': gardenDetails.logo,\r\n                'name': gardenDetails.name\r\n            };\r\n            setHeader(header);\r\n            setData(dafKesher.data);\r\n        }\r\n        getData();\r\n    }, []);\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    \r\n    function handleAddClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleEditClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const topicsView = data.studyTopics ? data.studyTopics.map( (topic, index) => \r\n        <div key={index}>\r\n            <StudyTopicBox topic={{ 'headline': topic.headline, 'content': topic.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'studyTopics', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'studyTopics', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addTopic = activeUser && activeUser.role === 'manager' && <AddStudyTopicBox onClick={() => { handleAddClick('studyTopics') }}/>;\r\n\r\n    const messagesView = data.messages ? data.messages.map( (message, index) => \r\n        <div key={index}>\r\n            <MessageBox topic={{ 'headline': message.headline, 'content': message.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'messages', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'messages', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addMessage = activeUser && activeUser.role === 'manager' && <AddMessageBox onClick={() => { handleAddClick('messages') }}/>;\r\n\r\n    if (data.length === 0) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-daf-kesher'>\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{header.name}</div>\r\n                        <h2>{`דף קשר ${header.title}`}</h2>\r\n                        <div className='date'>{header.hebDate}</div>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {header.logo ? <div className='logo'><img src={header.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={8} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>מה למדנו השבוע?</span>\r\n                                <FontAwesomeIcon className='view-icon' icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                {topicsView}\r\n                                {addTopic}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <div>הודעות</div>\r\n                                <FontAwesomeIcon className='view-icon' icon={faCommentDots}/>\r\n                            </Card.Header>\r\n                            {messagesView}\r\n                            {addMessage}\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <DafKesherEditorModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} cardType='dafKesher'\r\n                showModal={showEditorModal} closeModal={() => setShowEditorModal(false)} cleanDataToEdit={() => { setContentToEdit('') }}/>\r\n            <DeleteWarningModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} objectType={contentToEdit.type === 'studyTopics' ? 'חומר לימודי' : 'הודעה'}\r\n                showModal={showDeleteAlert} closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setContentToEdit('') }} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherPage;","\r\nfunction getGreeting() {\r\n    const date = new Date();\r\n    const hour = date.getHours();\r\n    \r\n    let greeting;\r\n    if (hour >=4 && hour <=10) {\r\n        greeting = 'בוקר טוב';\r\n    } else if (hour >= 11 && hour <=16) {\r\n        greeting = 'צהריים טובים';\r\n    } else if (hour >= 17 && hour <=20) {\r\n        greeting = 'ערב טוב';\r\n    } else {\r\n        greeting = 'לילה טוב';\r\n    }\r\n    \r\n    return greeting;\r\n}\r\n\r\nexport default getGreeting;","import { Button, Nav, Navbar } from 'react-bootstrap';\r\nimport './TopNavbar.css';\r\nimport logo from '../../images/logo192.png';\r\nimport { useContext } from 'react';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { useLocation } from 'react-router-dom';\r\nimport getGreeting from '../../utils/getGreeting';\r\n\r\nconst TopNavbar = ({ onLogout }) => {\r\n\r\n  const activeUser = useContext(ActiveUserContext);\r\n\r\n  const path = useLocation().pathname.split('/')[1];\r\n\r\n  const greeting = getGreeting();\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\">\r\n      <Navbar.Brand href=\"#/\" className='ml-2'>\r\n        <img src={logo} alt=\"Digital Garden logo\" className=\"d-inline-block align-top\"/>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className={activeUser ? \"ml-auto\" : \"mr-auto\"}>\r\n          \r\n          { activeUser ?\r\n          <>\r\n            <Nav.Link href=\"#/my-garden\" active={path === 'my-garden' ? true : false}>הגן שלי</Nav.Link>\r\n            <Nav.Link href=\"#/dapey-kesher\" active={path === 'dapey-kesher' ? true : false}>דפי קשר</Nav.Link>\r\n            <Nav.Link href=\"#/galleries\" active={path === 'galleries' ? true : false}>גלריות</Nav.Link>\r\n          </> : null}\r\n\r\n          <Nav.Link href=\"#/contact-us\" active={path === 'contact-us' ? true : false}>צור קשר</Nav.Link>\r\n        </Nav>\r\n        \r\n        { activeUser ?\r\n        <Nav>\r\n          <Navbar.Text>{`${greeting}, ${activeUser.fname}`}</Navbar.Text>\r\n          <Button as='a' variant='' onClick={onLogout}>התנתק</Button>\r\n        </Nav> : null}\r\n\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default TopNavbar;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport HomePage from './pages/HomePage/HomePage';\nimport MyGardenPage from './pages/MyGardenPage/MyGardenPage';\nimport DapeyKesherPage from './pages/DapeyKesherPage/DapeyKesherPage';\nimport GalleriesPage from './pages/GalleriesPage/GalleriesPage';\nimport ContactUsPage from './pages/ContactUsPage/ContactUsPage';\nimport { useState } from 'react';\nimport ActiveUserContext from './utils/ActiveUserContext';\nimport Parse from 'parse';\nimport UserModel from './model/UserModel';\nimport GalleryPage from './pages/GalleryPage/GalleryPage';\nimport DafKesherPage from './pages/DafKesherPage/DafKesherPage';\nimport TopNavbar from './components/TopNavbar/TopNavbar';\nimport{ init } from 'emailjs-com';\n\nfunction App() {\n  const [activeUser, setActiveUser] = useState(Parse.User.current() ? new UserModel(Parse.User.current()) : null);\n  \n  init(\"user_AV4NvFTR6vJnUEHOtXINx\");\n  const handleLogin = (loggedinUser) => {\n    setActiveUser(loggedinUser);\n  }\n\n  const handleLogout = () => {\n    setActiveUser(null);\n    Parse.User.logOut();\n  }\n\n  return (\n    <>\n      <HashRouter>\n        <Switch>\n          <ActiveUserContext.Provider value={activeUser}>\n            <TopNavbar onLogout={handleLogout}/>\n            <Route exact path=\"/\"><HomePage onLogin={handleLogin} /></Route>\n            <Route exact path=\"/my-garden\"><MyGardenPage /></Route>\n            <Route exact path=\"/dapey-kesher\"><DapeyKesherPage /></Route>\n            <Route exact path=\"/dapey-kesher/:id\"><DafKesherPage /></Route>\n            <Route exact path=\"/galleries\"><GalleriesPage /></Route>\n            <Route exact path=\"/galleries/:id\"><GalleryPage /></Route>\n            <Route exact path=\"/contact-us\"><ContactUsPage /></Route>\n          </ActiveUserContext.Provider>\n        </Switch>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Parse from \"parse\";\n\nParse.serverURL = 'https://parseapi.back4app.com';\nParse.initialize(\n  'YjX6kib1y4ZL0wYCCXagO161JHCAZNLF8vz04iNh', // This is your Application ID\n  'YYhfXbq4guVCOl4BhV5Jcvfh43NNbDbIpAqI2LzG', // This is your Javascript key\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}