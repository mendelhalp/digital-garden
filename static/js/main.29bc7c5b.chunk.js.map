{"version":3,"sources":["images/logo192.png","model/UserModel.jsx","utils/IsEnterPressed.jsx","utils/isEmailValid.jsx","components/LoginModal/LoginModal.jsx","utils/ActiveUserContext.jsx","utils/addImage.jsx","utils/deleteImage.jsx","utils/addGarden.jsx","utils/signup.jsx","utils/isPasswordValid.jsx","components/SignupModal/SignupModal.jsx","pages/HomePage/HomePage.jsx","utils/getGalleryMainImg.jsx","components/GalleryCard/GalleryCard.jsx","utils/getHebrewDate.jsx","utils/getGardenDapeyKesher.jsx","utils/getGardenDetails.jsx","utils/getGardenGalleries.jsx","components/DafKesherCard/DafKesherCard.jsx","pages/MyGardenPage/MyGardenPage.jsx","components/AddMainCard/AddMainCard.jsx","utils/createNewDafKesher.jsx","utils/updateDafKesherDetails.jsx","utils/createNewGallery.jsx","utils/updateGalleryDetails.jsx","components/MainCardEditorModal/MainCardEditorModal.jsx","utils/deleteDafKesher.jsx","utils/deleteGallery.jsx","utils/updateDafKesherContent.jsx","components/DeleteWarningModal/DeleteWarningModal.jsx","pages/DapeyKesherPage/DapeyKesherPage.jsx","pages/GalleriesPage/GalleriesPage.jsx","pages/ContactUsPage/ContactUsPage.jsx","components/ImageCard/ImageCard.jsx","components/ImageModal/ImageModal.jsx","utils/getGalleryImages.jsx","utils/getGalleryDetails.jsx","components/ImageCard/AddImageCard.jsx","components/AddImage/AddImageModal.jsx","pages/GalleryPage/GalleryPage.jsx","components/StudyTopicBox/StudyTopicBox.jsx","utils/getDafKesherDetails.jsx","utils/getRandomBgColor.jsx","components/MessageBox/MessageBox.jsx","components/MessageBox/AddMessageBox.jsx","components/StudyTopicBox/AddStudyTopicBox.jsx","components/DafKesherEditorModal/DafKesherEditorModal.jsx","pages/DafKesherPage/DafKesherPage.jsx","utils/getGreeting.jsx","components/TopNavbar/TopNavbar.jsx","App.js","reportWebVitals.js","index.js"],"names":["UserModel","parseUser","this","id","email","get","fname","lname","gardenId","role","isEnterPressed","e","key","isEmailValid","test","LoginModal","props","showModal","showSignupModal","handleCloseLogin","onLogin","useState","setEmail","pwd","setPwd","showError","setShowError","showEmailError","setShowEmailError","cleanFormFields","login","a","Parse","User","logIn","close","ifEnterPressed","event","useEffect","Modal","size","show","onHide","centered","className","Header","Title","Body","Form","Group","controlId","Label","Control","type","placeholder","value","onChange","target","onKeyPress","Feedback","Alert","variant","Footer","Button","onClick","ActiveUserContext","createContext","image","galleryId","Query","Object","extend","parseGallery","Image","myNewImage","set","File","name","save","response","addImage","imageId","then","destroy","error","deleteImage","year","logo","Gan","myNewGarden","addGarden","parseGarden","user","signUp","res","console","log","signup","isPasswordValid","SignupModal","handleCloseSignup","activeUser","useContext","userFname","setUserFname","userLname","setUserLname","userEmail","setUserEmail","userPwd","setUserPwd","gardenName","setGardenName","gardenYear","setGardenYear","parentsEmail","setParentsEmail","parentsFname","setParentsFname","setLogo","logoUrl","setLogoUrl","logoId","setLogoId","showPwdError","setShowPwdError","isFormValid","setIsFormValid","showSignupSpinner","setShowSignupSpinner","showParentsLoginAlert","setShowParentsLoginAlert","cleanFields","garden","isRequierdFieldFull","to","files","_url","logoView","Card","Img","src","Heading","as","Row","Col","disabled","performSignup","split","Text","label","data-browse","accept","custom","multiple","Spinner","animation","aria-hidden","HomePage","showLoginModal","setShowLoginModal","setShowSignupModal","redirectToMyGarden","setRedirectToMyGarden","handleLogin","alt","galleryQuery","query","equalTo","count","numOfImgs","find","fullResult","result","mainImgUrl","Math","floor","random","parseGan","ganLogo","getGalleryMainImg","GalleryCard","gallery","handleEdit","handleDeleteClick","title","mainImg","setMainImg","getMainImg","icon","faEdit","faTrashAlt","getHebrewDate","dateObj","require","hebrewDate","month","date","HebrewYearName","yearNum","yearName","tensNames","taf","parseInt","shin","reish","getHebrewYearName","hebrewMonthName","includes","isLeapYear","ganId","dapeyKesherQuery","descending","results","dapeyKesher","map","dafKesher","getGardenDapeyKesher","ganName","gardenDetails","getGardenDetails","galleriesQuery","galleries","getGardenGalleries","DafKesherCard","hebDate","MyGardenPage","setGarden","setGalleries","setDapeyKesher","getGardenData","dapeyKesherView","index","md","lg","galleriesView","Container","sm","faNewspaper","href","faChevronLeft","faImages","AddMainCard","DafKesher","myNewDafKesher","Date","createNewDafKesher","dafKesherId","updateDafKesherDetails","Gallery","myGallery","createNewGallery","updateGalleryDetails","MainCardEditorModal","modalTitle","data","cardType","closeModal","cleanDataToEdit","setTitle","setDate","onSave","toLocaleString","viewDate","length","deleteDafKesher","deleteGallery","content","updateDafKesherContent","DeleteWarningModal","fullData","objectType","handleClose","backdrop","keyboard","splice","DapeyKesherPage","showMainCardEditorModal","setShowMainCardEditorModal","showDeleteAlert","setShowDeleteAlert","dafKesherToEdit","setDafKesherToEdit","getDapeyKesher","addDafKesher","GalleriesPage","galleryToEdit","setGalleryToEdit","getGalleries","addGallery","ContactUsPage","setName","subject","setSubject","request","setRequest","useUserInfo","setUseUserInfo","setFiles","filesUrl","setFilesUrl","isFormSubmitted","setIsFormSubmitted","filesArr","values","newFilesUrl","Promise","all","file","push","filesAmount","filesView","fileUrl","Check","checked","CardColumns","emailjs","send","from_name","from_email","topic","message","file_links","ImageCard","url","ImageModal","images","selectedImage","onImageChange","xs","faChevronRight","imgQuery","desc","getGalleryImages","galleryName","galleryMainImg","getGalleryDetails","AddImageCard","AddImageModal","galleryTitle","setImages","imagesId","setImagesId","imagesUrl","setImagesUrl","params","imagesArr","newImagesId","newImagesUrl","imagesAmount","imagesView","imageUrl","GalleryPage","setGalleryTitle","showImageModal","setShowImageModal","setSelectedImage","showAddImage","setShowAddImage","imageToEdit","setImageToEdit","useParams","getImages","onImageSelect","StudyTopicBox","onDeleteClick","onEditClick","headline","editIcon","deleteIcon","getDafKesherDetails","getRandomBgColor","bgColors","MessageBox","bgColor","bg","text","AddMessageBox","AddStudyTopicBox","DafKesherEditorModal","setHeadline","setContent","rows","newData","DafKesherPage","setData","header","setHeader","showEditorModal","setShowEditorModal","contentToEdit","setContentToEdit","getData","handleAddClick","handleEditClick","topicsView","studyTopics","addTopic","messagesView","messages","addMessage","faCommentDots","getGreeting","hour","getHours","TopNavbar","onLogout","path","useLocation","pathname","greeting","Navbar","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","active","App","current","setActiveUser","init","Provider","logOut","exact","loggedinUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","serverURL","initialize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29bc7c5b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo192.f73b2edd.png\";","class UserModel {\r\n    constructor(parseUser){\r\n        this.id = parseUser.id;\r\n        this.email = parseUser.get('username');\r\n        this.fname = parseUser.get('fname');\r\n        this.lname = parseUser.get('lname');\r\n        this.gardenId = parseUser.get('gan').id;\r\n        this.role = parseUser.get('role');\r\n    }\r\n}\r\n\r\nexport default UserModel;","const isEnterPressed = (e) => e.key === 'Enter' ? true : false;\r\n\r\nexport default isEnterPressed;","\r\nfunction isEmailValid(email) {\r\n    return /.+@.+\\..+/.test(email)\r\n}\r\n\r\nexport default isEmailValid;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport Parse from 'parse';\r\nimport UserModel from '../../model/UserModel';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport { Link } from 'react-router-dom';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\n\r\nfunction LoginModal(props) {\r\n    const {showModal, showSignupModal, handleCloseLogin, onLogin} = props;\r\n    const [email, setEmail] = useState('');\r\n    const [pwd, setPwd] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n\r\n    function cleanFormFields () {\r\n        setEmail('');\r\n        setPwd('');\r\n        setShowError(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (pwd !== ''){\r\n            setShowError(false)\r\n        }\r\n    },[pwd]);\r\n    useEffect(() => {\r\n        setShowError(false);\r\n        if (!isEmailValid(email) && email !== '') {\r\n            setShowEmailError(true);\r\n        } else if (isEmailValid(email)) { \r\n            setShowEmailError(false);\r\n        }\r\n    },[email]);\r\n\r\n    async function login () {\r\n        try {\r\n            const parseUser = await Parse.User.logIn(email, pwd);\r\n            \r\n            // Trigger onLogin event and clean the fields\r\n            onLogin(new UserModel(parseUser));\r\n            handleCloseLogin();\r\n            cleanFormFields();\r\n            \r\n        } catch(error) {\r\n            // show an error alert\r\n            setPwd('');\r\n            setShowError(true);\r\n        }\r\n    }\r\n\r\n    function close () {\r\n        handleCloseLogin();\r\n        cleanFormFields();\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (isEnterPressed(event) && email){\r\n            login();\r\n        }\r\n    }\r\n\r\n    function showSignup(){\r\n        close();\r\n        showSignupModal();\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-login-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='loginUserName'>\r\n                        <Form.Label> </Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\" \" value={email} className={showEmailError ? 'is-invalid' : null}\r\n                            onChange={e => { setEmail(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                        <Form.Control.Feedback type=\"invalid\">   </Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId='loginPwd'>\r\n                        <Form.Label></Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"\" value={pwd}\r\n                            onChange={e => {setPwd(e.target.value)}}  onKeyPress={ifEnterPressed}/>\r\n                    </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">   </Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant='link' className='ml-auto' onClick={showSignup}>  ?</Button>\r\n                <Button variant=\"secondary\" onClick={close}></Button>\r\n                <Button variant=\"warning\" onClick={login}></Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default LoginModal;\r\n","import { createContext } from 'react';\r\n\r\nconst ActiveUserContext = createContext(null);\r\n\r\nexport default ActiveUserContext;","import Parse from 'parse';\r\n\r\nasync function addImage(image, galleryId) {\r\n    const parseGallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    \r\n    const Image = Parse.Object.extend('Image');\r\n    const myNewImage = new Image();\r\n    \r\n    myNewImage.set('file', new Parse.File(image.name, image));\r\n    \r\n    // myNewImage.set('isPrimary', true);\r\n    myNewImage.set('gallery', parseGallery);\r\n    \r\n    const response = await myNewImage.save();\r\n    \r\n    return response;\r\n}\r\n\r\nexport default addImage;","import Parse from \"parse\";\r\n\r\nasync function deleteImage(imageId) {\r\n\r\n    const Image = Parse.Object.extend('Image');\r\n    const query = new Parse.Query(Image);\r\n\r\n    query.get(imageId).then((image) => {\r\n        image.destroy().then(\r\n            (image) => {\r\n                // console.log('Image destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Image: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteImage;","import Parse from 'parse';\r\n\r\nasync function addGarden(name, year, logo) {\r\n    const Gan = Parse.Object.extend('Gan');\r\n    const myNewGarden = new Gan();\r\n\r\n    myNewGarden.set('name', name);\r\n    myNewGarden.set('year', year);\r\n    myNewGarden.set('logo', new Parse.File(logo.name, logo));\r\n    \r\n    const response = await myNewGarden.save();\r\n    \r\n    return response;\r\n}\r\n\r\nexport default addGarden;","import Parse from 'parse';\r\n\r\nasync function signup(email, pwd, role, fname, lname, gardenId) {\r\n    const parseGarden = await new Parse.Query(new Parse.Object.extend('Gan')).get(gardenId);\r\n    const user = new Parse.User()    \r\n\r\n    user.set('username', email);\r\n    user.set('email', email);\r\n    user.set('role', 'manager');\r\n    user.set('gan', parseGarden);\r\n    user.set('fname', fname);\r\n    role === 'manager' && user.set('lname', lname);\r\n    user.set('password', pwd);\r\n    \r\n    const res = await user.signUp();\r\n    console.log(res);\r\n    return res;\r\n}\r\n\r\nexport default signup;","\r\nfunction isPasswordValid(pwd) {\r\n    return /(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/.test(pwd)\r\n}\r\n\r\nexport default isPasswordValid;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, CardColumns, Card, Form, Spinner, Col, Modal, Alert, Row } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport addImage from '../../utils/addImage';\r\nimport deleteImage from '../../utils/deleteImage';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\nimport { Redirect } from 'react-router-dom';\r\nimport addGarden from '../../utils/addGarden';\r\nimport signup from '../../utils/signup';\r\nimport Parse from 'parse';\r\nimport UserModel from '../../model/UserModel';\r\nimport isPasswordValid from '../../utils/isPasswordValid';\r\n\r\n\r\nconst SignupModal = ({showModal, onLogin, handleCloseSignup}) => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [userFname, setUserFname] = useState('');\r\n    const [userLname, setUserLname] = useState('');\r\n    const [userEmail, setUserEmail] = useState('');\r\n    const [userPwd, setUserPwd] = useState('');\r\n    const [gardenName, setGardenName] = useState('');\r\n    const [gardenYear, setGardenYear] = useState('');\r\n    const [parentsEmail, setParentsEmail] = useState('');\r\n    const [parentsFname, setParentsFname] = useState('');\r\n    const [logo, setLogo] = useState('');\r\n    const [logoUrl, setLogoUrl] = useState('');\r\n    const [logoId, setLogoId] = useState('');\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n    const [showPwdError, setShowPwdError] = useState(false);\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n    const [showSignupSpinner, setShowSignupSpinner] = useState(false);\r\n    const [showParentsLoginAlert, setShowParentsLoginAlert] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if (isRequierdFieldFull() && isEmailValid(userEmail) && isPasswordValid(userPwd)) {\r\n            setIsFormValid(true);\r\n            setShowEmailError(false);\r\n            setShowPwdError(false)\r\n        } else {\r\n            \r\n            if (!isEmailValid(userEmail) && userEmail !=='') {\r\n                setShowEmailError(true);\r\n                if (isFormValid) {\r\n                    setIsFormValid(false);\r\n                }\r\n            } else if (isEmailValid(userEmail)) {\r\n                setShowEmailError(false);\r\n                if (isFormValid) {\r\n                    setIsFormValid(false);\r\n                }\r\n            }\r\n            \r\n            if (!isPasswordValid(userPwd) && userPwd !=='') {\r\n                setShowPwdError(true);\r\n                if (isFormValid) {\r\n                    setIsFormValid(false);\r\n                }\r\n            } else if (isPasswordValid(userPwd)) {\r\n                setShowPwdError(false);\r\n                if (isFormValid) {\r\n                    setIsFormValid(false);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    async function login () {\r\n        try {\r\n            const parseUser = await Parse.User.logIn(userEmail, userPwd);\r\n            \r\n            // Trigger onLogin event and clean the fields\r\n            onLogin(new UserModel(parseUser));\r\n            handleCloseSignup();\r\n            cleanFields();\r\n            \r\n        } catch(error) {\r\n            console.log('error while login')\r\n        }\r\n    }\r\n\r\n    function close () {\r\n        handleCloseSignup();\r\n        logoId && deleteImage(logoId);\r\n        cleanFields();\r\n    }\r\n    \r\n    function isRequierdFieldFull() {\r\n        if (userFname && userLname && userEmail && userPwd \r\n            && gardenName && gardenYear && parentsEmail && parentsFname) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function cleanFields() {\r\n        setUserFname('');\r\n        setUserLname('');\r\n        setUserEmail('');\r\n        setUserPwd('');\r\n        setGardenName('');\r\n        setGardenYear('');\r\n        setParentsEmail('');\r\n        setParentsFname('');\r\n        setLogo('');\r\n        setLogoUrl('');\r\n        setShowSignupSpinner(false);\r\n        setShowParentsLoginAlert(false);\r\n    }\r\n\r\n    function signupClicked(){\r\n        setShowSignupSpinner(true);\r\n        setShowParentsLoginAlert(true);\r\n    }\r\n\r\n    async function performSignup () {\r\n        //creat garden in parse\r\n        const garden = await addGarden(gardenName, gardenYear,logo);\r\n\r\n        //create parent in parse\r\n        await signup(parentsEmail, 'Dd123456', 'parent', parentsFname, '', garden.id);\r\n\r\n        //create manager in parse\r\n        await signup(userEmail, userPwd, 'manager', userFname, userFname, garden.id);\r\n\r\n        //delete temporary logo file\r\n        deleteImage(logoId);\r\n\r\n        //login with the user\r\n        login();\r\n\r\n        //show parents login details\r\n        \r\n        \r\n        // setIsFormSubmitted(true);\r\n        cleanFields();\r\n    }\r\n    \r\n    if (activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    async function onFileSelect(event) {\r\n        const logo = event.target.files[0];\r\n        setLogo(logo);\r\n        const res = await addImage(logo, 'fe0qzAHNtH');\r\n        setLogoUrl(res.get('file')._url);\r\n        setLogoId(res.id);\r\n    }\r\n\r\n    const logoView = logoUrl ?\r\n        <Card>\r\n            <Card.Img src={logoUrl}/>\r\n        </Card>\r\n    : null;\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className=\"c-signup-modal\">\r\n            <Modal.Header>\r\n                <Modal.Title>   </Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Alert show={showParentsLoginAlert} variant=\"info\">\r\n                    <Alert.Heading as='h5'>  </Alert.Heading>\r\n                    <hr />\r\n                    <Form as={Row}>\r\n                    <Form.Group as={Col} className='mb-0'>\r\n                        <Form.Label> </Form.Label>\r\n                        <Form.Control placeholder={parentsEmail} disabled />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} className='mb-0'>\r\n                        <Form.Label></Form.Label>\r\n                        <Form.Control placeholder=\"Dd123456\" disabled />\r\n                    </Form.Group>\r\n                    </Form>\r\n                    <hr />\r\n                    <div className=\"d-flex justify-content-end\">\r\n                        <Button onClick={() => {setShowParentsLoginAlert(false); performSignup()}} variant=\"outline-info\">\r\n                              \r\n                        </Button>\r\n                    </div>\r\n                </Alert>\r\n                <Form>\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formUserFname\">\r\n                            <Form.Label></Form.Label>\r\n                            <Form.Control type=\"text\" value={userFname} onChange={e => {setUserFname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formUserLname\">\r\n                            <Form.Label></Form.Label>\r\n                            <Form.Control type=\"text\" value={userLname} onChange={e => {setUserLname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formUserEmail\">\r\n                            <Form.Label> </Form.Label>\r\n                            <Form.Control type=\"email\" value={userEmail} className={showEmailError ? 'is-invalid' : null} \r\n                                onChange={e => { setUserEmail(e.target.value); setParentsEmail(`horim@${e.target.value.split('@')[0]}.com`) }} />\r\n                            <Form.Control.Feedback type=\"invalid\">   </Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formUserPwd\">\r\n                            <Form.Label></Form.Label>\r\n                            <Form.Control type=\"password\" value={userPwd} className={showPwdError ? 'is-invalid' : null} \r\n                            onChange={e => { setUserPwd(e.target.value) }} />\r\n                            <Form.Text className=\"text-muted\">    8  :  ,   .</Form.Text>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGardenName\">\r\n                            <Form.Label> </Form.Label>\r\n                            <Form.Control type=\"text\" value={gardenName} \r\n                                onChange={e => {setGardenName(e.target.value); setParentsFname(` ${e.target.value}`)}}/>\r\n                            <Form.Text className=\"text-muted\">:  </Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formGardenYear\">\r\n                            <Form.Label> </Form.Label>\r\n                            <Form.Control type=\"text\" value={gardenYear} onChange={e => {setGardenYear(e.target.value)}}/>\r\n                            <Form.Text className=\"text-muted\">: \"</Form.Text>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formParentsEmail\">\r\n                            <Form.Label>   </Form.Label>\r\n                            <Form.Control type=\"text\" value={parentsEmail} onChange={e => {setParentsEmail(e.target.value)}}/>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formParentsFname\">\r\n                            <Form.Label>   </Form.Label>\r\n                            <Form.Control type=\"text\" value={parentsFname} onChange={e => {setParentsFname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n\r\n                    <Form.Row>\r\n                        <Form.Group as={Col}>\r\n                            <Form.File id=\"formGardenLogo\" label='' data-browse=\" \" accept=\"image/*\" custom multiple onChange={onFileSelect}/>\r\n                            <Form.Text className=\"text-muted\">{logo ? ' ' : '     '}</Form.Text>\r\n                        </Form.Group>\r\n                        {logo &&\r\n                            <Form.Group as={Col}>\r\n                                {logoView}\r\n                                {logo && logoView === null && \r\n                                        <div className='images-spinner row justify-content-center mt-3'>\r\n                                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                                        </div>\r\n                                }\r\n                            </Form.Group>\r\n                        }\r\n                    </Form.Row>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer className='flex-nowrap'>\r\n                <Button variant=\"secondary\" className='w-50' onClick={close} disabled={showSignupSpinner}></Button>\r\n                <Button variant=\"warning\" className='w-50' type=\"button\" disabled={!isFormValid} onClick={signupClicked}>\r\n                    <span className={showSignupSpinner && 'sr-only'}></span>\r\n                    {showSignupSpinner &&<Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        />}\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default SignupModal;","import './HomePage.css'\r\nimport logo from '../../images/logo192.png'\r\nimport { Button } from 'react-bootstrap';\r\nimport { useContext, useState } from 'react';\r\nimport LoginModal from '../../components/LoginModal/LoginModal';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport SignupModal from '../../components/SignupModal/SignupModal';\r\n\r\nconst HomePage = (props) => {\r\n    const [showLoginModal, setShowLoginModal] = useState(false);\r\n    const [showSignupModal, setShowSignupModal] = useState(false);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [redirectToMyGarden, setRedirectToMyGarden] = useState(activeUser ? true : false);\r\n    const { onLogin } = props;\r\n\r\n    function handleLogin(user) {\r\n        onLogin(user);\r\n        setRedirectToMyGarden(true);\r\n    }\r\n    \r\n    function handleCloseLogin() {\r\n        setShowLoginModal(false);\r\n    }\r\n    function handleCloseSignup() {\r\n        setShowSignupModal(false);\r\n    }\r\n    \r\n    if (redirectToMyGarden) {\r\n        return <Redirect to=\"my-garden\"/>;\r\n    }\r\n    return (\r\n        <div className=\"p-home\">\r\n            <div className='main-content'>\r\n                <div className='logo'>\r\n                    <img className='logo-img' src={logo} alt=\"logo\"/>\r\n                </div>\r\n                <div className='main-text'>\r\n                    <div className='text'>\r\n                        <h2> </h2>\r\n                        <h5>   </h5>\r\n                        <h5> !</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='buttons'>\r\n                <Button variant=\"outline-warning\" size='lg' onClick={() => { setShowLoginModal(true) }}></Button>{' '}\r\n                <Button variant=\"warning\" size='lg' onClick={() => { setShowSignupModal(true) }}></Button>\r\n            </div>\r\n            <LoginModal showModal={showLoginModal} showSignupModal={() => {setShowSignupModal(true)}} \r\n                handleCloseLogin={handleCloseLogin} onLogin={handleLogin}/>\r\n            <SignupModal showModal={showSignupModal} handleCloseSignup={handleCloseSignup} onLogin={handleLogin} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import Parse from 'parse';\r\n\r\n\r\nasync function getGalleryMainImg(galleryId) {\r\n    \r\n    const galleryQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    const parseGallery = await galleryQuery.get(galleryId);\r\n    \r\n    const query = new Parse.Query(Parse.Object.extend('Image'));\r\n    query.equalTo('gallery', parseGallery);\r\n    const numOfImgs = await query.count();\r\n    const fullResult = await query.find();\r\n    query.equalTo('isPrimary', true);\r\n    const result = await query.find();\r\n\r\n    let mainImgUrl;\r\n    if (result[0]) {\r\n        mainImgUrl = result[0].get('file')._url;\r\n    } else if (fullResult && numOfImgs > 0) {\r\n        mainImgUrl = fullResult[Math.floor(Math.random() * numOfImgs)].get('file')._url;\r\n    } else {\r\n        const parseGan = parseGallery.get('gan');\r\n        const ganLogo = parseGan.get('logo')._url;\r\n        \r\n        mainImgUrl = ganLogo;\r\n    }\r\n\r\n    return (mainImgUrl);\r\n\r\n}\r\n\r\n\r\nexport default getGalleryMainImg;","import './GalleryCard.css'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport getGalleryMainImg from '../../utils/getGalleryMainImg';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst GalleryCard = ({gallery, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const {id, title } = gallery;\r\n    const [mainImg, setMainImg] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getMainImg() {\r\n            const mainImg = await getGalleryMainImg(id);\r\n            setMainImg(mainImg);\r\n        }\r\n        getMainImg();\r\n    },[]);\r\n\r\n\r\n    return (\r\n        <div className='c-gallery-card'>\r\n            <Card>\r\n                <Link to={'/galleries/'+ id}>\r\n                    {mainImg ? <Card.Img variant='top' src={mainImg}/> : null}\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(gallery)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(gallery)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleryCard;","function isLeapYear(year) {\r\n    const restForLeapYears = [0, 3, 6, 8, 11, 14, 17];\r\n    return (restForLeapYears.includes(year % 19));\r\n}\r\n\r\nfunction getHebrewYearName(yearNum) {\r\n    const unitsNames = ['', '', '', '', '', '', '', '', ''];\r\n    const tensNames = ['', '', '', '', '', '', '', '', '']\r\n\r\n    let yearName;\r\n    let year = yearNum % 1000;\r\n    const taf = parseInt(year / 400);\r\n    year = year % 400;\r\n    const shin = parseInt(year / 300);\r\n    year = year % 300;\r\n    const reish = parseInt(year / 200);\r\n    year = year % 200;\r\n    const kuf = parseInt(year / 100);\r\n    year = year % 100;\r\n\r\n    yearName = taf > 1 ? '' : taf === 1 ? '' : '';\r\n    yearName += shin === 1 ? '' : '';\r\n    yearName += reish === 1 ? '' : '';\r\n    yearName += kuf === 1 ? '' : '';\r\n    if (year !== 0 && year % 10 !== 0) {\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n        yearName += '\"';\r\n        yearName += unitsNames[year % 10 - 1];\r\n    } else if (year !== 0) {\r\n        yearName += '\"';\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n    } else {\r\n        yearName += \"'\";\r\n    }\r\n\r\n    return(yearName)\r\n}\r\n\r\nfunction getHebrewDate(dateObj) {\r\n    const hebrewDate = require('hebrew-date');\r\n    const { year, month, date } = hebrewDate(dateObj);\r\n    \r\n    const monthNamesOfNonLeapYear = ['', '', '', '', '', '', '', '', '', '', '', ''];\r\n    const monthNamesOfLeapYear = ['', '', '', '', '', ' ', ' ', '', '', '', '', '', ''];\r\n    \r\n    const dateNames = ['', '', '', '', '', '', '', '', '', '', '\"', '\"', '\"', '\"'\r\n    , '\"', '\"', '\"', '\"', '\"', '', '\"', '\"', '\"', '\"', '\"', '\"', '\"', '\"', '\"', ''];\r\n    \r\n    const HebrewYearName = getHebrewYearName(year);\r\n    const hebrewMonthName = isLeapYear(year) ? monthNamesOfLeapYear[month -1] : monthNamesOfNonLeapYear[month -1];\r\n    const hebrewDateName = dateNames[date -1];\r\n    const hebrewDateStr = hebrewDateName + ' ' + hebrewMonthName + ' ' + HebrewYearName;\r\n\r\n    return (hebrewDateStr);\r\n}\r\n\r\nexport default getHebrewDate;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getGardenDapeyKesher(ganId) {\r\n\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const dapeyKesherQuery = new Parse.Query(Parse.Object.extend('DafKesher'));\r\n    dapeyKesherQuery.equalTo(\"gan\", Gan);\r\n    dapeyKesherQuery.descending(\"date\");\r\n\r\n    const results = await dapeyKesherQuery.find();\r\n\r\n    const dapeyKesher = results.map(dafKesher => {\r\n        return({\r\n            'id':dafKesher.id,\r\n            'title': dafKesher.get('title'),\r\n            'date':dafKesher.get('date'),\r\n            'hebDate':getHebrewDate(dafKesher.get('date'))\r\n        })\r\n    });\r\n\r\n    return (dapeyKesher);\r\n}\r\nexport default getGardenDapeyKesher;","import Parse from 'parse';\r\n\r\nasync function getGardenDetails(activeUser) {\r\n    const parseUser = await new Parse.Query(new Parse.User()).get(activeUser.id);\r\n    const parseGan = await new Parse.Query(new Parse.Object.extend('Gan')).get(parseUser.get('gan').id);\r\n    const ganName = parseGan.get('name');\r\n    const ganLogo = parseGan.get('logo')._url;\r\n\r\n    const gardenDetails = {\r\n        'parseGarden':parseGan,\r\n        'id':parseGan.id,\r\n        'name':ganName,\r\n        'logo':ganLogo\r\n    }\r\n    return (gardenDetails);\r\n}\r\n\r\nexport default getGardenDetails;","import Parse from 'parse';\r\n\r\nasync function getGardenGalleries(ganId) {\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const galleriesQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    galleriesQuery.equalTo(\"gan\", Gan);\r\n\r\n    const results = await galleriesQuery.find();\r\n\r\n    const galleries = results.map(gallery => {\r\n        return({\r\n            'id':gallery.id,\r\n            'title':gallery.get('title')\r\n        })\r\n    });\r\n\r\n    return (galleries);\r\n}\r\nexport default getGardenGalleries;","import './DafKesherCard.css'\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst DafKesherCard = ({dafKesher, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const { id, title, hebDate} = dafKesher;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    return (\r\n        <div className='c-daf-kesher-card'>\r\n            <Card>\r\n                <Link to={'/dapey-kesher/' + id}>\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                    <Card.Text className='text-center'>{hebDate}</Card.Text>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(dafKesher)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(dafKesher)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherCard;","import { useContext, useEffect, useState } from 'react'\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom'\r\nimport ActiveUserContext from '../../utils/ActiveUserContext'\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher'\r\nimport getGardenDetails from '../../utils/getGardenDetails'\r\nimport getGardenGalleries from '../../utils/getGardenGalleries'\r\nimport './MyGardenPage.css'\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faImages, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst MyGardenPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [galleries, setGalleries] = useState([]);\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getGardenData() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n        getGardenData();\r\n    },[garden]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map((dafKesher, index) => {\r\n        \r\n        if (index < 6) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={dafKesher.id}>\r\n                    <DafKesherCard dafKesher={dafKesher} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    const galleriesView = galleries ? galleries.map((gallery, index) => {\r\n        \r\n        if (index < 4) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={gallery.id}>\r\n                    <GalleryCard gallery={gallery} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-my-gan\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <h2 className='name'>{garden.name}</h2> : null}\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span> </span>\r\n                                <FontAwesomeIcon icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {dapeyKesherView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/dapey-kesher'>\r\n                                <Card.Footer className='text-center'>\r\n                                    <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span></span>\r\n                                <FontAwesomeIcon icon={faImages}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {galleriesView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/galleries'>\r\n                                <Card.Footer className='text-center'>\r\n                                <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyGardenPage;","import './AddMainCard.css'\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst AddMainCard = (props) => {\r\n\r\n    const {onClick} = props;\r\n\r\n    return (\r\n        <div className='c-add-main-card'>\r\n            <Card onClick={onClick}>\r\n                <Card.Title className='text-center'>+</Card.Title>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddMainCard;","import Parse from \"parse\";\r\n\r\nasync function createNewDafKesher(parseGarden, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const myNewDafKesher = new DafKesher();\r\n\r\n    myNewDafKesher.set('title',title);\r\n    myNewDafKesher.set('gan', parseGarden);\r\n    myNewDafKesher.set('date', new Date(date));\r\n    myNewDafKesher.set('data', {\"studyTopics\":[], \"messages\":[]});\r\n\r\n    myNewDafKesher.save().then(\r\n    (result) => {\r\n        // console.log('DafKesher created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating DafKesher: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewDafKesher;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherDetails(dafKesherId, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('title', title);\r\n        dafKesher.set('date', new Date(date));\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherDetails;","import Parse from \"parse\";\r\n\r\nasync function createNewGallery(parseGarden, title) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const myGallery = new Gallery();\r\n\r\n    myGallery.set('title',title);\r\n    myGallery.set('gan', parseGarden);\r\n\r\n    myGallery.save().then(\r\n    (result) => {\r\n        // console.log('Gallery created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating Gallery: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewGallery;","import Parse from \"parse\";\r\n\r\nasync function updateGalleryDetails(galleryId, title, date) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.set('title', title);\r\n        gallery.save().then(\r\n            (result) => {\r\n                // console.log('Gallery updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateGalleryDetails;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport createNewDafKesher from '../../utils/createNewDafKesher';\r\nimport updateDafKesherDetails from '../../utils/updateDafKesherDetails';\r\nimport createNewGallery from '../../utils/createNewGallery';\r\nimport updateGalleryDetails from '../../utils/updateGalleryDetails';\r\n\r\nconst MainCardEditorModal = (props) => {\r\n    const {data, cardType, parseGarden, showModal, closeModal, cleanDataToEdit} = props;\r\n    const [title, setTitle] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    \r\n    useEffect(() => { \r\n        if (typeof data === 'object') {\r\n            if (cardType === 'dafKesher') {\r\n                setTitle(data.title);\r\n\r\n                const date = data.date.toLocaleString().split('.');\r\n                const viewDate = `${date[2].split(',')[0]}-${date[1].length === 1 ? '0' + date[1] : date[1]}-${date[0].length === 1 ? '0' + date[0] : date[0]}`;\r\n                setDate(viewDate);\r\n            } else if (cardType === 'gallery') {\r\n                setTitle(data.title);\r\n            }\r\n        } else {\r\n            setTitle('');\r\n            setDate('');\r\n        }\r\n    }, [data]);\r\n    \r\n    function close () {\r\n        setTitle('');\r\n        setDate('');        \r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (cardType === 'dafKesher') {\r\n            if (!(title && date)) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewDafKesher(parseGarden, title, date);\r\n                close()\r\n            } else {\r\n                updateDafKesherDetails(data.id, title, date);\r\n                close();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (!title) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewGallery(parseGarden, title);\r\n                close()\r\n            } else {\r\n                updateGalleryDetails(data.id, title);\r\n                close();\r\n            }\r\n        }\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (cardType === 'dafKesher') {\r\n            if (isEnterPressed(event) && title && date) {\r\n                onSave();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (isEnterPressed(event) && title) {\r\n                onSave();\r\n            }\r\n        }\r\n    }\r\n\r\n    let modalTitle;\r\n    if (cardType === 'dafKesher') {\r\n        modalTitle = data ? '   ' : '   ';\r\n    } else if (cardType === 'gallery') {\r\n        modalTitle = data ? '  ' : '  ';\r\n    }\r\n\r\n    return (\r\n        <Modal size='sm' show={showModal} onHide={close} centered className='c-main-card-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='title'>\r\n                        <Form.Label></Form.Label>\r\n                        <Form.Control type=\"text\" value={title} onChange={e => { setTitle(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group>\r\n                    {cardType === 'dafKesher' ? <Form.Group controlId='date'>\r\n                        <Form.Label></Form.Label>\r\n                        <Form.Control type=\"date\" value={date}\r\n                            onChange={e => { setDate(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group> : null}\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">    </Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}></Button>\r\n                <Button variant=\"warning\" onClick={onSave}></Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default MainCardEditorModal;\r\n","import Parse from \"parse\";\r\n\r\nasync function deleteDafKesher(dafKesherId) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.destroy().then(\r\n            (dafKesher) => {\r\n                // console.log('DafKesher destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteDafKesher;","import Parse from \"parse\";\r\n\r\nasync function deleteGallery(galleryId) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.destroy().then(\r\n            (gallery) => {\r\n                // console.log('Gallery destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteGallery;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherContent(dafKesherId, content) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('data', content);\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherContent;","import React from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport deleteDafKesher from '../../utils/deleteDafKesher';\r\nimport deleteGallery from '../../utils/deleteGallery';\r\nimport deleteImage from '../../utils/deleteImage';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\nfunction DeleteWarningModal(props) {\r\n    const {fullData, data, dafKesherId, objectType, showModal, closeModal, cleanDataToEdit} = props;\r\n    function handleClose() {\r\n        closeModal();\r\n        cleanDataToEdit();\r\n    }\r\n    console.log(data);\r\n    function deleteClick () {\r\n        if (objectType === ' ') {\r\n            deleteDafKesher(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === '') {\r\n            deleteGallery(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === ' ' || objectType === '') {\r\n            fullData[data.type].splice(data.index, 1);\r\n            updateDafKesherContent(dafKesherId, fullData).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === '') {\r\n            deleteImage(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={handleClose} backdrop=\"static\" keyboard={false} centered className='c-delete-warning-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title> {objectType}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='text-center'>\r\n                <h5>   {objectType}{data.title && <span className='font-weight-bold'> {data.title}</span>},</h5>\r\n                <div>    </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}></Button>\r\n                <Button variant=\"warning\" onClick={deleteClick}></Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DeleteWarningModal;","import { useContext, useEffect, useState } from 'react';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './DapeyKesherPage.css';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\n\r\nconst DapeyKesherPage = () => {\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [dafKesherToEdit, setDafKesherToEdit] = useState('');\r\n    \r\n    useEffect(() => {\r\n        async function getDapeyKesher() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGarden(garden);\r\n        }\r\n        \r\n        getDapeyKesher();\r\n    }, [showMainCardEditorModal,showDeleteAlert])\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    function handleEdit(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowMainCardEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const addDafKesher = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map(dafKesher =>\r\n        <Col className='py-2' md={6} lg={3} key={dafKesher.id}>\r\n            <DafKesherCard dafKesher={dafKesher} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>\r\n    ) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-dapey-kesher\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{garden.name}</div>\r\n                        <h2>  </h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row className='align-items-stretch'>\r\n                    {addDafKesher}\r\n                    {dapeyKesherView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={dafKesherToEdit} parseGarden={garden.parseGarden} cardType='dafKesher'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n            <DeleteWarningModal data={dafKesherToEdit} objectType=' ' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DapeyKesherPage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './GalleriesPage.css';\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport getGardenGalleries from '../../utils/getGardenGalleries';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\n\r\nconst GalleriesPage = () => {\r\n    const [galleries, setGalleries] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [galleryToEdit, setGalleryToEdit] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getGalleries () {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n\r\n        getGalleries();\r\n    },[showMainCardEditorModal,showDeleteAlert]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function handleEdit(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowMainCardEditorModal(true);\r\n    }    \r\n\r\n    function handleDeleteClick(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowDeleteAlert(true);\r\n    }    \r\n\r\n    const addGallery = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n    \r\n    const galleriesView = galleries ? galleries.map(gallery => {\r\n        return(<Col className='py-2' md={6} lg={3} key={gallery.id}>\r\n            <GalleryCard gallery={gallery} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>)        \r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-galleries\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <div className='name'>{garden.name}</div> : null}\r\n                        <h2> </h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {addGallery}\r\n                    {galleriesView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={galleryToEdit} parseGarden={garden.parseGarden} cardType='gallery'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n            <DeleteWarningModal data={galleryToEdit} objectType='' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesPage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, CardColumns, Card, Form, Spinner } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport addImage from '../../utils/addImage';\r\nimport emailjs from 'emailjs-com';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\nimport './ContactUsPage.css'\r\n\r\n\r\nconst ContactUsPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [name, setName] = useState(activeUser ? `${activeUser.fname} ${activeUser.lname}` : '');\r\n    const [email, setEmail] = useState(activeUser ? activeUser.email : '');\r\n    const [subject, setSubject] = useState('');\r\n    const [request, setRequest] = useState('');\r\n    const [useUserInfo, setUseUserInfo] = useState(activeUser ? true : false);\r\n    const [files, setFiles] = useState('');\r\n    const [filesUrl, setFilesUrl] = useState('');\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n    const [isFormSubmitted, setIsFormSubmitted] = useState(false);\r\n    \r\n    function sendForm () {\r\n        emailjs.send(\"service_5cx738e\",\"template_k3nemuh\",{\r\n            from_name: name,\r\n            from_email: email,\r\n            topic: subject,\r\n            message: request,\r\n            file_links: filesUrl,\r\n            });\r\n\r\n        setSubject('');\r\n        setRequest('');\r\n        setFiles('');\r\n        setFilesUrl('');\r\n        setIsFormSubmitted(true);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (name && isEmailValid(email) && subject && request) {\r\n            setIsFormValid(true);\r\n            setShowEmailError(false);\r\n        } else if (!isEmailValid(email) && email!=='') {\r\n            setShowEmailError(true);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        } else if (isEmailValid(email)) {\r\n            setShowEmailError(false);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        }\r\n    });\r\n    \r\n    function onSwitchMode() {\r\n        if (!useUserInfo) {\r\n            setName(`${activeUser.fname} ${activeUser.lname}`);\r\n            setEmail(activeUser.email);\r\n            setUseUserInfo(!useUserInfo);\r\n        } else {\r\n            setName('');\r\n            setEmail('');\r\n            setUseUserInfo(!useUserInfo);\r\n        }\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setFiles(event.target.files);\r\n        const filesArr = Object.values(event.target.files);\r\n        let newFilesUrl = [];\r\n        await Promise.all(filesArr.map(async file => {\r\n            const res = await addImage(file, 'fe0qzAHNtH');\r\n            newFilesUrl.push(res.get('file')._url);\r\n            debugger\r\n        }));\r\n        setFilesUrl(newFilesUrl);\r\n    }\r\n\r\n    const filesAmount = files ? files.length : 0;\r\n\r\n    const filesView = filesUrl ? filesUrl.map((fileUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={fileUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    if (isFormSubmitted) {\r\n        return(\r\n            <div className=\"p-contact-us success\">\r\n                <h2>  </h2>\r\n                <Button variant='info' onClick={() => {setIsFormSubmitted(false)}} > </Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-contact-us\">\r\n            <h2> </h2>\r\n            <Form>\r\n                <Form.Group controlId=\"formContactUsName\">\r\n                    <Form.Label></Form.Label>\r\n                    {activeUser ? <Form.Check type='switch' variant='warning' id='formContactUsFileSwitch' label={useUserInfo ? '  ' : '  '} checked={useUserInfo} onChange={onSwitchMode} /> : null}\r\n                    <Form.Control type=\"text\" value={name} onChange={e => {setName(e.target.value)}}/>\r\n                </Form.Group>\r\n                \r\n                <Form.Group controlId=\"formContactUsEmail\">\r\n                    <Form.Label> </Form.Label>\r\n                    <Form.Control type=\"email\" value={email} className={showEmailError ? 'is-invalid' : null} onChange={e => { setEmail(e.target.value) }} />\r\n                    <Form.Control.Feedback type=\"invalid\">   </Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsSubject\">\r\n                    <Form.Label></Form.Label>\r\n                    <Form.Control type=\"text\" value={subject}  onChange={e => {setSubject(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsRequest\">\r\n                    <Form.Label> </Form.Label>\r\n                    <Form.Control as=\"textarea\" value={request}  onChange={e => {setRequest(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.File id=\"formContactUsFile\" label='' data-browse=\" \" accept=\"image/*\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{filesAmount >0 ? ` ${filesAmount} ` : '   '}</Form.Text>\r\n                    <CardColumns>\r\n                        {filesView}\r\n                    </CardColumns>\r\n                    {files && filesView === null && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n                <Button variant=\"warning\" type=\"button\" className='w-100' disabled={!isFormValid} onClick={sendForm}>\r\n                    \r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactUsPage;","import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './ImageCard.css';\r\n\r\nconst ImageCard = (props) => {\r\n    const { image, onClick, activeUser, handleDeleteClick } = props;\r\n    return (\r\n        <div className='c-image-card'>\r\n            <Card>\r\n                {image ? <Card.Img variant=\"top\" src={image.url}  onClick={onClick} /> : null}\r\n                {activeUser && activeUser.role === 'manager' &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon icon={faTrashAlt} onClick={() => {handleDeleteClick(image)}}/>\r\n                    </Card.Footer>}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageCard;","import { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Button, Col, Image, Modal } from 'react-bootstrap';\r\nimport './ImageModal.css'\r\n\r\nconst ImageModal = (props) => {\r\n    const { images, showModal, selectedImage, close, onImageChange } = props;\r\n\r\n    function nextImage() {\r\n        if (selectedImage === images.length - 1) {\r\n            onImageChange(0);\r\n        } else {\r\n            onImageChange(selectedImage + 1);\r\n        }\r\n    }\r\n\r\n    function prevImage() {\r\n        if (selectedImage === 0) {\r\n            onImageChange(images.length - 1);\r\n        } else {\r\n            onImageChange(selectedImage - 1);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-image-modal'>\r\n            <Modal.Body className='p-0 row'>\r\n                <Col xs={1} className='prev'>\r\n                    <a className='prev' variant='dark' onClick={prevImage}><FontAwesomeIcon icon={faChevronRight}/></a>\r\n                </Col>\r\n                <Col xs={10} className='p-0'>\r\n                    <Image src={images[selectedImage].url} />\r\n                    <Button onClick={close} className='modal-x-button' variant='outline-warning'>X</Button>\r\n                </Col>\r\n                <Col xs={1} className='next'>\r\n                    <a className='next' variant='dark' onClick={nextImage}><FontAwesomeIcon icon={faChevronLeft}/></a>\r\n                </Col>\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ImageModal;","import Parse from 'parse';\r\n\r\nasync function getGalleryImages(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const imgQuery = new Parse.Query(Parse.Object.extend('Image'));\r\n    imgQuery.equalTo(\"gallery\", Gallery);\r\n\r\n    const results = await imgQuery.find();\r\n\r\n    const images = results.map(image => {\r\n        const desc = image.get('desc') ? image.get('desc') : '';\r\n        const url = image.get('file')._url;\r\n        const id = image.id;\r\n\r\n        return({\r\n            'id':id,\r\n            'desc':desc,\r\n            'url':url\r\n        })\r\n    });\r\n\r\n    return (images);\r\n}\r\nexport default getGalleryImages;","import Parse from 'parse';\r\nimport getGalleryMainImg from './getGalleryMainImg';\r\n\r\nasync function getGalleryDetails(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const galleryName = Gallery.get('title');\r\n    const galleryMainImg = await getGalleryMainImg(galleryId);\r\n\r\n    return ({'parseGallery':Gallery, 'title':galleryName, 'mainImg': galleryMainImg});\r\n}\r\nexport default getGalleryDetails;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './AddImageCard.css';\r\n\r\nconst AddImageCard = (props) => {\r\n    const { onClick } = props;\r\n\r\n    return (\r\n        <Card className='c-add-image-card' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default AddImageCard;","\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Button, Card, CardColumns, Form, Modal, Spinner } from 'react-bootstrap';\r\nimport addImage from '../../utils/addImage';\r\nimport deleteImage from '../../utils/deleteImage';\r\n\r\nfunction AddImageModal(props) {\r\n    const {galleryTitle, galleryId, showModal, closeModal} = props;\r\n    const [images, setImages] = useState('');\r\n    const [imagesId, setImagesId] = useState([]);\r\n    const [imagesUrl, setImagesUrl] = useState([]);\r\n\r\n    function handleClose(params) {\r\n        closeModal();\r\n        setImages('');\r\n        setImagesId([]);\r\n        setImagesUrl([]);\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setImages(event.target.files);\r\n        const imagesArr = Object.values(event.target.files);\r\n        let newImagesId = [];\r\n        let newImagesUrl = [];\r\n        await Promise.all(imagesArr.map(async image => {\r\n            const res = await addImage(image, galleryId);\r\n            newImagesId.push(res.id);\r\n            newImagesUrl.push(res.get('file')._url);\r\n            \r\n        }));\r\n        setImagesId(newImagesId);\r\n        setImagesUrl(newImagesUrl);\r\n    }\r\n    \r\n    function closeClicked() {\r\n        imagesId && imagesId.map(image => {\r\n            deleteImage(image);\r\n        });\r\n        handleClose();\r\n    }\r\n    \r\n    function addClicked() {\r\n        handleClose();\r\n    }\r\n    \r\n    const imagesAmount = images ? images.length : 0;\r\n\r\n    const imagesView = imagesUrl ? imagesUrl.map((imageUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={imageUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    return (\r\n        <Modal className='c-add-image-modal' size={'md'} show={showModal} onHide={handleClose} centered backdrop=\"static\" keyboard={false}>\r\n            <Modal.Header>\r\n                <Modal.Title>   <span className='font-weight-bold'>{galleryTitle}</span></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form.Group>\r\n                    <Form.File id=\"formFiles\" label={images ? 'filesNames' : ' '} data-browse=\" \" accept=\"image/*\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{imagesAmount >0 ? ` ${imagesAmount} ` : '    '}</Form.Text>\r\n                    <CardColumns>\r\n                        {imagesView}\r\n                    </CardColumns>\r\n                    {images && imagesView.length === 0 && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={closeClicked} disabled={images && imagesView.length === 0}></Button>\r\n                <Button variant=\"warning\" onClick={addClicked} disabled={imagesView.length === 0}></Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default AddImageModal;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CardColumns, Container, Spinner } from 'react-bootstrap';\r\nimport './GalleryPage.css'\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport ImageCard from '../../components/ImageCard/ImageCard';\r\nimport ImageModal from '../../components/ImageModal/ImageModal';\r\nimport getGalleryImages from '../../utils/getGalleryImages';\r\nimport getGalleryDetails from '../../utils/getGalleryDetails';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddImageCard from '../../components/ImageCard/AddImageCard';\r\nimport AddImageModal from '../../components/AddImage/AddImageModal';\r\n\r\nconst GalleryPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [images, setImages] = useState([]);\r\n    const [galleryTitle, setGalleryTitle] = useState('');\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showAddImage, setShowAddImage] = useState(false);\r\n    const [imageToEdit, setImageToEdit] = useState('');\r\n\r\n    const galleryId = useParams().id;\r\n\r\n    useEffect(() => {\r\n        async function getImages (){\r\n            const images = await getGalleryImages(galleryId);\r\n            const title = (await getGalleryDetails(galleryId)).title;\r\n            setImages(images);\r\n            setGalleryTitle(title);\r\n        }\r\n        \r\n        getImages();\r\n        \r\n    },[showDeleteAlert, showAddImage, imageToEdit])\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function onImageSelect (index) {\r\n        setShowImageModal(true);\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function onImageChange (index){\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function handleDeleteClick(image) {\r\n        setImageToEdit(image);\r\n        setShowDeleteAlert(true);\r\n    } \r\n    \r\n    const addImage = activeUser && activeUser.role === 'manager' && <AddImageCard onClick={() => {setShowAddImage(true)}}/>;\r\n\r\n    const imagesView = images && images.map((image, index) =>\r\n        <ImageCard image={image} key={image.id} activeUser={activeUser} onClick={() => onImageSelect(index)} handleDeleteClick={handleDeleteClick}/>);\r\n\r\n    if (!galleryTitle) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-gallery'>\r\n            <h2>{galleryTitle}</h2>\r\n            <Container>\r\n                <CardColumns>\r\n                    {addImage}\r\n                    {imagesView}\r\n                </CardColumns>\r\n            </Container>\r\n            {selectedImage !== null && images.length>0 &&\r\n                <ImageModal images={images} showModal={showImageModal} selectedImage={selectedImage} close={() => { setShowImageModal(false) }} onImageChange={onImageChange} />}\r\n            <DeleteWarningModal data={imageToEdit} objectType='' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setImageToEdit('') }} />\r\n            {images && <AddImageModal galleryTitle={galleryTitle} galleryId={galleryId} showModal={showAddImage} closeModal={() => {setShowAddImage(false)}}/>}\r\n        </div>\r\n    )\r\n}\r\nexport default GalleryPage;","import './StudyTopicBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst StudyTopicBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='c-study-topic-box mb-4'>\r\n            {deleteIcon}\r\n            {editIcon}\r\n            <Card.Title>{headline}</Card.Title>\r\n            <Card.Text>{content}</Card.Text>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StudyTopicBox;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getDafKesherDetails(dafKesherId) {\r\n    const DafKesher = await new Parse.Query(new Parse.Object.extend('DafKesher')).get(dafKesherId);\r\n    const data = DafKesher.get('data');\r\n    const title = DafKesher.get('title');\r\n    const hebDate = getHebrewDate(DafKesher.get('date'));\r\n\r\n\r\n    return ({'parseDafKesher':DafKesher, 'data':data, 'title':title, 'hebDate':hebDate})\r\n}\r\n\r\nexport default getDafKesherDetails;","\r\nfunction getRandomBgColor(props) {\r\n    \r\n    const bgColors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\r\n    const randomBgColor = bgColors[Math.floor(Math.random() * bgColors.length)];\r\n\r\n    return randomBgColor;\r\n}\r\n\r\nexport default getRandomBgColor;","import './MessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport getRandomBgColor from '../../utils/getRandomBgColor';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst MessageBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n    \r\n    const bgColor = getRandomBgColor();\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }    \r\n\r\n    return (\r\n        <Card className='c-message-box m-2' bg={bgColor} text={bgColor === 'light' ? 'dark' : 'white'}>\r\n            <Card.Body>\r\n                {deleteIcon}\r\n                {editIcon}\r\n                <Card.Title>{headline}</Card.Title>\r\n                <Card.Text>{content}</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MessageBox;","import './AddMessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\n\r\nconst AddMessageBox = ({onClick}) => {\r\n    \r\n    const activeUser = useContext(ActiveUserContext);\r\n    \r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    return (\r\n        <Card className='c-add-message-box m-2 text-center' bg={'light'} text={'dark'} onClick={onClick}>\r\n            <Card.Body>\r\n                <Card.Title>+</Card.Title>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default AddMessageBox;","import './AddStudyTopicBox.css';\r\nimport React, { useContext } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst AddStudyTopicBox = ({onClick}) => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <div className='c-add-study-topic-box text-center' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddStudyTopicBox;","import React, { useEffect, useState } from 'react';\r\nimport { Alert, Button, Form, Modal } from 'react-bootstrap';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\n\r\nconst DafKesherEditorModal = (props) => {\r\n    const { dafKesherId, fullData, data, showModal, closeModal, cleanDataToEdit } = props;\r\n    const [headline, setHeadline] = useState();\r\n    const [content, setContent] = useState();\r\n    const [showError, setShowError] = useState(false);\r\n\r\n    useEffect(() => { \r\n        const type = typeof data;\r\n        if (type === 'object') {\r\n            setHeadline(fullData[data.type][data.index].headline);\r\n            setContent(fullData[data.type][data.index].content);\r\n        } else {\r\n            setHeadline('');\r\n            setContent('');\r\n        }\r\n    }, [data]);\r\n\r\n    function close () {\r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (!(headline && content)) {\r\n            setShowError(true);\r\n        } else if (typeof data !== 'object') {\r\n            let newData = { ...fullData };\r\n            newData[data].push({ headline: headline, content: content });\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close()\r\n        } else {\r\n            let newData = { ...fullData };\r\n            newData[data.type][data.index].headline = headline;\r\n            newData[data.type][data.index].content = content;\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close();\r\n        }\r\n    }\r\n\r\n\r\n    const modalTitle = (typeof data) === 'object' ? '   ' : '  ';\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-daf-kesher-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <Form>\r\n                <Form.Group controlId='headline'>\r\n                    <Form.Label></Form.Label>\r\n                    <Form.Control type=\"text\" value={headline} onChange={e => { setHeadline(e.target.value) }} />\r\n                </Form.Group>\r\n                <Form.Group controlId='content'>\r\n                    <Form.Label></Form.Label>\r\n                        <Form.Control as=\"textarea\" rows={5} value={content} onChange={e => {setContent(e.target.value)}} />\r\n                </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">    </Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}></Button>\r\n                <Button variant=\"warning\" onClick={onSave}></Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DafKesherEditorModal;","import './DafKesherPage.css'\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport StudyTopicBox from '../../components/StudyTopicBox/StudyTopicBox';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport getDafKesherDetails from '../../utils/getDafKesherDetails';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MessageBox from '../../components/MessageBox/MessageBox';\r\nimport AddMessageBox from '../../components/MessageBox/AddMessageBox';\r\nimport AddStudyTopicBox from '../../components/StudyTopicBox/AddStudyTopicBox';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport DafKesherEditorModal from '../../components/DafKesherEditorModal/DafKesherEditorModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCommentDots, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction DafKesherPage() {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [data, setData] = useState('');\r\n    const [header, setHeader] = useState('');\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showEditorModal, setShowEditorModal] = useState(false);\r\n    const [contentToEdit, setContentToEdit] = useState('');\r\n    \r\n    const dafKesherId = useParams().id;\r\n    \r\n    useEffect(() => {\r\n        async function getData() {\r\n            const dafKesher = await getDafKesherDetails(dafKesherId);\r\n            const gardenDetails = (await getGardenDetails(activeUser));\r\n            const header = {\r\n                'title': dafKesher.title,\r\n                'hebDate': dafKesher.hebDate,\r\n                'logo': gardenDetails.logo,\r\n                'name': gardenDetails.name\r\n            };\r\n            setHeader(header);\r\n            setData(dafKesher.data);\r\n        }\r\n        getData();\r\n    }, []);\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    \r\n    function handleAddClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleEditClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const topicsView = data.studyTopics ? data.studyTopics.map( (topic, index) => \r\n        <div key={index}>\r\n            <StudyTopicBox topic={{ 'headline': topic.headline, 'content': topic.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'studyTopics', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'studyTopics', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addTopic = activeUser && activeUser.role === 'manager' && <AddStudyTopicBox onClick={() => { handleAddClick('studyTopics') }}/>;\r\n\r\n    const messagesView = data.messages ? data.messages.map( (message, index) => \r\n        <div key={index}>\r\n            <MessageBox topic={{ 'headline': message.headline, 'content': message.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'messages', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'messages', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addMessage = activeUser && activeUser.role === 'manager' && <AddMessageBox onClick={() => { handleAddClick('messages') }}/>;\r\n\r\n    if (data.length === 0) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-daf-kesher'>\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{header.name}</div>\r\n                        <h2>{`  ${header.title}`}</h2>\r\n                        <div className='date'>{header.hebDate}</div>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {header.logo ? <div className='logo'><img src={header.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={8} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>  ?</span>\r\n                                <FontAwesomeIcon className='view-icon' icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                {topicsView}\r\n                                {addTopic}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <div></div>\r\n                                <FontAwesomeIcon className='view-icon' icon={faCommentDots}/>\r\n                            </Card.Header>\r\n                            {messagesView}\r\n                            {addMessage}\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <DafKesherEditorModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} cardType='dafKesher'\r\n                showModal={showEditorModal} closeModal={() => setShowEditorModal(false)} cleanDataToEdit={() => { setContentToEdit('') }}/>\r\n            <DeleteWarningModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} objectType={contentToEdit.type === 'studyTopics' ? ' ' : ''}\r\n                showModal={showDeleteAlert} closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setContentToEdit('') }} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherPage;","\r\nfunction getGreeting() {\r\n    const date = new Date();\r\n    const hour = date.getHours();\r\n    \r\n    let greeting;\r\n    if (hour >=4 && hour <=10) {\r\n        greeting = ' ';\r\n    } else if (hour >= 11 && hour <=16) {\r\n        greeting = ' ';\r\n    } else if (hour >= 17 && hour <=20) {\r\n        greeting = ' ';\r\n    } else {\r\n        greeting = ' ';\r\n    }\r\n    \r\n    return greeting;\r\n}\r\n\r\nexport default getGreeting;","import { Button, Nav, Navbar } from 'react-bootstrap';\r\nimport './TopNavbar.css';\r\nimport logo from '../../images/logo192.png';\r\nimport { useContext } from 'react';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { useLocation } from 'react-router-dom';\r\nimport getGreeting from '../../utils/getGreeting';\r\n\r\nconst TopNavbar = ({ onLogout }) => {\r\n\r\n  const activeUser = useContext(ActiveUserContext);\r\n\r\n  const path = useLocation().pathname.split('/')[1];\r\n\r\n  const greeting = getGreeting();\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\">\r\n      <Navbar.Brand href=\"#/\" className='ml-2'>\r\n        <img src={logo} alt=\"Digital Garden logo\" className=\"d-inline-block align-top\"/>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className={activeUser ? \"ml-auto\" : \"mr-auto\"}>\r\n          \r\n          { activeUser ?\r\n          <>\r\n            <Nav.Link href=\"#/my-garden\" active={path === 'my-garden' ? true : false}> </Nav.Link>\r\n            <Nav.Link href=\"#/dapey-kesher\" active={path === 'dapey-kesher' ? true : false}> </Nav.Link>\r\n            <Nav.Link href=\"#/galleries\" active={path === 'galleries' ? true : false}></Nav.Link>\r\n          </> : null}\r\n\r\n          <Nav.Link href=\"#/contact-us\" active={path === 'contact-us' ? true : false}> </Nav.Link>\r\n        </Nav>\r\n        \r\n        { activeUser ?\r\n        <Nav>\r\n          <Navbar.Text>{`${greeting}, ${activeUser.fname}`}</Navbar.Text>\r\n          <Button as='a' variant='' onClick={onLogout}></Button>\r\n        </Nav> : null}\r\n\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default TopNavbar;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport HomePage from './pages/HomePage/HomePage';\nimport MyGardenPage from './pages/MyGardenPage/MyGardenPage';\nimport DapeyKesherPage from './pages/DapeyKesherPage/DapeyKesherPage';\nimport GalleriesPage from './pages/GalleriesPage/GalleriesPage';\nimport ContactUsPage from './pages/ContactUsPage/ContactUsPage';\nimport { useState } from 'react';\nimport ActiveUserContext from './utils/ActiveUserContext';\nimport Parse from 'parse';\nimport UserModel from './model/UserModel';\nimport GalleryPage from './pages/GalleryPage/GalleryPage';\nimport DafKesherPage from './pages/DafKesherPage/DafKesherPage';\nimport TopNavbar from './components/TopNavbar/TopNavbar';\nimport{ init } from 'emailjs-com';\n\nfunction App() {\n  const [activeUser, setActiveUser] = useState(Parse.User.current() ? new UserModel(Parse.User.current()) : null);\n  \n  init(\"user_AV4NvFTR6vJnUEHOtXINx\");\n  const handleLogin = (loggedinUser) => {\n    setActiveUser(loggedinUser);\n  }\n\n  const handleLogout = () => {\n    setActiveUser(null);\n    Parse.User.logOut();\n  }\n\n  return (\n    <>\n      <HashRouter>\n        <Switch>\n          <ActiveUserContext.Provider value={activeUser}>\n            <TopNavbar onLogout={handleLogout}/>\n            <Route exact path=\"/\"><HomePage onLogin={handleLogin} /></Route>\n            <Route exact path=\"/my-garden\"><MyGardenPage /></Route>\n            <Route exact path=\"/dapey-kesher\"><DapeyKesherPage /></Route>\n            <Route exact path=\"/dapey-kesher/:id\"><DafKesherPage /></Route>\n            <Route exact path=\"/galleries\"><GalleriesPage /></Route>\n            <Route exact path=\"/galleries/:id\"><GalleryPage /></Route>\n            <Route exact path=\"/contact-us\"><ContactUsPage /></Route>\n          </ActiveUserContext.Provider>\n        </Switch>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Parse from \"parse\";\n\nParse.serverURL = 'https://parseapi.back4app.com';\nParse.initialize(\n  'YjX6kib1y4ZL0wYCCXagO161JHCAZNLF8vz04iNh', // This is your Application ID\n  'YYhfXbq4guVCOl4BhV5Jcvfh43NNbDbIpAqI2LzG', // This is your Javascript key\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}