(this["webpackJsonpdigital-garden"]=this["webpackJsonpdigital-garden"]||[]).push([[0],{375:function(e,t,n){},377:function(e,t,n){},378:function(e,t,n){},379:function(e,t,n){},621:function(e,t){},623:function(e,t){},633:function(e,t){},635:function(e,t){},662:function(e,t){},664:function(e,t){},665:function(e,t){},670:function(e,t){},672:function(e,t){},691:function(e,t){},703:function(e,t){},706:function(e,t){},748:function(e,t,n){},749:function(e,t,n){},750:function(e,t,n){},752:function(e,t,n){},753:function(e,t,n){},754:function(e,t,n){},755:function(e,t,n){},756:function(e,t,n){},757:function(e,t,n){},758:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),s=n(70),i=n.n(s),o=(n(375),n(28)),l=(n(376),n(377),n(52)),j=n(23),u=(n(378),n(771)),d=n(772),b=n(768),x=(n(379),n.p+"static/media/logo192.f73b2edd.png"),h=Object(a.createContext)(null),O=function(e){var t=e.onLogout,n=Object(a.useContext)(h),r=Object(j.g)().pathname.split("/")[1];return Object(c.jsxs)(u.a,{collapseOnSelect:!0,expand:"lg",children:[Object(c.jsx)(u.a.Brand,{href:"#/",className:"ml-2",children:Object(c.jsx)("img",{src:x,alt:"Digital Garden logo",className:"d-inline-block align-top"})}),Object(c.jsx)(u.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(c.jsxs)(u.a.Collapse,{id:"responsive-navbar-nav",children:[Object(c.jsxs)(d.a,{className:"ml-auto",children:[Object(c.jsx)(d.a.Link,{href:"#/my-garden",active:"my-garden"===r,children:"\u05d4\u05d2\u05df \u05e9\u05dc\u05d9"}),Object(c.jsx)(d.a.Link,{href:"#/dapey-kesher",active:"dapey-kesher"===r,children:"\u05d3\u05e4\u05d9 \u05e7\u05e9\u05e8"}),Object(c.jsx)(d.a.Link,{href:"#/galleries",active:"galleries"===r,children:"\u05d2\u05dc\u05e8\u05d9\u05d5\u05ea"}),Object(c.jsx)(d.a.Link,{href:"#/contact-us",active:"contact-us"===r,children:"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8"})]}),n?Object(c.jsx)(d.a,{children:Object(c.jsxs)(b.a,{title:"\u05d4\u05d7\u05e9\u05d1\u05d5\u05df \u05e9\u05dc "+n.fname,id:"collasible-nav-dropdown",children:[Object(c.jsx)(b.a.Item,{href:"#action/3.1",children:"\u05de\u05e9\u05d4\u05d5"}),Object(c.jsx)(b.a.Item,{href:"#action/3.2",children:"\u05e2\u05d5\u05d3 \u05de\u05e9\u05d4\u05d5"}),Object(c.jsx)(b.a.Item,{href:"#action/3.3",children:"\u05de\u05e9\u05d4\u05d5 \u05e0\u05d5\u05e1\u05e3"}),Object(c.jsx)(b.a.Divider,{}),Object(c.jsx)(b.a.Item,{onClick:t,children:"\u05d4\u05ea\u05e0\u05ea\u05e7"})]})}):null]})]})},g=n(367),f=n(32),p=n.n(f),m=n(53),v=n(769),y=n(770),k=n(763),w=n(12),N=n.n(w),L=n(368),C=function e(t){Object(L.a)(this,e),this.id=t.id,this.mail=t.get("username"),this.fname=t.get("fname"),this.lname=t.get("lname"),this.gardenId=t.get("gan").id,this.role=t.get("role")},I=function(e){return"Enter"===e.key};var S=function(e){var t=e.showModal,n=e.handleCloseLogin,r=e.onLogin,s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],j=i[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),b=d[0],x=d[1],h=Object(a.useState)(!1),O=Object(o.a)(h,2),f=O[0],w=O[1];function L(){j(""),x(""),w(!1)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.User.logIn(l,b);case 3:t=e.sent,r(new C(t)),n(),L(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Q(){n(),L()}function G(e){I(e)&&l&&S()}return Object(c.jsx)("div",{className:"c-login-modal",children:Object(c.jsxs)(v.a,{size:"sm",show:t,onHide:Q,centered:!0,children:[Object(c.jsx)(v.a.Header,{children:Object(c.jsx)(v.a.Title,{children:"\u05db\u05e0\u05d9\u05e1\u05d4"})}),Object(c.jsxs)(v.a.Body,{children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(y.a.Group,{children:Object(c.jsx)(y.a.Control,{type:"email",placeholder:"\u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9",value:l,onChange:function(e){j(e.target.value)},onKeyPress:G})}),Object(c.jsx)(y.a.Group,{children:Object(c.jsx)(y.a.Control,{type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",value:b,onChange:function(e){x(e.target.value)},onKeyPress:G})})]}),f?Object(c.jsx)(k.a,{variant:"danger",children:"\u05de\u05d9\u05d9\u05dc \u05d0\u05d5 \u05e1\u05d9\u05e1\u05de\u05d4 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd"}):null]}),Object(c.jsxs)(v.a.Footer,{children:[Object(c.jsx)(g.a,{variant:"secondary",onClick:Q,children:"\u05e1\u05d2\u05d9\u05e8\u05d4"}),Object(c.jsx)(g.a,{variant:"primary",onClick:S,children:"\u05db\u05e0\u05d9\u05e1\u05d4"})]})]})})},T=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],s=n[1],i=e.onLogin,l=e.onLogout;return Object(c.jsxs)("div",{className:"p-home",children:[Object(c.jsx)(O,{activeLink:"Home",onLogout:l}),Object(c.jsxs)("div",{className:"main-content",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{className:"logo-img",src:x,alt:"logo"})}),Object(c.jsx)("div",{className:"main-text",children:Object(c.jsxs)("div",{className:"text",children:[Object(c.jsx)("h2",{children:"\u05d4\u05d2\u05df \u05d4\u05d3\u05d9\u05d2\u05d9\u05d8\u05dc\u05d9"}),Object(c.jsx)("h5",{children:"\u05d4\u05e7\u05e9\u05e8 \u05e9\u05dc\u05da \u05e2\u05dd \u05d4\u05d4\u05d5\u05e8\u05d9\u05dd"}),Object(c.jsx)("h5",{children:"\u05e0\u05e8\u05d0\u05d4 \u05d0\u05d7\u05e8\u05ea!"})]})})]}),Object(c.jsxs)("div",{className:"buttons",children:[Object(c.jsx)(g.a,{variant:"outline-warning",size:"lg",onClick:function(){s(!0)},children:"\u05db\u05e0\u05d9\u05e1\u05d4"})," ",Object(c.jsx)(g.a,{variant:"warning",size:"lg",children:"\u05d4\u05e8\u05e9\u05de\u05d4"})]}),Object(c.jsx)(S,{showModal:r,handleCloseLogin:function(){s(!1)},onLogin:i})]})},Q=(n(748),function(e){var t=e.onLogout;return Object(a.useContext)(h)?Object(c.jsxs)("div",{className:"p-my-gan",children:[Object(c.jsx)(O,{onLogout:t}),"my gan page"]}):Object(c.jsx)(j.a,{to:"/"})}),G=n(369),F=n(764),U=n(765),q=(n(749),n(773)),z=function(e){var t=e.dafKesher,n=t.id,a=t.title,r=t.hebDate;return Object(c.jsx)("div",{className:"c-daf-kesher-card",children:Object(c.jsx)(q.a,{children:Object(c.jsxs)(l.b,{to:"/dapey-kesher/"+n,children:[Object(c.jsx)(q.a.Title,{className:"text-center",children:a}),Object(c.jsx)(q.a.Text,{className:"text-center",children:r})]})})})};n(750);var D=function(e){var t=n(751)(e),c=t.year,a=t.month,r=t.date,s=function(e){var t,n=["\u05d9","\u05db","\u05dc","\u05de","\u05e0","\u05e1","\u05e2","\u05e4","\u05e6"],c=e%1e3,a=parseInt(c/400);c%=400;var r=parseInt(c/300);c%=300;var s=parseInt(c/200);return c%=200,parseInt(c/100),t=a>1?"\u05ea\u05ea":1===a?"\u05ea":"",t+=1===r?"\u05e9":"",t+=1===s?"\u05e8":"",0!==(c%=100)&&c%10!==0?(t+=n[parseInt(c/10)-1],t+='"',t+=["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05d6","\u05d7","\u05d8"][c%10-1]):0!==c?(t+='"',t+=n[parseInt(c/10)-1]):t+="'",t}(c),i=function(e){return[0,3,6,8,11,14,17].includes(e%19)}(c)?["\u05ea\u05e9\u05e8\u05d9","\u05d7\u05e9\u05d5\u05df","\u05db\u05e1\u05dc\u05d5","\u05d8\u05d1\u05ea","\u05e9\u05d1\u05d8","\u05d0\u05d3\u05e8 \u05d0","\u05d0\u05d3\u05e8 \u05d1","\u05e0\u05d9\u05e1\u05df","\u05d0\u05d9\u05d9\u05e8","\u05e1\u05d9\u05d5\u05df","\u05ea\u05de\u05d5\u05d6","\u05d0\u05d1","\u05d0\u05dc\u05d5\u05dc"][a-1]:["\u05ea\u05e9\u05e8\u05d9","\u05d7\u05e9\u05d5\u05df","\u05db\u05e1\u05dc\u05d5","\u05d8\u05d1\u05ea","\u05e9\u05d1\u05d8","\u05d0\u05d3\u05e8","\u05e0\u05d9\u05e1\u05df","\u05d0\u05d9\u05d9\u05e8","\u05e1\u05d9\u05d5\u05df","\u05ea\u05de\u05d5\u05d6","\u05d0\u05d1","\u05d0\u05dc\u05d5\u05dc"][a-1];return["\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05d6","\u05d7","\u05d8","\u05d9",'\u05d9"\u05d0','\u05d9"\u05d1','\u05d9"\u05d2','\u05d9"\u05d3','\u05d8"\u05d5','\u05d8"\u05d6','\u05d9"\u05d6','\u05d9"\u05d7','\u05d9"\u05d8',"\u05db",'\u05db"\u05d0','\u05db"\u05d1','\u05db"\u05d2','\u05db"\u05d3','\u05db"\u05d4','\u05db"\u05d5','\u05db"\u05d6','\u05db"\u05d7','\u05db"\u05d8',"\u05dc"][r-1]+" "+i+" "+s},M=function(e){var t=e.onLogout,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(a.useContext)(h);Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,c,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new N.a.Query(new N.a.User).get(l.id);case 2:return t=e.sent,e.next=5,new N.a.Query(new N.a.Object.extend("Gan")).get(t.get("gan").id);case 5:return n=e.sent,(c=new N.a.Query(N.a.Object.extend("DafKesher"))).equalTo("gan",n),c.descending("date"),e.next=11,c.find();case 11:a=e.sent,r=a.map((function(e){return{id:e.id,title:e.get("title"),hebDate:D(e.get("date"))}})),i(r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=s?s.map((function(e){return Object(c.jsx)(G.a,{className:"py-2",md:6,lg:3,children:Object(c.jsx)(z,{dafKesher:e})},e.id)})):null;return l?Object(c.jsxs)("div",{className:"p-dapey-kesher",children:[Object(c.jsx)(O,{onLogout:t}),Object(c.jsx)(F.a,{children:Object(c.jsx)(U.a,{children:u})})]}):Object(c.jsx)(j.a,{to:"/"})};n(752),n(753);function B(){return(B=Object(m.a)(p.a.mark((function e(t){var n,c,a,r,s,i,o,l,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new N.a.Query(N.a.Object.extend("Gallery")),e.next=3,n.get(t);case 3:return c=e.sent,(a=new N.a.Query(N.a.Object.extend("Image"))).equalTo("gallery",c),e.next=8,a.count();case 8:return r=e.sent,e.next=11,a.find();case 11:return s=e.sent,a.equalTo("isPrimary",!0),e.next=15,a.find();case 15:if(!(i=e.sent)[0]){e.next=20;break}o=i[0].get("file")._url,e.next=31;break;case 20:if(!(s&&r>0)){e.next=24;break}o=s[Math.floor(Math.random()*r)].get("file")._url,e.next=31;break;case 24:return e.next=26,c.get("gan");case 26:return l=e.sent,e.next=29,l.get("logo")._url;case 29:j=e.sent,o=j;case 31:return e.abrupt("return",o);case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(e){return B.apply(this,arguments)},E=function(e){var t=e.gallery,n=t.id,r=t.title,s=Object(a.useState)(""),i=Object(o.a)(s,2),j=i[0],u=i[1];return Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:t=e.sent,u(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.jsx)("div",{className:"c-gallery-card",children:Object(c.jsx)(q.a,{children:Object(c.jsxs)(l.b,{to:"/galleries/"+n,children:[Object(c.jsx)(q.a.Img,{variant:"top",src:j}),Object(c.jsx)(q.a.Title,{className:"text-center",children:r})]})})})},H=function(e){var t=e.onLogout,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(a.useContext)(h);Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,c,a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new N.a.Query(new N.a.User).get(l.id);case 2:return t=e.sent,e.next=5,new N.a.Query(new N.a.Object.extend("Gan")).get(t.get("gan").id);case 5:return n=e.sent,(c=new N.a.Query(N.a.Object.extend("Gallery"))).equalTo("gan",n),e.next=10,c.find();case 10:a=e.sent,r=a.map((function(e){return{id:e.id,title:e.get("title")}})),i(r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=s?s.map((function(e){return Object(c.jsx)(G.a,{className:"py-2",md:6,lg:3,children:Object(c.jsx)(E,{gallery:e})},e.id)})):null;return l?Object(c.jsxs)("div",{className:"p-galleries",children:[Object(c.jsx)(O,{onLogout:t}),Object(c.jsx)(F.a,{children:Object(c.jsx)(U.a,{children:u})})]}):Object(c.jsx)(j.a,{to:"/"})},K=(n(754),function(e){var t=e.onLogout;return Object(a.useContext)(h)?Object(c.jsxs)("div",{className:"p-contact-us",children:[Object(c.jsx)(O,{activeLink:"ContactUs",onLogout:t}),"contact us page"]}):Object(c.jsx)(j.a,{to:"/"})}),J=n(767),X=(n(755),function(e){var t=e.image,n=e.onClick;return Object(c.jsx)("div",{className:"c-image-card",children:Object(c.jsxs)(q.a,{onClick:n,children:[Object(c.jsx)(q.a.Img,{variant:"top",src:t.url}),t.desc?Object(c.jsx)(q.a.Footer,{children:Object(c.jsx)("small",{className:"text-muted text-center d-block",children:t.desc})}):null]})})}),Y=n(766),_=(n(756),function(e){var t=e.images,n=e.showModal,a=e.selectedImage,r=e.close,s=e.onImageChange;return Object(c.jsx)("div",{className:"c-image-modal",children:Object(c.jsx)(v.a,{size:"md",show:n,onHide:r,centered:!0,children:Object(c.jsxs)(v.a.Body,{className:"p-0 row",children:[Object(c.jsx)(G.a,{xs:1,className:"prev",children:Object(c.jsx)("a",{className:"prev",variant:"dark",onClick:function(){s(0===a?t.length-1:a-1)},children:"\u276e"})}),Object(c.jsxs)(G.a,{xs:10,className:"p-0",children:[Object(c.jsx)(Y.a,{src:t[a].url}),Object(c.jsx)(g.a,{onClick:r,className:"modal-x-button",variant:"outline-warning",children:"X"}),Object(c.jsx)("div",{className:"modal-image-desc",children:t[a].desc})]}),Object(c.jsx)(G.a,{xs:1,className:"next",children:Object(c.jsx)("a",{className:"next",variant:"dark",onClick:function(){a===t.length-1?s(0):s(a+1)},children:"\u276f"})})]})})})}),A=function(e){var t=e.onLogout,n=Object(a.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],x=Object(a.useState)(!1),h=Object(o.a)(x,2),g=h[0],f=h[1],v=Object(a.useState)(null),y=Object(o.a)(v,2),k=y[0],w=y[1],L=Object(j.h)().id;Object(a.useState)((function(){function e(){return(e=Object(m.a)(p.a.mark((function e(){var t,n,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new N.a.Query(new N.a.Object.extend("Gallery")).get(L);case 2:return t=e.sent,b(t.get("title")),n=N.a.Object.extend("Image"),(c=new N.a.Query(n)).equalTo("gallery",t),e.next=9,c.find();case 9:a=e.sent,i(a.map((function(e){var t=e.get("desc")?e.get("desc"):"",n=e.get("file")._url;return{id:e.id,desc:t,url:n}})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var C=s?s.map((function(e,t){return Object(c.jsx)(X,{image:e,onClick:function(){return function(e){f(!0),w(e)}(t)}},e.id)})):null,I=null!==k?Object(c.jsx)(_,{images:s,showModal:g,selectedImage:k,close:function(){f(!1)},onImageChange:function(e){w(e)}}):null;return Object(c.jsxs)("div",{className:"p-gallery",children:[Object(c.jsx)(O,{onLogout:t}),Object(c.jsx)("h2",{children:d}),Object(c.jsx)(F.a,{children:Object(c.jsx)(J.a,{children:C})}),I]})};n(757);var V=function(e){return Object(c.jsx)("div",{className:"p-daf-kesher"})};var Z=function(){var e=Object(a.useState)(N.a.User.current()?new C(N.a.User.current()):null),t=Object(o.a)(e,2),n=t[0],r=t[1],s=function(){r(null),N.a.User.logOut()};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)(j.d,{children:Object(c.jsxs)(h.Provider,{value:n,children:[Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(T,{onLogin:function(e){r(e)},onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/my-garden",children:Object(c.jsx)(Q,{onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/dapey-kesher",children:Object(c.jsx)(M,{onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/dapey-kesher/:id",children:Object(c.jsx)(V,{onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/galleries",children:Object(c.jsx)(H,{onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/galleries/:id",children:Object(c.jsx)(A,{onLogout:s})}),Object(c.jsx)(j.b,{exact:!0,path:"/contact-us",children:Object(c.jsx)(K,{onLogout:s})})]})})})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,774)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};N.a.serverURL="https://parseapi.back4app.com",N.a.initialize("YjX6kib1y4ZL0wYCCXagO161JHCAZNLF8vz04iNh","YYhfXbq4guVCOl4BhV5Jcvfh43NNbDbIpAqI2LzG"),i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Z,{})}),document.getElementById("root")),R()}},[[758,1,2]]]);
//# sourceMappingURL=main.08042a7d.chunk.js.map