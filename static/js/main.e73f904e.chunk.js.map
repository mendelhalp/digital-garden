{"version":3,"sources":["images/logo192.png","model/UserModel.jsx","utils/IsEnterPressed.jsx","utils/isEmailValid.jsx","components/LoginModal/LoginModal.jsx","utils/ActiveUserContext.jsx","utils/addImage.jsx","utils/deleteImage.jsx","utils/addGarden.jsx","utils/signup.jsx","components/SignupModal/SignupModal.jsx","pages/HomePage/HomePage.jsx","utils/getGalleryMainImg.jsx","components/GalleryCard/GalleryCard.jsx","utils/getHebrewDate.jsx","utils/getGardenDapeyKesher.jsx","utils/getGardenDetails.jsx","utils/getGardenGalleries.jsx","components/DafKesherCard/DafKesherCard.jsx","pages/MyGardenPage/MyGardenPage.jsx","components/AddMainCard/AddMainCard.jsx","utils/createNewDafKesher.jsx","utils/updateDafKesherDetails.jsx","utils/createNewGallery.jsx","utils/updateGalleryDetails.jsx","components/MainCardEditorModal/MainCardEditorModal.jsx","utils/deleteDafKesher.jsx","utils/deleteGallery.jsx","utils/updateDafKesherContent.jsx","components/DeleteWarningModal/DeleteWarningModal.jsx","pages/DapeyKesherPage/DapeyKesherPage.jsx","pages/GalleriesPage/GalleriesPage.jsx","pages/ContactUsPage/ContactUsPage.jsx","components/ImageCard/ImageCard.jsx","components/ImageModal/ImageModal.jsx","utils/getGalleryImages.jsx","utils/getGalleryDetails.jsx","components/ImageCard/AddImageCard.jsx","components/AddImage/AddImageModal.jsx","pages/GalleryPage/GalleryPage.jsx","components/StudyTopicBox/StudyTopicBox.jsx","utils/getDafKesherDetails.jsx","utils/getRandomBgColor.jsx","components/MessageBox/MessageBox.jsx","components/MessageBox/AddMessageBox.jsx","components/StudyTopicBox/AddStudyTopicBox.jsx","components/DafKesherEditorModal/DafKesherEditorModal.jsx","pages/DafKesherPage/DafKesherPage.jsx","utils/getGreeting.jsx","components/TopNavbar/TopNavbar.jsx","App.js","reportWebVitals.js","index.js"],"names":["UserModel","parseUser","this","id","email","get","fname","lname","gardenId","role","isEnterPressed","e","key","isEmailValid","test","LoginModal","props","showModal","showSignupModal","handleCloseLogin","onLogin","useState","setEmail","pwd","setPwd","showError","setShowError","showEmailError","setShowEmailError","cleanFormFields","login","a","Parse","User","logIn","close","ifEnterPressed","event","useEffect","Modal","size","show","onHide","centered","className","Header","Title","Body","Form","Group","controlId","Label","Control","type","placeholder","value","onChange","target","onKeyPress","Feedback","Alert","variant","Footer","Button","onClick","ActiveUserContext","createContext","image","galleryId","Query","Object","extend","parseGallery","Image","myNewImage","set","File","name","save","response","addImage","imageId","then","destroy","error","deleteImage","year","logo","Gan","myNewGarden","addGarden","parseGarden","user","signUp","res","console","log","signup","SignupModal","handleCloseSignup","activeUser","useContext","userFname","setUserFname","userLname","setUserLname","userEmail","setUserEmail","userPwd","setUserPwd","gardenName","setGardenName","gardenYear","setGardenYear","parentsEmail","setParentsEmail","parentsFname","setParentsFname","setLogo","logoUrl","setLogoUrl","logoId","setLogoId","isFormValid","setIsFormValid","showSignupSpinner","setShowSignupSpinner","cleanFields","garden","isRequierdFieldFull","to","files","_url","logoView","Card","Img","src","Row","as","Col","split","Text","label","data-browse","accept","custom","multiple","Spinner","animation","disabled","aria-hidden","HomePage","showLoginModal","setShowLoginModal","setShowSignupModal","redirectToMyGarden","setRedirectToMyGarden","handleLogin","alt","galleryQuery","query","equalTo","count","numOfImgs","find","fullResult","result","mainImgUrl","Math","floor","random","parseGan","ganLogo","getGalleryMainImg","GalleryCard","gallery","handleEdit","handleDeleteClick","title","mainImg","setMainImg","getMainImg","icon","faEdit","faTrashAlt","getHebrewDate","dateObj","require","hebrewDate","month","date","HebrewYearName","yearNum","yearName","tensNames","taf","parseInt","shin","reish","getHebrewYearName","hebrewMonthName","includes","isLeapYear","ganId","dapeyKesherQuery","descending","results","dapeyKesher","map","dafKesher","getGardenDapeyKesher","ganName","gardenDetails","getGardenDetails","galleriesQuery","galleries","getGardenGalleries","DafKesherCard","hebDate","MyGardenPage","setGarden","setGalleries","setDapeyKesher","getGardenData","dapeyKesherView","index","md","lg","galleriesView","Container","sm","faNewspaper","href","faChevronLeft","faImages","AddMainCard","DafKesher","myNewDafKesher","Date","createNewDafKesher","dafKesherId","updateDafKesherDetails","Gallery","myGallery","createNewGallery","updateGalleryDetails","MainCardEditorModal","modalTitle","data","cardType","closeModal","cleanDataToEdit","setTitle","setDate","onSave","toLocaleString","viewDate","length","deleteDafKesher","deleteGallery","content","updateDafKesherContent","DeleteWarningModal","fullData","objectType","handleClose","backdrop","keyboard","splice","DapeyKesherPage","showMainCardEditorModal","setShowMainCardEditorModal","showDeleteAlert","setShowDeleteAlert","dafKesherToEdit","setDafKesherToEdit","getDapeyKesher","addDafKesher","GalleriesPage","galleryToEdit","setGalleryToEdit","getGalleries","addGallery","ContactUsPage","setName","subject","setSubject","request","setRequest","useUserInfo","setUseUserInfo","setFiles","filesUrl","setFilesUrl","isFormSubmitted","setIsFormSubmitted","filesArr","values","newFilesUrl","Promise","all","file","push","filesAmount","filesView","fileUrl","Check","checked","CardColumns","emailjs","send","from_name","from_email","topic","message","file_links","ImageCard","url","ImageModal","images","selectedImage","onImageChange","xs","faChevronRight","imgQuery","desc","getGalleryImages","galleryName","galleryMainImg","getGalleryDetails","AddImageCard","AddImageModal","galleryTitle","setImages","imagesId","setImagesId","imagesUrl","setImagesUrl","params","imagesArr","newImagesId","newImagesUrl","imagesAmount","imagesView","imageUrl","GalleryPage","setGalleryTitle","showImageModal","setShowImageModal","setSelectedImage","showAddImage","setShowAddImage","imageToEdit","setImageToEdit","useParams","getImages","onImageSelect","StudyTopicBox","onDeleteClick","onEditClick","headline","editIcon","deleteIcon","getDafKesherDetails","getRandomBgColor","bgColors","MessageBox","bgColor","bg","text","AddMessageBox","AddStudyTopicBox","DafKesherEditorModal","setHeadline","setContent","rows","newData","DafKesherPage","setData","header","setHeader","showEditorModal","setShowEditorModal","contentToEdit","setContentToEdit","getData","handleAddClick","handleEditClick","topicsView","studyTopics","addTopic","messagesView","messages","addMessage","faCommentDots","getGreeting","hour","getHours","TopNavbar","onLogout","path","useLocation","pathname","greeting","Navbar","collapseOnSelect","expand","Brand","Toggle","aria-controls","Collapse","Nav","Link","active","App","current","setActiveUser","init","Provider","logOut","exact","loggedinUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","serverURL","initialize","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e73f904e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo192.f73b2edd.png\";","class UserModel {\r\n    constructor(parseUser){\r\n        this.id = parseUser.id;\r\n        this.email = parseUser.get('username');\r\n        this.fname = parseUser.get('fname');\r\n        this.lname = parseUser.get('lname');\r\n        this.gardenId = parseUser.get('gan').id;\r\n        this.role = parseUser.get('role');\r\n    }\r\n}\r\n\r\nexport default UserModel;","const isEnterPressed = (e) => e.key === 'Enter' ? true : false;\r\n\r\nexport default isEnterPressed;","\r\nfunction isEmailValid(email) {\r\n    return /.+@.+\\..+/.test(email)\r\n}\r\n\r\nexport default isEmailValid;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport Parse from 'parse';\r\nimport UserModel from '../../model/UserModel';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport { Link } from 'react-router-dom';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\n\r\nfunction LoginModal(props) {\r\n    const {showModal, showSignupModal, handleCloseLogin, onLogin} = props;\r\n    const [email, setEmail] = useState('');\r\n    const [pwd, setPwd] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n\r\n    function cleanFormFields () {\r\n        setEmail('');\r\n        setPwd('');\r\n        setShowError(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (pwd !== ''){\r\n            setShowError(false)\r\n        }\r\n    },[pwd]);\r\n    useEffect(() => {\r\n        setShowError(false);\r\n        if (!isEmailValid(email) && email !== '') {\r\n            setShowEmailError(true);\r\n        } else if (isEmailValid(email)) { \r\n            setShowEmailError(false);\r\n        }\r\n    },[email]);\r\n\r\n    async function login () {\r\n        try {\r\n            const parseUser = await Parse.User.logIn(email, pwd);\r\n            \r\n            // Trigger onLogin event and clean the fields\r\n            onLogin(new UserModel(parseUser));\r\n            handleCloseLogin();\r\n            cleanFormFields();\r\n            \r\n        } catch(error) {\r\n            // show an error alert\r\n            setPwd('');\r\n            setShowError(true);\r\n        }\r\n    }\r\n\r\n    function close () {\r\n        handleCloseLogin();\r\n        cleanFormFields();\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (isEnterPressed(event) && email){\r\n            login();\r\n        }\r\n    }\r\n\r\n    function showSignup(){\r\n        close();\r\n        showSignupModal();\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-login-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>כניסה</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='loginUserName'>\r\n                        <Form.Label>שם משתמש</Form.Label>\r\n                        <Form.Control type=\"email\" placeholder=\"דואר אלקטרוני\" value={email} className={showEmailError ? 'is-invalid' : null}\r\n                            onChange={e => { setEmail(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                        <Form.Control.Feedback type=\"invalid\">כתובת מייל לא תקינה</Form.Control.Feedback>\r\n                    </Form.Group>\r\n                    <Form.Group controlId='loginPwd'>\r\n                        <Form.Label>סיסמה</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"סיסמה\" value={pwd}\r\n                            onChange={e => {setPwd(e.target.value)}}  onKeyPress={ifEnterPressed}/>\r\n                    </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">מייל או סיסמה שגויים</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant='link' className='ml-auto' onClick={showSignup}>עדיין לא רשומים?</Button>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={login}>כניסה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default LoginModal;\r\n","import { createContext } from 'react';\r\n\r\nconst ActiveUserContext = createContext(null);\r\n\r\nexport default ActiveUserContext;","import Parse from 'parse';\r\n\r\nasync function addImage(image, galleryId) {\r\n    const parseGallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    \r\n    const Image = Parse.Object.extend('Image');\r\n    const myNewImage = new Image();\r\n    \r\n    myNewImage.set('file', new Parse.File(image.name, image));\r\n    \r\n    // myNewImage.set('isPrimary', true);\r\n    myNewImage.set('gallery', parseGallery);\r\n    \r\n    const response = await myNewImage.save();\r\n    \r\n    return response;\r\n}\r\n\r\nexport default addImage;","import Parse from \"parse\";\r\n\r\nasync function deleteImage(imageId) {\r\n\r\n    const Image = Parse.Object.extend('Image');\r\n    const query = new Parse.Query(Image);\r\n\r\n    query.get(imageId).then((image) => {\r\n        image.destroy().then(\r\n            (image) => {\r\n                // console.log('Image destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Image: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteImage;","import Parse from 'parse';\r\n\r\nasync function addGarden(name, year, logo) {\r\n    const Gan = Parse.Object.extend('Gan');\r\n    const myNewGarden = new Gan();\r\n\r\n    myNewGarden.set('name', name);\r\n    myNewGarden.set('year', year);\r\n    myNewGarden.set('logo', new Parse.File(logo.name, logo));\r\n    \r\n    const response = await myNewGarden.save();\r\n    \r\n    return response;\r\n}\r\n\r\nexport default addGarden;","import Parse from 'parse';\r\n\r\nasync function signup(email, pwd, role, fname, lname, gardenId) {\r\n    const parseGarden = await new Parse.Query(new Parse.Object.extend('Gan')).get(gardenId);\r\n    const user = new Parse.User()    \r\n\r\n    user.set('username', email);\r\n    user.set('email', email);\r\n    user.set('role', 'manager');\r\n    user.set('gan', parseGarden);\r\n    user.set('fname', fname);\r\n    role === 'manager' && user.set('lname', lname);\r\n    user.set('password', pwd);\r\n    \r\n    const res = await user.signUp();\r\n    console.log(res);\r\n    return res;\r\n}\r\n\r\nexport default signup;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, CardColumns, Card, Form, Spinner, Col, Modal } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport addImage from '../../utils/addImage';\r\nimport deleteImage from '../../utils/deleteImage';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\nimport { Redirect } from 'react-router-dom';\r\nimport addGarden from '../../utils/addGarden';\r\nimport signup from '../../utils/signup';\r\nimport Parse from 'parse';\r\nimport UserModel from '../../model/UserModel';\r\n\r\n\r\nconst SignupModal = ({showModal, onLogin, handleCloseSignup}) => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [userFname, setUserFname] = useState('');\r\n    const [userLname, setUserLname] = useState('');\r\n    const [userEmail, setUserEmail] = useState('');\r\n    const [userPwd, setUserPwd] = useState('');\r\n    const [gardenName, setGardenName] = useState('');\r\n    const [gardenYear, setGardenYear] = useState('');\r\n    const [parentsEmail, setParentsEmail] = useState('');\r\n    const [parentsFname, setParentsFname] = useState('');\r\n    const [logo, setLogo] = useState('');\r\n    const [logoUrl, setLogoUrl] = useState('');\r\n    const [logoId, setLogoId] = useState('');\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n    const [showSignupSpinner, setShowSignupSpinner] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if (isRequierdFieldFull() && isEmailValid(userEmail)) {\r\n            setIsFormValid(true);\r\n            setShowEmailError(false);\r\n        } else if (!isEmailValid(userEmail) && userEmail !=='') {\r\n            setShowEmailError(true);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        } else if (isEmailValid(userEmail)) {\r\n            setShowEmailError(false);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        }\r\n    });\r\n\r\n    async function login () {\r\n        try {\r\n            const parseUser = await Parse.User.logIn(userEmail, userPwd);\r\n            \r\n            // Trigger onLogin event and clean the fields\r\n            onLogin(new UserModel(parseUser));\r\n            handleCloseSignup();\r\n            cleanFields();\r\n            \r\n        } catch(error) {\r\n            console.log('error while login')\r\n        }\r\n    }\r\n\r\n    function close () {\r\n        handleCloseSignup();\r\n        logoId && deleteImage(logoId);\r\n        cleanFields();\r\n    }\r\n    \r\n    function isRequierdFieldFull() {\r\n        if (userFname && userLname && userEmail && userPwd \r\n            && gardenName && gardenYear && parentsEmail && parentsFname) {\r\n            return true\r\n        }\r\n    }\r\n\r\n    function cleanFields() {\r\n        setUserFname('');\r\n        setUserLname('');\r\n        setUserEmail('');\r\n        setUserPwd('');\r\n        setGardenName('');\r\n        setGardenYear('');\r\n        setParentsEmail('');\r\n        setParentsFname('');\r\n        setLogo('');\r\n        setLogoUrl('');\r\n        setShowSignupSpinner(false);\r\n    }\r\n\r\n    async function sendForm () {\r\n        setShowSignupSpinner(true);\r\n        //creat garden in parse\r\n        const garden = await addGarden(gardenName, gardenYear,logo);\r\n\r\n        //create parent in parse\r\n        await signup(parentsEmail, 'Dd123456', 'parent', parentsFname, '', garden.id);\r\n\r\n        //create manager in parse\r\n        const user = await signup(userEmail, userPwd, 'manager', userFname, userFname, garden.id);\r\n\r\n        //delete temporary logo file\r\n        deleteImage(logoId);\r\n\r\n        //login with the user\r\n        login();\r\n\r\n        // setIsFormSubmitted(true);\r\n        cleanFields();\r\n    }\r\n    \r\n    if (activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    async function onFileSelect(event) {\r\n        const logo = event.target.files[0];\r\n        setLogo(logo);\r\n        const res = await addImage(logo, 'fe0qzAHNtH');\r\n        setLogoUrl(res.get('file')._url);\r\n        setLogoId(res.id);\r\n    }\r\n\r\n    const logoView = logoUrl ?\r\n        <Card>\r\n            <Card.Img src={logoUrl}/>\r\n        </Card>\r\n    : null;\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className=\"c-signup-modal\">\r\n            <Modal.Header>\r\n                <Modal.Title>הרשמה לאתר הגן הדיגיטלי</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formUserFname\">\r\n                            <Form.Label>שם</Form.Label>\r\n                            <Form.Control type=\"text\" value={userFname} onChange={e => {setUserFname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formUserLname\">\r\n                            <Form.Label>משפחה</Form.Label>\r\n                            <Form.Control type=\"text\" value={userLname} onChange={e => {setUserLname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formUserEmail\">\r\n                            <Form.Label>דואר אלקטרוני</Form.Label>\r\n                            <Form.Control type=\"email\" value={userEmail} className={showEmailError ? 'is-invalid' : null} \r\n                                onChange={e => { setUserEmail(e.target.value); setParentsEmail(`horim@${e.target.value.split('@')[0]}.com`) }} />\r\n                            <Form.Control.Feedback type=\"invalid\">כתובת מייל לא תקינה</Form.Control.Feedback>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formUserPwd\">\r\n                            <Form.Label>סיסמה</Form.Label>\r\n                            <Form.Control type=\"password\" value={userPwd} onChange={e => { setUserPwd(e.target.value) }} />\r\n                            <Form.Text className=\"text-muted\">סיסמה צריכה להיות מעל 8 תווים ולהכיל: אות גדולה, אות קטנה ומספר.</Form.Text>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formGardenName\">\r\n                            <Form.Label>שם הגן</Form.Label>\r\n                            <Form.Control type=\"text\" value={gardenName} \r\n                                onChange={e => {setGardenName(e.target.value); setParentsFname(`הורי ${e.target.value}`)}}/>\r\n                            <Form.Text className=\"text-muted\">לדוגמה: גן השושנים</Form.Text>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formGardenYear\">\r\n                            <Form.Label>שנת לימודים</Form.Label>\r\n                            <Form.Control type=\"text\" value={gardenYear} onChange={e => {setGardenYear(e.target.value)}}/>\r\n                            <Form.Text className=\"text-muted\">לדוגמה: תשפ\"א</Form.Text>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n                    \r\n                    <Form.Row>\r\n                        <Form.Group as={Col} controlId=\"formParentsEmail\">\r\n                            <Form.Label>שם משתמש להורי הגן</Form.Label>\r\n                            <Form.Control type=\"text\" value={parentsEmail} onChange={e => {setParentsEmail(e.target.value)}}/>\r\n                        </Form.Group>\r\n                        <Form.Group as={Col} controlId=\"formParentsFname\">\r\n                            <Form.Label>שם חשבון הורי הגן</Form.Label>\r\n                            <Form.Control type=\"text\" value={parentsFname} onChange={e => {setParentsFname(e.target.value)}}/>\r\n                        </Form.Group>\r\n                    </Form.Row>\r\n\r\n\r\n                    <Form.Row>\r\n                        <Form.Group as={Col}>\r\n                            <Form.File id=\"formGardenLogo\" label='' data-browse=\"בחירת לוגו\" accept=\"image/*\" custom multiple onChange={onFileSelect}/>\r\n                            <Form.Text className=\"text-muted\">{logo ? 'נבחרה תמונה' : 'מומלץ לבחור לוגו שיופיע בדפי הקשר'}</Form.Text>\r\n                        </Form.Group>\r\n                        {logo &&\r\n                            <Form.Group as={Col}>\r\n                                {logoView}\r\n                                {logo && logoView === null && \r\n                                        <div className='images-spinner row justify-content-center mt-3'>\r\n                                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                                        </div>\r\n                                }\r\n                            </Form.Group>\r\n                        }\r\n                    </Form.Row>\r\n                </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer className='flex-nowrap'>\r\n                <Button variant=\"secondary\" className='w-50' onClick={close} disabled={showSignupSpinner}>סגירה</Button>\r\n                <Button variant=\"warning\" className='w-50' type=\"button\" disabled={!isFormValid} onClick={sendForm}>\r\n                    <span className={showSignupSpinner && 'sr-only'}>הרשמה</span>\r\n                    {showSignupSpinner &&<Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                        />}\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default SignupModal;","import './HomePage.css'\r\nimport logo from '../../images/logo192.png'\r\nimport { Button } from 'react-bootstrap';\r\nimport { useContext, useState } from 'react';\r\nimport LoginModal from '../../components/LoginModal/LoginModal';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport SignupModal from '../../components/SignupModal/SignupModal';\r\n\r\nconst HomePage = (props) => {\r\n    const [showLoginModal, setShowLoginModal] = useState(false);\r\n    const [showSignupModal, setShowSignupModal] = useState(false);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [redirectToMyGarden, setRedirectToMyGarden] = useState(activeUser ? true : false);\r\n    const { onLogin } = props;\r\n\r\n    function handleLogin(user) {\r\n        onLogin(user);\r\n        setRedirectToMyGarden(true);\r\n    }\r\n    \r\n    function handleCloseLogin() {\r\n        setShowLoginModal(false);\r\n    }\r\n    function handleCloseSignup() {\r\n        setShowSignupModal(false);\r\n    }\r\n    \r\n    if (redirectToMyGarden) {\r\n        return <Redirect to=\"my-garden\"/>;\r\n    }\r\n    return (\r\n        <div className=\"p-home\">\r\n            <div className='main-content'>\r\n                <div className='logo'>\r\n                    <img className='logo-img' src={logo} alt=\"logo\"/>\r\n                </div>\r\n                <div className='main-text'>\r\n                    <div className='text'>\r\n                        <h2>הגן הדיגיטלי</h2>\r\n                        <h5>הקשר שלך עם ההורים</h5>\r\n                        <h5>נראה אחרת!</h5>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='buttons'>\r\n                <Button variant=\"outline-warning\" size='lg' onClick={() => { setShowLoginModal(true) }}>כניסה</Button>{' '}\r\n                <Button variant=\"warning\" size='lg' onClick={() => { setShowSignupModal(true) }}>הרשמה</Button>\r\n            </div>\r\n            <LoginModal showModal={showLoginModal} showSignupModal={() => {setShowSignupModal(true)}} \r\n                handleCloseLogin={handleCloseLogin} onLogin={handleLogin}/>\r\n            <SignupModal showModal={showSignupModal} handleCloseSignup={handleCloseSignup} onLogin={handleLogin} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HomePage;","import Parse from 'parse';\r\n\r\n\r\nasync function getGalleryMainImg(galleryId) {\r\n    \r\n    const galleryQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    const parseGallery = await galleryQuery.get(galleryId);\r\n    \r\n    const query = new Parse.Query(Parse.Object.extend('Image'));\r\n    query.equalTo('gallery', parseGallery);\r\n    const numOfImgs = await query.count();\r\n    const fullResult = await query.find();\r\n    query.equalTo('isPrimary', true);\r\n    const result = await query.find();\r\n\r\n    let mainImgUrl;\r\n    if (result[0]) {\r\n        mainImgUrl = result[0].get('file')._url;\r\n    } else if (fullResult && numOfImgs > 0) {\r\n        mainImgUrl = fullResult[Math.floor(Math.random() * numOfImgs)].get('file')._url;\r\n    } else {\r\n        const parseGan = parseGallery.get('gan');\r\n        const ganLogo = parseGan.get('logo')._url;\r\n        \r\n        mainImgUrl = ganLogo;\r\n    }\r\n\r\n    return (mainImgUrl);\r\n\r\n}\r\n\r\n\r\nexport default getGalleryMainImg;","import './GalleryCard.css'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport getGalleryMainImg from '../../utils/getGalleryMainImg';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst GalleryCard = ({gallery, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const {id, title } = gallery;\r\n    const [mainImg, setMainImg] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getMainImg() {\r\n            const mainImg = await getGalleryMainImg(id);\r\n            setMainImg(mainImg);\r\n        }\r\n        getMainImg();\r\n    },[]);\r\n\r\n\r\n    return (\r\n        <div className='c-gallery-card'>\r\n            <Card>\r\n                <Link to={'/galleries/'+ id}>\r\n                    {mainImg ? <Card.Img variant='top' src={mainImg}/> : null}\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(gallery)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(gallery)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleryCard;","function isLeapYear(year) {\r\n    const restForLeapYears = [0, 3, 6, 8, 11, 14, 17];\r\n    return (restForLeapYears.includes(year % 19));\r\n}\r\n\r\nfunction getHebrewYearName(yearNum) {\r\n    const unitsNames = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט'];\r\n    const tensNames = ['י', 'כ', 'ל', 'מ', 'נ', 'ס', 'ע', 'פ', 'צ']\r\n\r\n    let yearName;\r\n    let year = yearNum % 1000;\r\n    const taf = parseInt(year / 400);\r\n    year = year % 400;\r\n    const shin = parseInt(year / 300);\r\n    year = year % 300;\r\n    const reish = parseInt(year / 200);\r\n    year = year % 200;\r\n    const kuf = parseInt(year / 100);\r\n    year = year % 100;\r\n\r\n    yearName = taf > 1 ? 'תת' : taf === 1 ? 'ת' : '';\r\n    yearName += shin === 1 ? 'ש' : '';\r\n    yearName += reish === 1 ? 'ר' : '';\r\n    yearName += kuf === 1 ? 'ק' : '';\r\n    if (year !== 0 && year % 10 !== 0) {\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n        yearName += '\"';\r\n        yearName += unitsNames[year % 10 - 1];\r\n    } else if (year !== 0) {\r\n        yearName += '\"';\r\n        yearName += tensNames[parseInt(year / 10) - 1];\r\n    } else {\r\n        yearName += \"'\";\r\n    }\r\n\r\n    return(yearName)\r\n}\r\n\r\nfunction getHebrewDate(dateObj) {\r\n    const hebrewDate = require('hebrew-date');\r\n    const { year, month, date } = hebrewDate(dateObj);\r\n    \r\n    const monthNamesOfNonLeapYear = ['תשרי', 'חשון', 'כסלו', 'טבת', 'שבט', 'אדר', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];\r\n    const monthNamesOfLeapYear = ['תשרי', 'חשון', 'כסלו', 'טבת', 'שבט', 'אדר א', 'אדר ב', 'ניסן', 'אייר', 'סיון', 'תמוז', 'אב', 'אלול'];\r\n    \r\n    const dateNames = ['א', 'ב', 'ג', 'ד', 'ה', 'ו', 'ז', 'ח', 'ט', 'י', 'י\"א', 'י\"ב', 'י\"ג', 'י\"ד'\r\n    , 'ט\"ו', 'ט\"ז', 'י\"ז', 'י\"ח', 'י\"ט', 'כ', 'כ\"א', 'כ\"ב', 'כ\"ג', 'כ\"ד', 'כ\"ה', 'כ\"ו', 'כ\"ז', 'כ\"ח', 'כ\"ט', 'ל'];\r\n    \r\n    const HebrewYearName = getHebrewYearName(year);\r\n    const hebrewMonthName = isLeapYear(year) ? monthNamesOfLeapYear[month -1] : monthNamesOfNonLeapYear[month -1];\r\n    const hebrewDateName = dateNames[date -1];\r\n    const hebrewDateStr = hebrewDateName + ' ' + hebrewMonthName + ' ' + HebrewYearName;\r\n\r\n    return (hebrewDateStr);\r\n}\r\n\r\nexport default getHebrewDate;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getGardenDapeyKesher(ganId) {\r\n\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const dapeyKesherQuery = new Parse.Query(Parse.Object.extend('DafKesher'));\r\n    dapeyKesherQuery.equalTo(\"gan\", Gan);\r\n    dapeyKesherQuery.descending(\"date\");\r\n\r\n    const results = await dapeyKesherQuery.find();\r\n\r\n    const dapeyKesher = results.map(dafKesher => {\r\n        return({\r\n            'id':dafKesher.id,\r\n            'title': dafKesher.get('title'),\r\n            'date':dafKesher.get('date'),\r\n            'hebDate':getHebrewDate(dafKesher.get('date'))\r\n        })\r\n    });\r\n\r\n    return (dapeyKesher);\r\n}\r\nexport default getGardenDapeyKesher;","import Parse from 'parse';\r\n\r\nasync function getGardenDetails(activeUser) {\r\n    const parseUser = await new Parse.Query(new Parse.User()).get(activeUser.id);\r\n    const parseGan = await new Parse.Query(new Parse.Object.extend('Gan')).get(parseUser.get('gan').id);\r\n    const ganName = parseGan.get('name');\r\n    const ganLogo = parseGan.get('logo')._url;\r\n\r\n    const gardenDetails = {\r\n        'parseGarden':parseGan,\r\n        'id':parseGan.id,\r\n        'name':ganName,\r\n        'logo':ganLogo\r\n    }\r\n    return (gardenDetails);\r\n}\r\n\r\nexport default getGardenDetails;","import Parse from 'parse';\r\n\r\nasync function getGardenGalleries(ganId) {\r\n    const Gan = await new Parse.Query(new Parse.Object.extend('Gan')).get(ganId);\r\n    const galleriesQuery = new Parse.Query(Parse.Object.extend('Gallery'));\r\n    galleriesQuery.equalTo(\"gan\", Gan);\r\n\r\n    const results = await galleriesQuery.find();\r\n\r\n    const galleries = results.map(gallery => {\r\n        return({\r\n            'id':gallery.id,\r\n            'title':gallery.get('title')\r\n        })\r\n    });\r\n\r\n    return (galleries);\r\n}\r\nexport default getGardenGalleries;","import './DafKesherCard.css'\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst DafKesherCard = ({dafKesher, handleEdit, handleDeleteClick, activeUser}) => {\r\n    const { id, title, hebDate} = dafKesher;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    return (\r\n        <div className='c-daf-kesher-card'>\r\n            <Card>\r\n                <Link to={'/dapey-kesher/' + id}>\r\n                    <Card.Title className='text-center'>{title}</Card.Title>\r\n                    <Card.Text className='text-center'>{hebDate}</Card.Text>\r\n                </Link>\r\n                {activeUser && activeUser.role === 'manager' && handleEdit &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon className='edit-icon' onClick={() => {handleEdit(dafKesher)}} icon={faEdit}/>\r\n                        <FontAwesomeIcon className='delete-icon' onClick={() => {handleDeleteClick(dafKesher)}} icon={faTrashAlt}/>\r\n                    </Card.Footer>\r\n                }\r\n            </Card>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherCard;","import { useContext, useEffect, useState } from 'react'\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom'\r\nimport ActiveUserContext from '../../utils/ActiveUserContext'\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher'\r\nimport getGardenDetails from '../../utils/getGardenDetails'\r\nimport getGardenGalleries from '../../utils/getGardenGalleries'\r\nimport './MyGardenPage.css'\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faChevronLeft, faImages, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst MyGardenPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [galleries, setGalleries] = useState([]);\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function getGardenData() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n        getGardenData();\r\n    },[garden]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map((dafKesher, index) => {\r\n        \r\n        if (index < 6) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={dafKesher.id}>\r\n                    <DafKesherCard dafKesher={dafKesher} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    const galleriesView = galleries ? galleries.map((gallery, index) => {\r\n        \r\n        if (index < 4) {\r\n            return (\r\n                <Col className='py-2' md={12} lg={6} key={gallery.id}>\r\n                    <GalleryCard gallery={gallery} activeUser={activeUser}/>\r\n                </Col>\r\n            )}\r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-my-gan\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <h2 className='name'>{garden.name}</h2> : null}\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>דפי קשר</span>\r\n                                <FontAwesomeIcon icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {dapeyKesherView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/dapey-kesher'>\r\n                                <Card.Footer className='text-center'>\r\n                                    <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={6} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>גלריות</span>\r\n                                <FontAwesomeIcon icon={faImages}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Row>\r\n                                    {galleriesView}\r\n                                </Row>\r\n                            </Card.Body>\r\n                            <a href='#/galleries'>\r\n                                <Card.Footer className='text-center'>\r\n                                <FontAwesomeIcon icon={faChevronLeft}/>\r\n                                </Card.Footer>\r\n                            </a>\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyGardenPage;","import './AddMainCard.css'\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\n\r\nconst AddMainCard = (props) => {\r\n\r\n    const {onClick} = props;\r\n\r\n    return (\r\n        <div className='c-add-main-card'>\r\n            <Card onClick={onClick}>\r\n                <Card.Title className='text-center'>+</Card.Title>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddMainCard;","import Parse from \"parse\";\r\n\r\nasync function createNewDafKesher(parseGarden, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const myNewDafKesher = new DafKesher();\r\n\r\n    myNewDafKesher.set('title',title);\r\n    myNewDafKesher.set('gan', parseGarden);\r\n    myNewDafKesher.set('date', new Date(date));\r\n    myNewDafKesher.set('data', {\"studyTopics\":[], \"messages\":[]});\r\n\r\n    myNewDafKesher.save().then(\r\n    (result) => {\r\n        // console.log('DafKesher created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating DafKesher: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewDafKesher;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherDetails(dafKesherId, title, date) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('title', title);\r\n        dafKesher.set('date', new Date(date));\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherDetails;","import Parse from \"parse\";\r\n\r\nasync function createNewGallery(parseGarden, title) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const myGallery = new Gallery();\r\n\r\n    myGallery.set('title',title);\r\n    myGallery.set('gan', parseGarden);\r\n\r\n    myGallery.save().then(\r\n    (result) => {\r\n        // console.log('Gallery created', result);\r\n    },\r\n    (error) => {\r\n        // console.error('Error while creating Gallery: ', error);\r\n    }\r\n    );\r\n    \r\n    return '';\r\n}\r\n\r\nexport default createNewGallery;","import Parse from \"parse\";\r\n\r\nasync function updateGalleryDetails(galleryId, title, date) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.set('title', title);\r\n        gallery.save().then(\r\n            (result) => {\r\n                // console.log('Gallery updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateGalleryDetails;","import React, { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport { Button, Modal, Form, Alert } from 'react-bootstrap';\r\nimport isEnterPressed from '../../utils/IsEnterPressed';\r\nimport createNewDafKesher from '../../utils/createNewDafKesher';\r\nimport updateDafKesherDetails from '../../utils/updateDafKesherDetails';\r\nimport createNewGallery from '../../utils/createNewGallery';\r\nimport updateGalleryDetails from '../../utils/updateGalleryDetails';\r\n\r\nconst MainCardEditorModal = (props) => {\r\n    const {data, cardType, parseGarden, showModal, closeModal, cleanDataToEdit} = props;\r\n    const [title, setTitle] = useState('');\r\n    const [date, setDate] = useState('');\r\n    const [showError, setShowError] = useState(false);\r\n    \r\n    useEffect(() => { \r\n        if (typeof data === 'object') {\r\n            if (cardType === 'dafKesher') {\r\n                setTitle(data.title);\r\n\r\n                const date = data.date.toLocaleString().split('.');\r\n                const viewDate = `${date[2].split(',')[0]}-${date[1].length === 1 ? '0' + date[1] : date[1]}-${date[0].length === 1 ? '0' + date[0] : date[0]}`;\r\n                setDate(viewDate);\r\n            } else if (cardType === 'gallery') {\r\n                setTitle(data.title);\r\n            }\r\n        } else {\r\n            setTitle('');\r\n            setDate('');\r\n        }\r\n    }, [data]);\r\n    \r\n    function close () {\r\n        setTitle('');\r\n        setDate('');        \r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (cardType === 'dafKesher') {\r\n            if (!(title && date)) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewDafKesher(parseGarden, title, date);\r\n                close()\r\n            } else {\r\n                updateDafKesherDetails(data.id, title, date);\r\n                close();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (!title) {\r\n                setShowError(true);\r\n            } else if (!data) {\r\n                createNewGallery(parseGarden, title);\r\n                close()\r\n            } else {\r\n                updateGalleryDetails(data.id, title);\r\n                close();\r\n            }\r\n        }\r\n    }\r\n\r\n    function ifEnterPressed (event) {\r\n        if (cardType === 'dafKesher') {\r\n            if (isEnterPressed(event) && title && date) {\r\n                onSave();\r\n            }\r\n        } else if (cardType === 'gallery') {\r\n            if (isEnterPressed(event) && title) {\r\n                onSave();\r\n            }\r\n        }\r\n    }\r\n\r\n    let modalTitle;\r\n    if (cardType === 'dafKesher') {\r\n        modalTitle = data ? 'עריכת פרטי דף קשר' : 'יצירת דף קשר חדש';\r\n    } else if (cardType === 'gallery') {\r\n        modalTitle = data ? 'עריכת פרטי גלריה' : 'יצירת גלריה חדשה';\r\n    }\r\n\r\n    return (\r\n        <Modal size='sm' show={showModal} onHide={close} centered className='c-main-card-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form>\r\n                    <Form.Group controlId='title'>\r\n                        <Form.Label>כותרת</Form.Label>\r\n                        <Form.Control type=\"text\" value={title} onChange={e => { setTitle(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group>\r\n                    {cardType === 'dafKesher' ? <Form.Group controlId='date'>\r\n                        <Form.Label>תאריך</Form.Label>\r\n                        <Form.Control type=\"date\" value={date}\r\n                            onChange={e => { setDate(e.target.value) }} onKeyPress={ifEnterPressed} />\r\n                    </Form.Group> : null}\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">נא למלא את כל השדות</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={onSave}>שמירה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default MainCardEditorModal;\r\n","import Parse from \"parse\";\r\n\r\nasync function deleteDafKesher(dafKesherId) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.destroy().then(\r\n            (dafKesher) => {\r\n                // console.log('DafKesher destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteDafKesher;","import Parse from \"parse\";\r\n\r\nasync function deleteGallery(galleryId) {\r\n\r\n    const Gallery = Parse.Object.extend('Gallery');\r\n    const query = new Parse.Query(Gallery);\r\n\r\n    query.get(galleryId).then((gallery) => {\r\n        gallery.destroy().then(\r\n            (gallery) => {\r\n                // console.log('Gallery destroyed');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while destroying Gallery: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default deleteGallery;","import Parse from \"parse\";\r\n\r\nasync function updateDafKesherContent(dafKesherId, content) {\r\n\r\n    const DafKesher = Parse.Object.extend('DafKesher');\r\n    const query = new Parse.Query(DafKesher);\r\n\r\n    query.get(dafKesherId).then((dafKesher) => {\r\n        dafKesher.set('data', content);\r\n        dafKesher.save().then(\r\n            (result) => {\r\n                // console.log('DafKesher updated');\r\n            },\r\n            (error) => {\r\n                // console.error('Error while updating DafKesher: ', error);\r\n            }\r\n\r\n        );\r\n\r\n        \r\n        \r\n    });\r\n    return '';\r\n}\r\n\r\nexport default updateDafKesherContent;","import React from 'react';\r\nimport { Button, Modal } from 'react-bootstrap';\r\nimport deleteDafKesher from '../../utils/deleteDafKesher';\r\nimport deleteGallery from '../../utils/deleteGallery';\r\nimport deleteImage from '../../utils/deleteImage';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\nfunction DeleteWarningModal(props) {\r\n    const {fullData, data, dafKesherId, objectType, showModal, closeModal, cleanDataToEdit} = props;\r\n    function handleClose() {\r\n        closeModal();\r\n        cleanDataToEdit();\r\n    }\r\n    console.log(data);\r\n    function deleteClick () {\r\n        if (objectType === 'דף קשר') {\r\n            deleteDafKesher(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'גלריה') {\r\n            deleteGallery(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'חומר לימודי' || objectType === 'הודעה') {\r\n            fullData[data.type].splice(data.index, 1);\r\n            updateDafKesherContent(dafKesherId, fullData).then(() => {\r\n                handleClose();\r\n            })\r\n        } else if (objectType === 'תמונה') {\r\n            deleteImage(data.id).then(() => {\r\n                handleClose();\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={handleClose} backdrop=\"static\" keyboard={false} centered className='c-delete-warning-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>מחיקת {objectType}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body className='text-center'>\r\n                <h5>הנך מנסה למחוק {objectType}{data.title && <span className='font-weight-bold'> {data.title}</span>},</h5>\r\n                <div>פעולה זו איננה ניתנת לביטול</div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>ביטול</Button>\r\n                <Button variant=\"warning\" onClick={deleteClick}>מחיקה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DeleteWarningModal;","import { useContext, useEffect, useState } from 'react';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DafKesherCard from '../../components/DafKesherCard/DafKesherCard';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './DapeyKesherPage.css';\r\nimport getGardenDapeyKesher from '../../utils/getGardenDapeyKesher';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\n\r\nconst DapeyKesherPage = () => {\r\n    const [dapeyKesher, setDapeyKesher] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [dafKesherToEdit, setDafKesherToEdit] = useState('');\r\n    \r\n    useEffect(() => {\r\n        async function getDapeyKesher() {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const dapeyKesher = await getGardenDapeyKesher(garden.id);\r\n            setDapeyKesher(dapeyKesher);\r\n            setGarden(garden);\r\n        }\r\n        \r\n        getDapeyKesher();\r\n    }, [showMainCardEditorModal,showDeleteAlert])\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n\r\n    function handleEdit(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowMainCardEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(dafKesher) {\r\n        setDafKesherToEdit(dafKesher);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const addDafKesher = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n\r\n    const dapeyKesherView = dapeyKesher ? dapeyKesher.map(dafKesher =>\r\n        <Col className='py-2' md={6} lg={3} key={dafKesher.id}>\r\n            <DafKesherCard dafKesher={dafKesher} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>\r\n    ) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-dapey-kesher\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{garden.name}</div>\r\n                        <h2>דפי הקשר שלנו</h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row className='align-items-stretch'>\r\n                    {addDafKesher}\r\n                    {dapeyKesherView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={dafKesherToEdit} parseGarden={garden.parseGarden} cardType='dafKesher'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n            <DeleteWarningModal data={dafKesherToEdit} objectType='דף קשר' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setDafKesherToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DapeyKesherPage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport './GalleriesPage.css';\r\nimport GalleryCard from '../../components/GalleryCard/GalleryCard';\r\nimport { Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport getGardenGalleries from '../../utils/getGardenGalleries';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MainCardEditorModal from '../../components/MainCardEditorModal/MainCardEditorModal';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddMainCard from '../../components/AddMainCard/AddMainCard';\r\n\r\nconst GalleriesPage = () => {\r\n    const [galleries, setGalleries] = useState([]);\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [garden, setGarden] = useState('');\r\n    const [showMainCardEditorModal, setShowMainCardEditorModal] = useState(false);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [galleryToEdit, setGalleryToEdit] = useState('');\r\n\r\n    useEffect(() => {\r\n        async function getGalleries () {\r\n            const garden = await getGardenDetails(activeUser);\r\n            const galleries = await getGardenGalleries(garden.id);\r\n            setGalleries(galleries);\r\n            setGarden(garden);\r\n        }\r\n\r\n        getGalleries();\r\n    },[showMainCardEditorModal,showDeleteAlert]);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function handleEdit(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowMainCardEditorModal(true);\r\n    }    \r\n\r\n    function handleDeleteClick(gallery) {\r\n        setGalleryToEdit(gallery);\r\n        setShowDeleteAlert(true);\r\n    }    \r\n\r\n    const addGallery = activeUser && activeUser.role === 'manager' ?\r\n        <Col className='py-2' md={6} lg={3}>\r\n            <AddMainCard onClick={() => { setShowMainCardEditorModal(true) }}/>\r\n        </Col>\r\n    : null;\r\n    \r\n    const galleriesView = galleries ? galleries.map(gallery => {\r\n        return(<Col className='py-2' md={6} lg={3} key={gallery.id}>\r\n            <GalleryCard gallery={gallery} handleEdit={handleEdit} handleDeleteClick={handleDeleteClick} activeUser={activeUser}/>\r\n        </Col>)        \r\n    }) : null;\r\n\r\n    if (!garden) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-galleries\">\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        {garden ? <div className='name'>{garden.name}</div> : null}\r\n                        <h2>הגלריות שלנו</h2>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {garden ? <div className='logo'><img src={garden.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    {addGallery}\r\n                    {galleriesView}\r\n                </Row>\r\n            </Container>\r\n            <MainCardEditorModal data={galleryToEdit} parseGarden={garden.parseGarden} cardType='gallery'\r\n                showModal={showMainCardEditorModal} closeModal={() => { setShowMainCardEditorModal(false) }} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n            <DeleteWarningModal data={galleryToEdit} objectType='גלריה' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setGalleryToEdit('') }} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GalleriesPage;","import { useContext, useEffect, useState } from 'react';\r\nimport { Button, CardColumns, Card, Form, Spinner } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport addImage from '../../utils/addImage';\r\nimport emailjs from 'emailjs-com';\r\nimport isEmailValid from '../../utils/isEmailValid';\r\nimport './ContactUsPage.css'\r\n\r\n\r\nconst ContactUsPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [name, setName] = useState(activeUser ? `${activeUser.fname} ${activeUser.lname}` : '');\r\n    const [email, setEmail] = useState(activeUser ? activeUser.email : '');\r\n    const [subject, setSubject] = useState('');\r\n    const [request, setRequest] = useState('');\r\n    const [useUserInfo, setUseUserInfo] = useState(activeUser ? true : false);\r\n    const [files, setFiles] = useState('');\r\n    const [filesUrl, setFilesUrl] = useState('');\r\n    const [showEmailError, setShowEmailError] = useState(false);\r\n    const [isFormValid, setIsFormValid] = useState(false);\r\n    const [isFormSubmitted, setIsFormSubmitted] = useState(false);\r\n    \r\n    function sendForm () {\r\n        emailjs.send(\"service_5cx738e\",\"template_k3nemuh\",{\r\n            from_name: name,\r\n            from_email: email,\r\n            topic: subject,\r\n            message: request,\r\n            file_links: filesUrl,\r\n            });\r\n\r\n        setSubject('');\r\n        setRequest('');\r\n        setFiles('');\r\n        setFilesUrl('');\r\n        setIsFormSubmitted(true);\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (name && isEmailValid(email) && subject && request) {\r\n            setIsFormValid(true);\r\n            setShowEmailError(false);\r\n        } else if (!isEmailValid(email) && email!=='') {\r\n            setShowEmailError(true);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        } else if (isEmailValid(email)) {\r\n            setShowEmailError(false);\r\n            if (isFormValid) {\r\n                setIsFormValid(false);\r\n            }\r\n        }\r\n    });\r\n    \r\n    function onSwitchMode() {\r\n        if (!useUserInfo) {\r\n            setName(`${activeUser.fname} ${activeUser.lname}`);\r\n            setEmail(activeUser.email);\r\n            setUseUserInfo(!useUserInfo);\r\n        } else {\r\n            setName('');\r\n            setEmail('');\r\n            setUseUserInfo(!useUserInfo);\r\n        }\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setFiles(event.target.files);\r\n        const filesArr = Object.values(event.target.files);\r\n        let newFilesUrl = [];\r\n        await Promise.all(filesArr.map(async file => {\r\n            const res = await addImage(file, 'fe0qzAHNtH');\r\n            newFilesUrl.push(res.get('file')._url);\r\n            debugger\r\n        }));\r\n        setFilesUrl(newFilesUrl);\r\n    }\r\n\r\n    const filesAmount = files ? files.length : 0;\r\n\r\n    const filesView = filesUrl ? filesUrl.map((fileUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={fileUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    if (isFormSubmitted) {\r\n        return(\r\n            <div className=\"p-contact-us success\">\r\n                <h2>פנייתך נשלחה בהצלחה</h2>\r\n                <Button variant='info' onClick={() => {setIsFormSubmitted(false)}} >פנייה נוספת</Button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-contact-us\">\r\n            <h2>צור קשר</h2>\r\n            <Form>\r\n                <Form.Group controlId=\"formContactUsName\">\r\n                    <Form.Label>שם</Form.Label>\r\n                    {activeUser ? <Form.Check type='switch' variant='warning' id='formContactUsFileSwitch' label={useUserInfo ? 'משתמש בפרטים שלי' : 'השתמש בפרטים שלי'} checked={useUserInfo} onChange={onSwitchMode} /> : null}\r\n                    <Form.Control type=\"text\" value={name} onChange={e => {setName(e.target.value)}}/>\r\n                </Form.Group>\r\n                \r\n                <Form.Group controlId=\"formContactUsEmail\">\r\n                    <Form.Label>דואר אלקטרוני</Form.Label>\r\n                    <Form.Control type=\"email\" value={email} className={showEmailError ? 'is-invalid' : null} onChange={e => { setEmail(e.target.value) }} />\r\n                    <Form.Control.Feedback type=\"invalid\">כתובת מייל לא תקינה</Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsSubject\">\r\n                    <Form.Label>נושא</Form.Label>\r\n                    <Form.Control type=\"text\" value={subject}  onChange={e => {setSubject(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formContactUsRequest\">\r\n                    <Form.Label>תוכן הפניה</Form.Label>\r\n                    <Form.Control as=\"textarea\" value={request}  onChange={e => {setRequest(e.target.value)}}/>\r\n                </Form.Group>\r\n\r\n                <Form.Group>\r\n                    <Form.File id=\"formContactUsFile\" label='' data-browse=\"בחירת קבצים\" accept=\"image/*\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{filesAmount >0 ? `נבחרו ${filesAmount} קבצים` : 'ניתן לבחור מספר קבצים'}</Form.Text>\r\n                    <CardColumns>\r\n                        {filesView}\r\n                    </CardColumns>\r\n                    {files && filesView === null && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n                <Button variant=\"warning\" type=\"button\" className='w-100' disabled={!isFormValid} onClick={sendForm}>\r\n                    שליחה\r\n                </Button>\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactUsPage;","import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './ImageCard.css';\r\n\r\nconst ImageCard = (props) => {\r\n    const { image, onClick, activeUser, handleDeleteClick } = props;\r\n    return (\r\n        <div className='c-image-card'>\r\n            <Card>\r\n                {image ? <Card.Img variant=\"top\" src={image.url}  onClick={onClick} /> : null}\r\n                {activeUser && activeUser.role === 'manager' &&\r\n                    <Card.Footer>\r\n                        <FontAwesomeIcon icon={faTrashAlt} onClick={() => {handleDeleteClick(image)}}/>\r\n                    </Card.Footer>}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImageCard;","import { faChevronLeft, faChevronRight } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Button, Col, Image, Modal } from 'react-bootstrap';\r\nimport './ImageModal.css'\r\n\r\nconst ImageModal = (props) => {\r\n    const { images, showModal, selectedImage, close, onImageChange } = props;\r\n\r\n    function nextImage() {\r\n        if (selectedImage === images.length - 1) {\r\n            onImageChange(0);\r\n        } else {\r\n            onImageChange(selectedImage + 1);\r\n        }\r\n    }\r\n\r\n    function prevImage() {\r\n        if (selectedImage === 0) {\r\n            onImageChange(images.length - 1);\r\n        } else {\r\n            onImageChange(selectedImage - 1);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-image-modal'>\r\n            <Modal.Body className='p-0 row'>\r\n                <Col xs={1} className='prev'>\r\n                    <a className='prev' variant='dark' onClick={prevImage}><FontAwesomeIcon icon={faChevronRight}/></a>\r\n                </Col>\r\n                <Col xs={10} className='p-0'>\r\n                    <Image src={images[selectedImage].url} />\r\n                    <Button onClick={close} className='modal-x-button' variant='outline-warning'>X</Button>\r\n                </Col>\r\n                <Col xs={1} className='next'>\r\n                    <a className='next' variant='dark' onClick={nextImage}><FontAwesomeIcon icon={faChevronLeft}/></a>\r\n                </Col>\r\n            </Modal.Body>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default ImageModal;","import Parse from 'parse';\r\n\r\nasync function getGalleryImages(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const imgQuery = new Parse.Query(Parse.Object.extend('Image'));\r\n    imgQuery.equalTo(\"gallery\", Gallery);\r\n\r\n    const results = await imgQuery.find();\r\n\r\n    const images = results.map(image => {\r\n        const desc = image.get('desc') ? image.get('desc') : '';\r\n        const url = image.get('file')._url;\r\n        const id = image.id;\r\n\r\n        return({\r\n            'id':id,\r\n            'desc':desc,\r\n            'url':url\r\n        })\r\n    });\r\n\r\n    return (images);\r\n}\r\nexport default getGalleryImages;","import Parse from 'parse';\r\nimport getGalleryMainImg from './getGalleryMainImg';\r\n\r\nasync function getGalleryDetails(galleryId) {\r\n\r\n    const Gallery = await new Parse.Query(new Parse.Object.extend('Gallery')).get(galleryId);\r\n    const galleryName = Gallery.get('title');\r\n    const galleryMainImg = await getGalleryMainImg(galleryId);\r\n\r\n    return ({'parseGallery':Gallery, 'title':galleryName, 'mainImg': galleryMainImg});\r\n}\r\nexport default getGalleryDetails;","import React from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport './AddImageCard.css';\r\n\r\nconst AddImageCard = (props) => {\r\n    const { onClick } = props;\r\n\r\n    return (\r\n        <Card className='c-add-image-card' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default AddImageCard;","\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Button, Card, CardColumns, Form, Modal, Spinner } from 'react-bootstrap';\r\nimport addImage from '../../utils/addImage';\r\nimport deleteImage from '../../utils/deleteImage';\r\n\r\nfunction AddImageModal(props) {\r\n    const {galleryTitle, galleryId, showModal, closeModal} = props;\r\n    const [images, setImages] = useState('');\r\n    const [imagesId, setImagesId] = useState([]);\r\n    const [imagesUrl, setImagesUrl] = useState([]);\r\n\r\n    function handleClose(params) {\r\n        closeModal();\r\n        setImages('');\r\n        setImagesId([]);\r\n        setImagesUrl([]);\r\n    }\r\n    \r\n    async function onFilesSelect(event) {\r\n        setImages(event.target.files);\r\n        const imagesArr = Object.values(event.target.files);\r\n        let newImagesId = [];\r\n        let newImagesUrl = [];\r\n        await Promise.all(imagesArr.map(async image => {\r\n            const res = await addImage(image, galleryId);\r\n            newImagesId.push(res.id);\r\n            newImagesUrl.push(res.get('file')._url);\r\n            \r\n        }));\r\n        setImagesId(newImagesId);\r\n        setImagesUrl(newImagesUrl);\r\n    }\r\n    \r\n    function closeClicked() {\r\n        imagesId && imagesId.map(image => {\r\n            deleteImage(image);\r\n        });\r\n        handleClose();\r\n    }\r\n    \r\n    function addClicked() {\r\n        handleClose();\r\n    }\r\n    \r\n    const imagesAmount = images ? images.length : 0;\r\n\r\n    const imagesView = imagesUrl ? imagesUrl.map((imageUrl, index) =>\r\n        <Card key={index}>\r\n            <Card.Img src={imageUrl}/>\r\n        </Card>\r\n    ) : null;\r\n\r\n    return (\r\n        <Modal className='c-add-image-modal' size={'md'} show={showModal} onHide={handleClose} centered backdrop=\"static\" keyboard={false}>\r\n            <Modal.Header>\r\n                <Modal.Title>הוספת תמונות לגלריה <span className='font-weight-bold'>{galleryTitle}</span></Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Form.Group>\r\n                    <Form.File id=\"formFiles\" label={images ? 'filesNames' : 'בחירת קבצים'} data-browse=\"בחירת קבצים\" accept=\"image/*\" custom multiple onChange={onFilesSelect}/>\r\n                    <Form.Text className=\"text-muted\">{imagesAmount >0 ? `נבחרו ${imagesAmount} קבצים` : 'ניתן לבחור מספר קבצים יחד'}</Form.Text>\r\n                    <CardColumns>\r\n                        {imagesView}\r\n                    </CardColumns>\r\n                    {images && imagesView.length === 0 && \r\n                        <div className='images-spinner row justify-content-center mt-3'>\r\n                            <Spinner animation=\"border\" variant=\"warning\" />\r\n                        </div>\r\n                    }\r\n                </Form.Group>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={closeClicked} disabled={images && imagesView.length === 0}>ביטול</Button>\r\n                <Button variant=\"warning\" onClick={addClicked} disabled={imagesView.length === 0}>הוספה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default AddImageModal;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { CardColumns, Container, Spinner } from 'react-bootstrap';\r\nimport './GalleryPage.css'\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport ImageCard from '../../components/ImageCard/ImageCard';\r\nimport ImageModal from '../../components/ImageModal/ImageModal';\r\nimport getGalleryImages from '../../utils/getGalleryImages';\r\nimport getGalleryDetails from '../../utils/getGalleryDetails';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport AddImageCard from '../../components/ImageCard/AddImageCard';\r\nimport AddImageModal from '../../components/AddImage/AddImageModal';\r\n\r\nconst GalleryPage = () => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [images, setImages] = useState([]);\r\n    const [galleryTitle, setGalleryTitle] = useState('');\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showAddImage, setShowAddImage] = useState(false);\r\n    const [imageToEdit, setImageToEdit] = useState('');\r\n\r\n    const galleryId = useParams().id;\r\n\r\n    useEffect(() => {\r\n        async function getImages (){\r\n            const images = await getGalleryImages(galleryId);\r\n            const title = (await getGalleryDetails(galleryId)).title;\r\n            setImages(images);\r\n            setGalleryTitle(title);\r\n        }\r\n        \r\n        getImages();\r\n        \r\n    },[showDeleteAlert, showAddImage, imageToEdit])\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    function onImageSelect (index) {\r\n        setShowImageModal(true);\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function onImageChange (index){\r\n        setSelectedImage(index);\r\n    }\r\n\r\n    function handleDeleteClick(image) {\r\n        setImageToEdit(image);\r\n        setShowDeleteAlert(true);\r\n    } \r\n    \r\n    const addImage = activeUser && activeUser.role === 'manager' && <AddImageCard onClick={() => {setShowAddImage(true)}}/>;\r\n\r\n    const imagesView = images && images.map((image, index) =>\r\n        <ImageCard image={image} key={image.id} activeUser={activeUser} onClick={() => onImageSelect(index)} handleDeleteClick={handleDeleteClick}/>);\r\n\r\n    if (!galleryTitle) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-gallery'>\r\n            <h2>{galleryTitle}</h2>\r\n            <Container>\r\n                <CardColumns>\r\n                    {addImage}\r\n                    {imagesView}\r\n                </CardColumns>\r\n            </Container>\r\n            {selectedImage !== null && images.length>0 &&\r\n                <ImageModal images={images} showModal={showImageModal} selectedImage={selectedImage} close={() => { setShowImageModal(false) }} onImageChange={onImageChange} />}\r\n            <DeleteWarningModal data={imageToEdit} objectType='תמונה' showModal={showDeleteAlert}\r\n                closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setImageToEdit('') }} />\r\n            {images && <AddImageModal galleryTitle={galleryTitle} galleryId={galleryId} showModal={showAddImage} closeModal={() => {setShowAddImage(false)}}/>}\r\n        </div>\r\n    )\r\n}\r\nexport default GalleryPage;","import './StudyTopicBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst StudyTopicBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='c-study-topic-box mb-4'>\r\n            {deleteIcon}\r\n            {editIcon}\r\n            <Card.Title>{headline}</Card.Title>\r\n            <Card.Text>{content}</Card.Text>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default StudyTopicBox;","import Parse from 'parse';\r\nimport getHebrewDate from './getHebrewDate';\r\n\r\nasync function getDafKesherDetails(dafKesherId) {\r\n    const DafKesher = await new Parse.Query(new Parse.Object.extend('DafKesher')).get(dafKesherId);\r\n    const data = DafKesher.get('data');\r\n    const title = DafKesher.get('title');\r\n    const hebDate = getHebrewDate(DafKesher.get('date'));\r\n\r\n\r\n    return ({'parseDafKesher':DafKesher, 'data':data, 'title':title, 'hebDate':hebDate})\r\n}\r\n\r\nexport default getDafKesherDetails;","\r\nfunction getRandomBgColor(props) {\r\n    \r\n    const bgColors = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\r\n    const randomBgColor = bgColors[Math.floor(Math.random() * bgColors.length)];\r\n\r\n    return randomBgColor;\r\n}\r\n\r\nexport default getRandomBgColor;","import './MessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport getRandomBgColor from '../../utils/getRandomBgColor';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faEdit, faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst MessageBox = ({topic, activeUser, onDeleteClick, onEditClick}) => {\r\n    const { headline, content } = topic;\r\n    \r\n    const bgColor = getRandomBgColor();\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    let editIcon = null, deleteIcon = null;\r\n    if (activeUser && activeUser.role === 'manager') {\r\n        editIcon = <FontAwesomeIcon className='edit-icon' icon={faEdit} onClick={onEditClick} />;\r\n        deleteIcon = <FontAwesomeIcon className='edit-icon' icon={faTrashAlt} onClick={onDeleteClick} />;\r\n    }    \r\n\r\n    return (\r\n        <Card className='c-message-box m-2' bg={bgColor} text={bgColor === 'light' ? 'dark' : 'white'}>\r\n            <Card.Body>\r\n                {deleteIcon}\r\n                {editIcon}\r\n                <Card.Title>{headline}</Card.Title>\r\n                <Card.Text>{content}</Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default MessageBox;","import './AddMessageBox.css';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\n\r\nconst AddMessageBox = ({onClick}) => {\r\n    \r\n    const activeUser = useContext(ActiveUserContext);\r\n    \r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n    \r\n    return (\r\n        <Card className='c-add-message-box m-2 text-center' bg={'light'} text={'dark'} onClick={onClick}>\r\n            <Card.Body>\r\n                <Card.Title>+</Card.Title>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default AddMessageBox;","import './AddStudyTopicBox.css';\r\nimport React, { useContext } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst AddStudyTopicBox = ({onClick}) => {\r\n    const activeUser = useContext(ActiveUserContext);\r\n\r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\"/>\r\n    }\r\n\r\n    return (\r\n        <div className='c-add-study-topic-box text-center' onClick={onClick}>\r\n            <Card.Title>+</Card.Title>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddStudyTopicBox;","import React, { useEffect, useState } from 'react';\r\nimport { Alert, Button, Form, Modal } from 'react-bootstrap';\r\nimport updateDafKesherContent from '../../utils/updateDafKesherContent';\r\n\r\n\r\nconst DafKesherEditorModal = (props) => {\r\n    const { dafKesherId, fullData, data, showModal, closeModal, cleanDataToEdit } = props;\r\n    const [headline, setHeadline] = useState();\r\n    const [content, setContent] = useState();\r\n    const [showError, setShowError] = useState(false);\r\n\r\n    useEffect(() => { \r\n        const type = typeof data;\r\n        if (type === 'object') {\r\n            setHeadline(fullData[data.type][data.index].headline);\r\n            setContent(fullData[data.type][data.index].content);\r\n        } else {\r\n            setHeadline('');\r\n            setContent('');\r\n        }\r\n    }, [data]);\r\n\r\n    function close () {\r\n        closeModal();\r\n        setShowError(false);\r\n        cleanDataToEdit();\r\n    }\r\n\r\n    function onSave() {\r\n        if (!(headline && content)) {\r\n            setShowError(true);\r\n        } else if (typeof data !== 'object') {\r\n            let newData = { ...fullData };\r\n            newData[data].push({ headline: headline, content: content });\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close()\r\n        } else {\r\n            let newData = { ...fullData };\r\n            newData[data.type][data.index].headline = headline;\r\n            newData[data.type][data.index].content = content;\r\n            updateDafKesherContent(dafKesherId, newData);\r\n            close();\r\n        }\r\n    }\r\n\r\n\r\n    const modalTitle = (typeof data) === 'object' ? 'עריכת תוכן דף קשר' : 'הוספת תוכן חדש';\r\n\r\n    return (\r\n        <Modal size='md' show={showModal} onHide={close} centered className='c-daf-kesher-editor-modal'>\r\n            <Modal.Header>\r\n                <Modal.Title>{modalTitle}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n            <Form>\r\n                <Form.Group controlId='headline'>\r\n                    <Form.Label>כותרת</Form.Label>\r\n                    <Form.Control type=\"text\" value={headline} onChange={e => { setHeadline(e.target.value) }} />\r\n                </Form.Group>\r\n                <Form.Group controlId='content'>\r\n                    <Form.Label>תוכן</Form.Label>\r\n                        <Form.Control as=\"textarea\" rows={5} value={content} onChange={e => {setContent(e.target.value)}} />\r\n                </Form.Group>\r\n                </Form>\r\n                {showError ? <Alert variant=\"danger\">נא למלא את כל השדות</Alert> : null}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={close}>סגירה</Button>\r\n                <Button variant=\"warning\" onClick={onSave}>שמירה</Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n}\r\n\r\nexport default DafKesherEditorModal;","import './DafKesherPage.css'\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Card, Col, Container, Row, Spinner } from 'react-bootstrap';\r\nimport { Redirect, useParams } from 'react-router-dom';\r\nimport StudyTopicBox from '../../components/StudyTopicBox/StudyTopicBox';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport getDafKesherDetails from '../../utils/getDafKesherDetails';\r\nimport getGardenDetails from '../../utils/getGardenDetails';\r\nimport MessageBox from '../../components/MessageBox/MessageBox';\r\nimport AddMessageBox from '../../components/MessageBox/AddMessageBox';\r\nimport AddStudyTopicBox from '../../components/StudyTopicBox/AddStudyTopicBox';\r\nimport DeleteWarningModal from '../../components/DeleteWarningModal/DeleteWarningModal';\r\nimport DafKesherEditorModal from '../../components/DafKesherEditorModal/DafKesherEditorModal';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCommentDots, faNewspaper } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction DafKesherPage() {\r\n    const activeUser = useContext(ActiveUserContext);\r\n    const [data, setData] = useState('');\r\n    const [header, setHeader] = useState('');\r\n    const [showDeleteAlert, setShowDeleteAlert] = useState(false);\r\n    const [showEditorModal, setShowEditorModal] = useState(false);\r\n    const [contentToEdit, setContentToEdit] = useState('');\r\n    \r\n    const dafKesherId = useParams().id;\r\n    \r\n    useEffect(() => {\r\n        async function getData() {\r\n            const dafKesher = await getDafKesherDetails(dafKesherId);\r\n            const gardenDetails = (await getGardenDetails(activeUser));\r\n            const header = {\r\n                'title': dafKesher.title,\r\n                'hebDate': dafKesher.hebDate,\r\n                'logo': gardenDetails.logo,\r\n                'name': gardenDetails.name\r\n            };\r\n            setHeader(header);\r\n            setData(dafKesher.data);\r\n        }\r\n        getData();\r\n    }, []);\r\n    \r\n    if (!activeUser) {\r\n        return <Redirect to=\"/\" />\r\n    }\r\n    \r\n    function handleAddClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleEditClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowEditorModal(true);\r\n    }\r\n\r\n    function handleDeleteClick(contentToEdit) {\r\n        setContentToEdit(contentToEdit);\r\n        setShowDeleteAlert(true);\r\n    }\r\n\r\n    const topicsView = data.studyTopics ? data.studyTopics.map( (topic, index) => \r\n        <div key={index}>\r\n            <StudyTopicBox topic={{ 'headline': topic.headline, 'content': topic.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'studyTopics', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'studyTopics', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addTopic = activeUser && activeUser.role === 'manager' && <AddStudyTopicBox onClick={() => { handleAddClick('studyTopics') }}/>;\r\n\r\n    const messagesView = data.messages ? data.messages.map( (message, index) => \r\n        <div key={index}>\r\n            <MessageBox topic={{ 'headline': message.headline, 'content': message.content }} activeUser={activeUser}\r\n                onEditClick={() => { handleEditClick({ type: 'messages', index: index }) }}\r\n                onDeleteClick={() => { handleDeleteClick({ type: 'messages', index: index }) }} />\r\n        </div>\r\n    ) : null;\r\n    \r\n    const addMessage = activeUser && activeUser.role === 'manager' && <AddMessageBox onClick={() => { handleAddClick('messages') }}/>;\r\n\r\n    if (data.length === 0) {\r\n        return <div className='images-spinner row justify-content-center mt-3'>\r\n                    <Spinner animation=\"border\" variant=\"warning\" />\r\n                </div>\r\n    }\r\n\r\n    return (\r\n        <div className='p-daf-kesher'>\r\n            <Container>\r\n                <Row className='mx-0 header'>\r\n                    <Col sm={9}>\r\n                        <div className='name'>{header.name}</div>\r\n                        <h2>{`דף קשר ${header.title}`}</h2>\r\n                        <div className='date'>{header.hebDate}</div>\r\n                    </Col>\r\n                    <Col sm={3} className='p-0'>\r\n                        {header.logo ? <div className='logo'><img src={header.logo} alt=\"logo\"/></div> : null}\r\n                    </Col>\r\n                </Row>\r\n                <Row>\r\n                    <Col md={8} className='mb-3'>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <span>מה למדנו השבוע?</span>\r\n                                <FontAwesomeIcon className='view-icon' icon={faNewspaper}/>\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                {topicsView}\r\n                                {addTopic}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </Col>\r\n                    <Col md={4}>\r\n                        <Card>\r\n                            <Card.Header as='h5'>\r\n                                <div>הודעות</div>\r\n                                <FontAwesomeIcon className='view-icon' icon={faCommentDots}/>\r\n                            </Card.Header>\r\n                            {messagesView}\r\n                            {addMessage}\r\n                        </Card>\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <DafKesherEditorModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} cardType='dafKesher'\r\n                showModal={showEditorModal} closeModal={() => setShowEditorModal(false)} cleanDataToEdit={() => { setContentToEdit('') }}/>\r\n            <DeleteWarningModal dafKesherId={dafKesherId} fullData={data} data={contentToEdit} objectType={contentToEdit.type === 'studyTopics' ? 'חומר לימודי' : 'הודעה'}\r\n                showModal={showDeleteAlert} closeModal={() => setShowDeleteAlert(false)} cleanDataToEdit={() => { setContentToEdit('') }} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DafKesherPage;","\r\nfunction getGreeting() {\r\n    const date = new Date();\r\n    const hour = date.getHours();\r\n    \r\n    let greeting;\r\n    if (hour >=4 && hour <=10) {\r\n        greeting = 'בוקר טוב';\r\n    } else if (hour >= 11 && hour <=16) {\r\n        greeting = 'צהריים טובים';\r\n    } else if (hour >= 17 && hour <=20) {\r\n        greeting = 'ערב טוב';\r\n    } else {\r\n        greeting = 'לילה טוב';\r\n    }\r\n    \r\n    return greeting;\r\n}\r\n\r\nexport default getGreeting;","import { Button, Nav, Navbar } from 'react-bootstrap';\r\nimport './TopNavbar.css';\r\nimport logo from '../../images/logo192.png';\r\nimport { useContext } from 'react';\r\nimport ActiveUserContext from '../../utils/ActiveUserContext';\r\nimport { useLocation } from 'react-router-dom';\r\nimport getGreeting from '../../utils/getGreeting';\r\n\r\nconst TopNavbar = ({ onLogout }) => {\r\n\r\n  const activeUser = useContext(ActiveUserContext);\r\n\r\n  const path = useLocation().pathname.split('/')[1];\r\n\r\n  const greeting = getGreeting();\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\">\r\n      <Navbar.Brand href=\"#/\" className='ml-2'>\r\n        <img src={logo} alt=\"Digital Garden logo\" className=\"d-inline-block align-top\"/>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav className={activeUser ? \"ml-auto\" : \"mr-auto\"}>\r\n          \r\n          { activeUser ?\r\n          <>\r\n            <Nav.Link href=\"#/my-garden\" active={path === 'my-garden' ? true : false}>הגן שלי</Nav.Link>\r\n            <Nav.Link href=\"#/dapey-kesher\" active={path === 'dapey-kesher' ? true : false}>דפי קשר</Nav.Link>\r\n            <Nav.Link href=\"#/galleries\" active={path === 'galleries' ? true : false}>גלריות</Nav.Link>\r\n          </> : null}\r\n\r\n          <Nav.Link href=\"#/contact-us\" active={path === 'contact-us' ? true : false}>צור קשר</Nav.Link>\r\n        </Nav>\r\n        \r\n        { activeUser ?\r\n        <Nav>\r\n          <Navbar.Text>{`${greeting}, ${activeUser.fname}`}</Navbar.Text>\r\n          <Button as='a' variant='' onClick={onLogout}>התנתק</Button>\r\n        </Nav> : null}\r\n\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n}\r\n\r\nexport default TopNavbar;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport HomePage from './pages/HomePage/HomePage';\nimport MyGardenPage from './pages/MyGardenPage/MyGardenPage';\nimport DapeyKesherPage from './pages/DapeyKesherPage/DapeyKesherPage';\nimport GalleriesPage from './pages/GalleriesPage/GalleriesPage';\nimport ContactUsPage from './pages/ContactUsPage/ContactUsPage';\nimport { useState } from 'react';\nimport ActiveUserContext from './utils/ActiveUserContext';\nimport Parse from 'parse';\nimport UserModel from './model/UserModel';\nimport GalleryPage from './pages/GalleryPage/GalleryPage';\nimport DafKesherPage from './pages/DafKesherPage/DafKesherPage';\nimport TopNavbar from './components/TopNavbar/TopNavbar';\nimport{ init } from 'emailjs-com';\n\nfunction App() {\n  const [activeUser, setActiveUser] = useState(Parse.User.current() ? new UserModel(Parse.User.current()) : null);\n  \n  init(\"user_AV4NvFTR6vJnUEHOtXINx\");\n  const handleLogin = (loggedinUser) => {\n    setActiveUser(loggedinUser);\n  }\n\n  const handleLogout = () => {\n    setActiveUser(null);\n    Parse.User.logOut();\n  }\n\n  return (\n    <>\n      <HashRouter>\n        <Switch>\n          <ActiveUserContext.Provider value={activeUser}>\n            <TopNavbar onLogout={handleLogout}/>\n            <Route exact path=\"/\"><HomePage onLogin={handleLogin} /></Route>\n            <Route exact path=\"/my-garden\"><MyGardenPage /></Route>\n            <Route exact path=\"/dapey-kesher\"><DapeyKesherPage /></Route>\n            <Route exact path=\"/dapey-kesher/:id\"><DafKesherPage /></Route>\n            <Route exact path=\"/galleries\"><GalleriesPage /></Route>\n            <Route exact path=\"/galleries/:id\"><GalleryPage /></Route>\n            <Route exact path=\"/contact-us\"><ContactUsPage /></Route>\n          </ActiveUserContext.Provider>\n        </Switch>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Parse from \"parse\";\n\nParse.serverURL = 'https://parseapi.back4app.com';\nParse.initialize(\n  'YjX6kib1y4ZL0wYCCXagO161JHCAZNLF8vz04iNh', // This is your Application ID\n  'YYhfXbq4guVCOl4BhV5Jcvfh43NNbDbIpAqI2LzG', // This is your Javascript key\n)\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}